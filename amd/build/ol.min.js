function _typeof(e){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(e){return typeof e}}else{_typeof=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}(function(e,t){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=t()}else if("function"==typeof define&&define.amd){define ("mod_treasurehunt/ol",[],t)}else{e.ol=t()}})(this,function(){var OPENLAYERS={},goog=this.goog={};this.CLOSURE_NO_DEPS=!0;var COMPILED=!1,goog=goog||{};goog.global=this;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(e){return void 0!==e};goog.isString=function(e){return"string"==typeof e};goog.isBoolean=function(e){return"boolean"==typeof e};goog.isNumber=function(e){return"number"==typeof e};goog.exportPath_=function(e,t,r){var o=e.split("."),i=r||goog.global;if(!(o[0]in i)&&i.execScript){i.execScript("var "+o[0])}for(var n;o.length&&(n=o.shift());){if(!o.length&&goog.isDef(t)){i[n]=t}else if(i[n]&&i[n]!==Object.prototype[n]){i=i[n]}else{i=i[n]={}}}};goog.define=function(e,t){var r=t;if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&void 0===goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)){r=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]}else if(goog.global.CLOSURE_DEFINES&&void 0===goog.global.CLOSURE_DEFINES.nodeType&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)){r=goog.global.CLOSURE_DEFINES[e]}goog.exportPath_(e,r)};goog.define("goog.DEBUG",!0);goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",!0);goog.define("goog.STRICT_MODE_COMPATIBLE",!1);goog.define("goog.DISALLOW_TEST_ONLY_CODE",!1);goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1);goog.provide=function(e){if(goog.isInModuleLoader_()){throw new Error("goog.provide can not be used within a goog.module.")}if(goog.isProvided_(e)){throw new Error("Namespace \""+e+"\" already declared.")}goog.constructNamespace_(e)};goog.constructNamespace_=function(e,t){delete goog.implicitNamespaces_[e];var r=e;while(r=r.substring(0,r.lastIndexOf("."))){if(goog.getObjectByName(r)){break}goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_)){throw new Error("Invalid module identifier")}if(!goog.isInModuleLoader_()){throw new Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.")}if(goog.moduleLoaderState_.moduleName){throw new Error("goog.module may only be called once per module.")}goog.moduleLoaderState_.moduleName=e;if(goog.isProvided_(e)){throw new Error("Namespace \""+e+"\" already declared.")}delete goog.implicitNamespaces_[e]};goog.module.get=function(e){return goog.module.getInternal_(e)};goog.module.getInternal_=function(e){if(e in goog.loadedModules_){return goog.loadedModules_[e]}else if(!goog.implicitNamespaces_[e]){var t=goog.getObjectByName(e);return null!=t?t:null}return null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareLegacyNamespace=function(){if(!goog.isInModuleLoader_()){throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module")}if(!goog.moduleLoaderState_.moduleName){throw new Error("goog.module must be called prior to goog.module.declareLegacyNamespace.")}goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE){e=e||"";throw new Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))}};goog.forwardDeclare=function(){};goog.forwardDeclare("Document");goog.forwardDeclare("HTMLScriptElement");goog.forwardDeclare("XMLHttpRequest");goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))};goog.implicitNamespaces_={"goog.module":!0};goog.getObjectByName=function(e,t){for(var r=e.split("."),o=t||goog.global,n=0;n<r.length;n++){o=o[r[n]];if(!goog.isDefAndNotNull(o)){return null}}return o};goog.globalize=function(e,t){var r=t||goog.global;for(var o in e){r[o]=e[o]}};goog.addDependency=function(e,t,r,o){if(goog.DEPENDENCIES_ENABLED){var n,a,p=e.replace(/\\/g,"/"),l=goog.dependencies_;if(!o||"boolean"==typeof o){o=o?{module:"goog"}:{}}for(var s=0;n=t[s];s++){l.nameToPath[n]=p;l.loadFlags[p]=o}for(var y=0;a=r[y];y++){if(!(p in l.requires)){l.requires[p]={}}l.requires[p][a]=!0}}};goog.define("goog.ENABLE_DEBUG_LOADER",!0);goog.logToConsole_=function(e){if(goog.global.console){goog.global.console.error(e)}};goog.require=function(e){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(e)}if(goog.isProvided_(e)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(e)}}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t){goog.writeScripts_(t)}else{var r="goog.require could not find: "+e;goog.logToConsole_(r);throw new Error(r)}}return null};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.abstractMethod=function(){throw new Error("unimplemented abstract method")};goog.addSingletonGetter=function(e){e.instance_=void 0;e.getInstance=function(){if(e.instance_){return e.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e}return e.instance_=new e}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",!0);goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=goog.ENABLE_DEBUG_LOADER;goog.define("goog.TRANSPILE","detect");goog.define("goog.TRANSPILER","transpile.js");if(goog.DEPENDENCIES_ENABLED){goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e};goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH)){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else if(!goog.inHtmlDocument_()){return}var e=goog.global.document,t=e.currentScript;if(t){var r=[t]}else{var r=e.getElementsByTagName("SCRIPT")}for(var o=r.length-1;0<=o;--o){var n=r[o],a=n.src,p=a.lastIndexOf("?"),s=-1==p?a.length:p;if("base.js"==a.substr(s-7,7)){goog.basePath=a.substr(0,s-7);return}}};goog.importScript_=function(e,t){var r=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(r(e,t)){goog.dependencies_.written[e]=!0}};goog.IS_OLD_IE_=!!(!goog.global.atob&&goog.global.document&&goog.global.document.all);goog.oldIeWaiting_=!1;goog.importProcessedScript_=function(e,t,r){goog.importScript_("","goog.retrieveAndExec_(\""+e+"\", "+t+", "+r+");")};goog.queuedModules_=[];goog.wrapModule_=function(e,t){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return"goog.loadModule(function(exports) {\"use strict\";"+t+"\n;return exports});\n//# sourceURL="+e+"\n"}else{return"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");"}};goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(0<e){var t=goog.queuedModules_;goog.queuedModules_=[];for(var r=0,o;r<e;r++){o=t[r];goog.maybeProcessDeferredPath_(o)}}goog.oldIeWaiting_=!1};goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}};goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e),r=t&&goog.dependencies_.loadFlags[t]||{},o=r.lang||"es3";if(t&&("goog"==r.module||goog.needsTranspile_(o))){var i=goog.basePath+t;return i in goog.dependencies_.deferred}return!1};goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires){for(var r in goog.dependencies_.requires[t]){if(!goog.isProvided_(r)&&!goog.isDeferredModule_(r)){return!1}}}return!0};goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e];goog.globalEval(t)}};goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,!0,!1)};goog.writeScriptSrcNode_=function(e){goog.global.document.write("<script type=\"text/javascript\" src=\""+e+"\"></script>")};goog.appendScriptSrcNode_=function(e){var t=goog.global.document,r=t.createElement("script");r.type="text/javascript";r.src=e;r.defer=!1;r.async=!1;t.head.appendChild(r)};goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var r=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==r.readyState){var o=/\bdeps.js$/.test(e);if(o){return!1}else{throw new Error("Cannot write \""+e+"\" after document load")}}if(t===void 0){if(!goog.IS_OLD_IE_){if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){goog.appendScriptSrcNode_(e)}else{goog.writeScriptSrcNode_(e)}}else{goog.oldIeWaiting_=!0;var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";r.write("<script type=\"text/javascript\" src=\""+e+"\""+i+"></script>")}}else{r.write("<script type=\"text/javascript\">"+goog.protectScriptTag_(t)+"</script>")}return!0}else{return!1}};goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/ig,"\\x3c/$1")};goog.needsTranspile_=function(e){if("always"==goog.TRANSPILE){return!0}else if("never"==goog.TRANSPILE){return!1}else if(!goog.requiresTranspilation_){goog.requiresTranspilation_=goog.createRequiresTranspilation_()}if(e in goog.requiresTranspilation_){return goog.requiresTranspilation_[e]}else{throw new Error("Unknown language mode: "+e)}};goog.requiresTranspilation_=null;goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(e,t){if("complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t){goog.loadQueuedModules_()}return!0};goog.writeScripts_=function(e){var r=[],o={},n=goog.dependencies_;function t(e){if(e in n.written){return}if(e in n.visited){return}n.visited[e]=!0;if(e in n.requires){for(var i in n.requires[e]){if(!goog.isProvided_(i)){if(i in n.nameToPath){t(n.nameToPath[i])}else{throw new Error("Undefined nameToPath for "+i)}}}}if(!(e in o)){o[e]=!0;r.push(e)}}t(e);for(var a=0,p;a<r.length;a++){p=r[a];goog.dependencies_.written[p]=!0}var l=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var a=0,p;a<r.length;a++){p=r[a];if(p){var s=n.loadFlags[p]||{},y=s.lang||"es3",c=goog.needsTranspile_(y);if("goog"==s.module||c){goog.importProcessedScript_(goog.basePath+p,"goog"==s.module,c)}else{goog.importScript_(goog.basePath+p)}}else{goog.moduleLoaderState_=l;throw new Error("Undefined script input")}}goog.moduleLoaderState_=l};goog.getPathFromDeps_=function(e){if(e in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[e]}else{return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+"deps.js")}}goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){var hasBadLetScoping;try{hasBadLetScoping=!eval("\"use strict\";let x = 1; function f() { return typeof x; };f() == \"number\";")}catch(t){hasBadLetScoping=!1}goog.hasBadLetScoping=hasBadLetScoping}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"};goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var r;if(goog.isFunction(e)){r=e.call(void 0,{})}else if(goog.isString(e)){if(goog.useSafari10Workaround()){e=goog.workaroundSafari10EvalBug(e)}r=goog.loadModuleFromSource_.call(void 0,e)}else{throw new Error("Invalid module definition")}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o){throw new Error("Invalid module name \""+o+"\"")}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(o,r)}else if(goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==_typeof(r)&&null!=r){Object.seal(r)}goog.loadedModules_[o]=r}finally{goog.moduleLoaderState_=t}};goog.loadModuleFromSource_=function(){'use strict';var exports={};eval(arguments[0]);return exports};goog.normalizePath_=function(e){var t=e.split("/"),r=0;while(r<t.length){if("."==t[r]){t.splice(r,1)}else if(r&&".."==t[r]&&t[r-1]&&".."!=t[r-1]){t.splice(--r,2)}else{r++}}return t.join("/")};goog.global.CLOSURE_LOAD_FILE_SYNC;goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC){return goog.global.CLOSURE_LOAD_FILE_SYNC(e)}else{try{var t=new goog.global.XMLHttpRequest;t.open("get",e,!1);t.send();return 0==t.status||200==t.status?t.responseText:null}catch(e){return null}}};goog.retrieveAndExec_=function(e,t,r){var o=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,n=goog.loadFileSync_(e);if(null==n){throw new Error("Load of \""+e+"\" failed")}if(r){n=goog.transpile_.call(goog.global,n,e)}if(t){n=goog.wrapModule_(e,n)}else{n+="\n//# sourceURL="+e}var a=goog.IS_OLD_IE_;if(a&&goog.oldIeWaiting_){goog.dependencies_.deferred[o]=n;goog.queuedModules_.push(o)}else{i(e,n)}};goog.transpile_=function(code,path){var jscomp=goog.global.$jscomp;if(!jscomp){goog.global.$jscomp=jscomp={}}var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER,transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){eval(transpilerCode+"\n//# sourceURL="+transpilerPath);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile){throw new Error("The transpiler did not properly export the \"transpile\" method. $gwtExport: "+JSON.stringify(goog.global.$gwtExport))}goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile;jscomp=goog.global.$jscomp;transpile=jscomp.transpile}}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(e,t){goog.logToConsole_(t+" requires transpilation but no transpiler was found.");return e}}return transpile(code,path)};goog.typeOf=function(e){var t=_typeof(e);if("object"==t){if(e){if(e instanceof Array){return"array"}else if(e instanceof Object){return t}var r=Object.prototype.toString.call(e);if("[object Window]"==r){return"object"}if("[object Array]"==r||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice")){return"array"}if("[object Function]"==r||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call")){return"function"}}else{return"null"}}else if("function"==t&&"undefined"==typeof e.call){return"object"}return t};goog.isNull=function(e){return null===e};goog.isDefAndNotNull=function(e){return null!=e};goog.isArray=function(e){return"array"==goog.typeOf(e)};goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length};goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear};goog.isFunction=function(e){return"function"==goog.typeOf(e)};goog.isObject=function(e){var t=_typeof(e);return"object"==t&&null!=e||"function"==t};goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]};goog.removeUid=function(e){if(null!==e&&"removeAttribute"in e){e.removeAttribute(goog.UID_PROPERTY_)}try{delete e[goog.UID_PROPERTY_]}catch(e){}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone){return e.clone()}var r="array"==t?[]:{};for(var o in e){r[o]=goog.cloneObject(e[o])}return r}return e};goog.bindNative_=function(e){return e.call.apply(e.bind,arguments)};goog.bindJs_=function(e,t){if(!e){throw new Error}if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(o,r);return e.apply(t,o)}}else{return function(){return e.apply(t,arguments)}}};goog.bind=function(){if(Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")){goog.bind=goog.bindNative_}else{goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();r.push.apply(r,arguments);return e.apply(this,r)}};goog.mixin=function(e,t){for(var r in t){e[r]=t[r]}};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(e){if(goog.global.execScript){goog.global.execScript(e,"JavaScript")}else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){goog.global.eval("var _evalTest_ = 1;");if("undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else{goog.evalWorksForGlobals_=!1}}if(goog.evalWorksForGlobals_){goog.global.eval(e)}else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript";r.defer=!1;r.appendChild(t.createTextNode(e));t.body.appendChild(r);t.body.removeChild(r)}}else{throw new Error("goog.globalEval not available")}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.global.CLOSURE_CSS_NAME_MAP_FN;goog.getCssName=function(e,t){if("."==(e+"").charAt(0)){throw new Error("className passed in goog.getCssName must not start with \".\". You passed: "+e)}var r=function(e){return goog.cssNameMapping_[e]||e},o=function(e){for(var t=e.split("-"),o=[],n=0;n<t.length;n++){o.push(r(t[n]))}return o.join("-")},i;if(goog.cssNameMapping_){i="BY_WHOLE"==goog.cssNameMappingStyle_?r:o}else{i=function(e){return e}}var n=t?e+"-"+i(t):i(e);if(goog.global.CLOSURE_CSS_NAME_MAP_FN){return goog.global.CLOSURE_CSS_NAME_MAP_FN(n)}return n};goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e;goog.cssNameMappingStyle_=t};goog.global.CLOSURE_CSS_NAME_MAPPING;if(goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(e,t){if(t){e=e.replace(/\{\$([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})}return e};goog.getMsgWithFallback=function(e){return e};goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)};goog.exportProperty=function(e,t,r){e[t]=r};goog.inherits=function(e,t){function r(){}r.prototype=t.prototype;e.superClass_=t.prototype;e.prototype=new r;e.prototype.constructor=e;e.base=function(e,r){for(var o=Array(arguments.length-2),n=2;n<arguments.length;n++){o[n-2]=arguments[n]}return t.prototype[r].apply(e,o)}};goog.base=function(e,t){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r){throw new Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C")}if(r.superClass_){for(var o=Array(arguments.length-1),n=1;n<arguments.length;n++){o[n-1]=arguments[n]}return r.superClass_.constructor.apply(e,o)}for(var a=Array(arguments.length-2),n=2;n<arguments.length;n++){a[n-2]=arguments[n]}for(var p=!1,l=e.constructor;l;l=l.superClass_&&l.superClass_.constructor){if(l.prototype[t]===r){p=!0}else if(p){return l.prototype[t].apply(e,a)}}if(e[t]===r){return e.constructor.prototype[t].apply(e,a)}else{throw new Error("goog.base called from a method of one name to a method of a different name")}};goog.scope=function(e){if(goog.isInModuleLoader_()){throw new Error("goog.scope is not supported within a goog.module.")}e.call(goog.global)};goog.global.COMPILED=!1;goog.defineClass=function(e,t){var r=t.constructor,o=t.statics;if(!r||r==Object.prototype.constructor){r=function(){throw new Error("cannot instantiate an interface (no constructor defined).")}}var i=goog.defineClass.createSealingConstructor_(r,e);if(e){goog.inherits(i,e)}delete t.constructor;delete t.statics;goog.defineClass.applyProperties_(i.prototype,t);if(null!=o){if(o instanceof Function){o(i)}else{goog.defineClass.applyProperties_(i,o)}}return i};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES){return e}var r=!goog.defineClass.isUnsealable_(t),o=function(){var t=e.apply(this,arguments)||this;t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_];if(this.constructor===o&&r&&Object.seal instanceof Function){Object.seal(t)}return t};return o};goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(e,t){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)){e[r]=t[r]}}for(var o=0;o<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;o++){r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[o];if(Object.prototype.hasOwnProperty.call(t,r)){e[r]=t[r]}}};goog.tagUnsealableClass=function(e){if(goog.defineClass.SEAL_CLASS_INSTANCES){e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.createRequiresTranspilation_=function(){var requiresTranspilation={es3:!1},transpilationRequiredForAllLaterModes=!1;function addNewerLanguageTranspilationCheck(e,t){if(transpilationRequiredForAllLaterModes){requiresTranspilation[e]=!0}else if(t()){requiresTranspilation[e]=!1}else{requiresTranspilation[e]=!0;transpilationRequiredForAllLaterModes=!0}}function evalCheck(code){try{return!!eval(code)}catch(e){return!1}}var userAgent=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";addNewerLanguageTranspilationCheck("es5",function(){return evalCheck("[1,].length==1")});addNewerLanguageTranspilationCheck("es6",function(){var e=/Edge\/(\d+)(\.\d)*/i,t=userAgent.match(e);if(t&&15>+t[1]){return!1}return evalCheck("(()=>{\"use strict\";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()")});addNewerLanguageTranspilationCheck("es6-impl",function(){return!0});addNewerLanguageTranspilationCheck("es7",function(){return evalCheck("2 ** 2 == 4")});addNewerLanguageTranspilationCheck("es8",function(){return evalCheck("async () => 1, true")});return requiresTranspilation};goog.provide("ol.array");ol.array.binarySearch=function(e,t,r){var o,i,n=r||ol.array.numberSafeCompareFunction,a=0,p=e.length,l=!1;while(a<p){o=a+(p-a>>1);i=+n(e[o],t);if(0>i){a=o+1}else{p=o;l=!i}}return l?a:~a};ol.array.numberSafeCompareFunction=function(e,t){return e>t?1:e<t?-1:0};ol.array.includes=function(e,t){return 0<=e.indexOf(t)};ol.array.linearFindNearest=function(e,t,r){var o=e.length;if(e[0]<=t){return 0}else if(t<=e[o-1]){return o-1}else{var n;if(0<r){for(n=1;n<o;++n){if(e[n]<t){return n-1}}}else if(0>r){for(n=1;n<o;++n){if(e[n]<=t){return n}}}else{for(n=1;n<o;++n){if(e[n]==t){return n}else if(e[n]<t){if(e[n-1]-t<t-e[n]){return n-1}else{return n}}}}return o-1}};ol.array.reverseSubArray=function(e,t,r){while(t<r){var o=e[t];e[t]=e[r];e[r]=o;++t;--r}};ol.array.extend=function(e,t){var r,o=Array.isArray(t)?t:[t],n=o.length;for(r=0;r<n;r++){e[e.length]=o[r]}};ol.array.remove=function(e,t){var r=e.indexOf(t),o=-1<r;if(o){e.splice(r,1)}return o};ol.array.find=function(e,t){for(var r=e.length>>>0,o,n=0;n<r;n++){o=e[n];if(t(o,n,e)){return o}}return null};ol.array.equals=function(e,t){var r=e.length;if(r!==t.length){return!1}for(var o=0;o<r;o++){if(e[o]!==t[o]){return!1}}return!0};ol.array.stableSort=function(e,t){var r=e.length,o=Array(e.length),n;for(n=0;n<r;n++){o[n]={index:n,value:e[n]}}o.sort(function(e,r){return t(e.value,r.value)||e.index-r.index});for(n=0;n<e.length;n++){e[n]=o[n].value}};ol.array.findIndex=function(e,t){var r,o=!e.every(function(o,i){r=i;return!t(o,i,e)});return o?r:-1};ol.array.isSorted=function(e,t,r){var o=t||ol.array.numberSafeCompareFunction;return e.every(function(t,i){if(0===i){return!0}var n=o(e[i-1],t);return!(0<n||r&&0===n)})};goog.provide("ol");ol.ASSUME_TOUCH=!1;ol.DEFAULT_MAX_ZOOM=42;ol.DEFAULT_MIN_ZOOM=0;ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5;ol.DEFAULT_TILE_SIZE=256;ol.DEFAULT_WMS_VERSION="1.3.0";ol.ENABLE_CANVAS=!0;ol.ENABLE_PROJ4JS=!0;ol.ENABLE_RASTER_REPROJECTION=!0;ol.ENABLE_WEBGL=!0;ol.DEBUG_WEBGL=!0;ol.INITIAL_ATLAS_SIZE=256;ol.MAX_ATLAS_SIZE=-1;ol.MOUSEWHEELZOOM_MAXDELTA=1;ol.OVERVIEWMAP_MAX_RATIO=.75;ol.OVERVIEWMAP_MIN_RATIO=.1;ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100;ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10;ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25;ol.SIMPLIFY_TOLERANCE=.5;ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024;ol.VERSION="";ol.WEBGL_MAX_TEXTURE_SIZE;ol.WEBGL_EXTENSIONS;ol.inherits=function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e};ol.nullFunction=function(){};ol.getUid=function(e){return e.ol_uid||(e.ol_uid=++ol.uidCounter_)};ol.uidCounter_=0;goog.provide("ol.AssertionError");goog.require("ol");ol.AssertionError=function(e){var t=ol.VERSION?ol.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+t+"/doc/errors/#"+e+" for details.";this.code=e;this.name="AssertionError"};ol.inherits(ol.AssertionError,Error);goog.provide("ol.asserts");goog.require("ol.AssertionError");ol.asserts.assert=function(e,t){if(!e){throw new ol.AssertionError(t)}};goog.provide("ol.TileRange");ol.TileRange=function(e,t,r,o){this.minX=e;this.maxX=t;this.minY=r;this.maxY=o};ol.TileRange.createOrUpdate=function(e,t,r,o,i){if(i!==void 0){i.minX=e;i.maxX=t;i.minY=r;i.maxY=o;return i}else{return new ol.TileRange(e,t,r,o)}};ol.TileRange.prototype.contains=function(e){return this.containsXY(e[1],e[2])};ol.TileRange.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY};ol.TileRange.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY};ol.TileRange.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY};ol.TileRange.prototype.extend=function(e){if(e.minX<this.minX){this.minX=e.minX}if(e.maxX>this.maxX){this.maxX=e.maxX}if(e.minY<this.minY){this.minY=e.minY}if(e.maxY>this.maxY){this.maxY=e.maxY}};ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1};ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1};ol.TileRange.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY};goog.provide("ol.math");goog.require("ol.asserts");ol.math.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)};ol.math.cosh=function(){var e;if("cosh"in Math){e=Math.cosh}else{e=function(e){var t=Math.exp(e);return(t+1/t)/2}}return e}();ol.math.roundUpToPowerOfTwo=function(e){ol.asserts.assert(0<e,29);return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))};ol.math.squaredSegmentDistance=function(e,r,o,i,n,a){var p=n-o,l=a-i;if(0!=p||0!==l){var s=((e-o)*p+(r-i)*l)/(p*p+l*l);if(1<s){o=n;i=a}else if(0<s){o+=p*s;i+=l*s}}return ol.math.squaredDistance(e,r,o,i)};ol.math.squaredDistance=function(e,t,r,o){var i=r-e,n=o-t;return i*i+n*n};ol.math.solveLinearSystem=function(e){for(var t=e.length,o=0;o<t;o++){for(var n=o,a=Math.abs(e[o][o]),p=o+1,s;p<t;p++){s=Math.abs(e[p][o]);if(s>a){a=s;n=p}}if(0===a){return null}var y=e[n];e[n]=e[o];e[o]=y;for(var c=o+1,d;c<t;c++){d=-e[c][o]/e[o][o];for(var g=o;g<t+1;g++){if(o==g){e[c][g]=0}else{e[c][g]+=d*e[o][g]}}}}for(var u=Array(t),_=t-1;0<=_;_--){u[_]=e[_][t]/e[_][_];for(var f=_-1;0<=f;f--){e[f][t]-=e[f][_]*u[_]}}return u};ol.math.toDegrees=function(e){return 180*e/Math.PI};ol.math.toRadians=function(e){return e*Math.PI/180};ol.math.modulo=function(e,t){var o=e%t;return 0>o*t?o+t:o};ol.math.lerp=function(e,t,r){return e+r*(t-e)};goog.provide("ol.size");ol.size.buffer=function(e,t,r){if(r===void 0){r=[0,0]}r[0]=e[0]+2*t;r[1]=e[1]+2*t;return r};ol.size.hasArea=function(e){return 0<e[0]&&0<e[1]};ol.size.scale=function(e,t,r){if(r===void 0){r=[0,0]}r[0]=0|e[0]*t+.5;r[1]=0|e[1]*t+.5;return r};ol.size.toSize=function(e,t){if(Array.isArray(e)){return e}else{if(t===void 0){t=[e,e]}else{t[0]=t[1]=e}return t}};goog.provide("ol.extent.Corner");ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};goog.provide("ol.extent.Relationship");ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};goog.provide("ol.extent");goog.require("ol.asserts");goog.require("ol.extent.Corner");goog.require("ol.extent.Relationship");ol.extent.boundingExtent=function(e){for(var t=ol.extent.createEmpty(),r=0,o=e.length;r<o;++r){ol.extent.extendCoordinate(t,e[r])}return t};ol.extent.boundingExtentXYs_=function(e,t,r){var o=Math.min.apply(null,e),i=Math.min.apply(null,t),n=Math.max.apply(null,e),a=Math.max.apply(null,t);return ol.extent.createOrUpdate(o,i,n,a,r)};ol.extent.buffer=function(e,t,r){if(r){r[0]=e[0]-t;r[1]=e[1]-t;r[2]=e[2]+t;r[3]=e[3]+t;return r}else{return[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}};ol.extent.clone=function(e,t){if(t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}else{return e.slice()}};ol.extent.closestSquaredDistanceXY=function(e,t,r){var o,i;if(t<e[0]){o=e[0]-t}else if(e[2]<t){o=t-e[2]}else{o=0}if(r<e[1]){i=e[1]-r}else if(e[3]<r){i=r-e[3]}else{i=0}return o*o+i*i};ol.extent.containsCoordinate=function(e,t){return ol.extent.containsXY(e,t[0],t[1])};ol.extent.containsExtent=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]};ol.extent.containsXY=function(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]};ol.extent.coordinateRelationship=function(e,t){var r=e[0],o=e[1],i=e[2],n=e[3],a=t[0],p=t[1],l=ol.extent.Relationship.UNKNOWN;if(a<r){l=l|ol.extent.Relationship.LEFT}else if(a>i){l=l|ol.extent.Relationship.RIGHT}if(p<o){l=l|ol.extent.Relationship.BELOW}else if(p>n){l=l|ol.extent.Relationship.ABOVE}if(l===ol.extent.Relationship.UNKNOWN){l=ol.extent.Relationship.INTERSECTING}return l};ol.extent.createEmpty=function(){return[1/0,1/0,-Infinity,-Infinity]};ol.extent.createOrUpdate=function(e,t,r,o,i){if(i){i[0]=e;i[1]=t;i[2]=r;i[3]=o;return i}else{return[e,t,r,o]}};ol.extent.createOrUpdateEmpty=function(e){return ol.extent.createOrUpdate(1/0,1/0,-Infinity,-Infinity,e)};ol.extent.createOrUpdateFromCoordinate=function(e,t){var r=e[0],o=e[1];return ol.extent.createOrUpdate(r,o,r,o,t)};ol.extent.createOrUpdateFromCoordinates=function(e,t){var r=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendCoordinates(r,e)};ol.extent.createOrUpdateFromFlatCoordinates=function(e,t,r,o,i){var n=ol.extent.createOrUpdateEmpty(i);return ol.extent.extendFlatCoordinates(n,e,t,r,o)};ol.extent.createOrUpdateFromRings=function(e,t){var r=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendRings(r,e)};ol.extent.equals=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]};ol.extent.extend=function(e,t){if(t[0]<e[0]){e[0]=t[0]}if(t[2]>e[2]){e[2]=t[2]}if(t[1]<e[1]){e[1]=t[1]}if(t[3]>e[3]){e[3]=t[3]}return e};ol.extent.extendCoordinate=function(e,t){if(t[0]<e[0]){e[0]=t[0]}if(t[0]>e[2]){e[2]=t[0]}if(t[1]<e[1]){e[1]=t[1]}if(t[1]>e[3]){e[3]=t[1]}};ol.extent.extendCoordinates=function(e,t){var r,o;for(r=0,o=t.length;r<o;++r){ol.extent.extendCoordinate(e,t[r])}return e};ol.extent.extendFlatCoordinates=function(e,t,r,o,i){for(;r<o;r+=i){ol.extent.extendXY(e,t[r],t[r+1])}return e};ol.extent.extendRings=function(e,t){var r,o;for(r=0,o=t.length;r<o;++r){ol.extent.extendCoordinates(e,t[r])}return e};ol.extent.extendXY=function(e,t,r){e[0]=Math.min(e[0],t);e[1]=Math.min(e[1],r);e[2]=Math.max(e[2],t);e[3]=Math.max(e[3],r)};ol.extent.forEachCorner=function(e,t,r){var o=t.call(r,ol.extent.getBottomLeft(e));if(o){return o}o=t.call(r,ol.extent.getBottomRight(e));if(o){return o}o=t.call(r,ol.extent.getTopRight(e));if(o){return o}o=t.call(r,ol.extent.getTopLeft(e));if(o){return o}return!1};ol.extent.getArea=function(e){var t=0;if(!ol.extent.isEmpty(e)){t=ol.extent.getWidth(e)*ol.extent.getHeight(e)}return t};ol.extent.getBottomLeft=function(e){return[e[0],e[1]]};ol.extent.getBottomRight=function(e){return[e[2],e[1]]};ol.extent.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]};ol.extent.getCorner=function(e,t){var r;if(t===ol.extent.Corner.BOTTOM_LEFT){r=ol.extent.getBottomLeft(e)}else if(t===ol.extent.Corner.BOTTOM_RIGHT){r=ol.extent.getBottomRight(e)}else if(t===ol.extent.Corner.TOP_LEFT){r=ol.extent.getTopLeft(e)}else if(t===ol.extent.Corner.TOP_RIGHT){r=ol.extent.getTopRight(e)}else{ol.asserts.assert(!1,13)}return r};ol.extent.getEnlargedArea=function(e,t){var r=Math.min(e[0],t[0]),o=Math.min(e[1],t[1]),i=Math.max(e[2],t[2]),n=Math.max(e[3],t[3]);return(i-r)*(n-o)};ol.extent.getForViewAndSize=function(e,t,r,o,i){var n=t*o[0]/2,a=t*o[1]/2,p=Math.cos(r),l=Math.sin(r),s=n*p,c=n*l,d=a*p,g=a*l,m=e[0],u=e[1],y=m-s+g,_=m-s-g,f=m+s-g,S=m+s+g,x=u-c-d,P=u-c+d,T=u+c+d,E=u+c-d;return ol.extent.createOrUpdate(Math.min(y,_,f,S),Math.min(x,P,T,E),Math.max(y,_,f,S),Math.max(x,P,T,E),i)};ol.extent.getHeight=function(e){return e[3]-e[1]};ol.extent.getIntersectionArea=function(e,t){var r=ol.extent.getIntersection(e,t);return ol.extent.getArea(r)};ol.extent.getIntersection=function(e,t,r){var o=r?r:ol.extent.createEmpty();if(ol.extent.intersects(e,t)){if(e[0]>t[0]){o[0]=e[0]}else{o[0]=t[0]}if(e[1]>t[1]){o[1]=e[1]}else{o[1]=t[1]}if(e[2]<t[2]){o[2]=e[2]}else{o[2]=t[2]}if(e[3]<t[3]){o[3]=e[3]}else{o[3]=t[3]}}return o};ol.extent.getMargin=function(e){return ol.extent.getWidth(e)+ol.extent.getHeight(e)};ol.extent.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]};ol.extent.getTopLeft=function(e){return[e[0],e[3]]};ol.extent.getTopRight=function(e){return[e[2],e[3]]};ol.extent.getWidth=function(e){return e[2]-e[0]};ol.extent.intersects=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]};ol.extent.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]};ol.extent.returnOrUpdate=function(e,t){if(t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}else{return e}};ol.extent.scaleFromCenter=function(e,t){var r=(e[2]-e[0])/2*(t-1),o=(e[3]-e[1])/2*(t-1);e[0]-=r;e[2]+=r;e[1]-=o;e[3]+=o};ol.extent.intersectsSegment=function(e,t,r){var o=!1,i=ol.extent.coordinateRelationship(e,t),n=ol.extent.coordinateRelationship(e,r);if(i===ol.extent.Relationship.INTERSECTING||n===ol.extent.Relationship.INTERSECTING){o=!0}else{var a=e[0],p=e[1],l=e[2],s=e[3],c=t[0],d=t[1],g=r[0],m=r[1],u=(m-d)/(g-c),_,f;if(!!(n&ol.extent.Relationship.ABOVE)&&!(i&ol.extent.Relationship.ABOVE)){_=g-(m-s)/u;o=_>=a&&_<=l}if(!o&&!!(n&ol.extent.Relationship.RIGHT)&&!(i&ol.extent.Relationship.RIGHT)){f=m-(g-l)*u;o=f>=p&&f<=s}if(!o&&!!(n&ol.extent.Relationship.BELOW)&&!(i&ol.extent.Relationship.BELOW)){_=g-(m-p)/u;o=_>=a&&_<=l}if(!o&&!!(n&ol.extent.Relationship.LEFT)&&!(i&ol.extent.Relationship.LEFT)){f=m-(g-a)*u;o=f>=p&&f<=s}}return o};ol.extent.applyTransform=function(e,t,r){var o=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(o,o,2);var i=[o[0],o[2],o[4],o[6]],n=[o[1],o[3],o[5],o[7]];return ol.extent.boundingExtentXYs_(i,n,r)};goog.provide("ol.obj");ol.obj.assign="function"==typeof Object.assign?Object.assign:function(e){if(e===void 0||null===e){throw new TypeError("Cannot convert undefined or null to object")}for(var t=Object(e),r=1,o=arguments.length,n;r<o;++r){n=arguments[r];if(n!==void 0&&null!==n){for(var a in n){if(n.hasOwnProperty(a)){t[a]=n[a]}}}}return t};ol.obj.clear=function(e){for(var t in e){delete e[t]}};ol.obj.getValues=function(e){var t=[];for(var r in e){t.push(e[r])}return t};ol.obj.isEmpty=function(e){for(var t in e){return!1}return!t};goog.provide("ol.geom.GeometryType");ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};goog.provide("ol.Sphere");goog.require("ol.math");goog.require("ol.geom.GeometryType");ol.Sphere=function(e){this.radius=e};ol.Sphere.prototype.geodesicArea=function(e){return ol.Sphere.getArea_(e,this.radius)};ol.Sphere.prototype.haversineDistance=function(e,t){return ol.Sphere.getDistance_(e,t,this.radius)};ol.Sphere.prototype.offset=function(e,t,r){var o=ol.math.toRadians(e[1]),i=ol.math.toRadians(e[0]),n=t/this.radius,a=Math.asin(Math.sin(o)*Math.cos(n)+Math.cos(o)*Math.sin(n)*Math.cos(r)),p=i+Math.atan2(Math.sin(r)*Math.sin(n)*Math.cos(o),Math.cos(n)-Math.sin(o)*Math.sin(a));return[ol.math.toDegrees(p),ol.math.toDegrees(a)]};ol.Sphere.DEFAULT_RADIUS=6371008.8;ol.Sphere.getLength=function(e,t){var r=t||{},o=r.radius||ol.Sphere.DEFAULT_RADIUS,n=r.projection||"EPSG:3857";e=e.clone().transform(n,"EPSG:4326");var a=e.getType(),p=0,l,s,y,c,d,g;switch(a){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:{break}case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:{l=e.getCoordinates();p=ol.Sphere.getLength_(l,o);break}case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:{l=e.getCoordinates();for(y=0,c=l.length;y<c;++y){p+=ol.Sphere.getLength_(l[y],o)}break}case ol.geom.GeometryType.MULTI_POLYGON:{l=e.getCoordinates();for(y=0,c=l.length;y<c;++y){s=l[y];for(d=0,g=s.length;d<g;++d){p+=ol.Sphere.getLength_(s[d],o)}}break}case ol.geom.GeometryType.GEOMETRY_COLLECTION:{var m=e.getGeometries();for(y=0,c=m.length;y<c;++y){p+=ol.Sphere.getLength(m[y],t)}break}default:{throw new Error("Unsupported geometry type: "+a)}}return p};ol.Sphere.getLength_=function(e,t){for(var r=0,o=0,n=e.length;o<n-1;++o){r+=ol.Sphere.getDistance_(e[o],e[o+1],t)}return r};ol.Sphere.getDistance_=function(e,t,r){var o=ol.math.toRadians(e[1]),i=ol.math.toRadians(t[1]),n=(i-o)/2,p=ol.math.toRadians(t[0]-e[0])/2,l=Math.sin(n)*Math.sin(n)+Math.sin(p)*Math.sin(p)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))};ol.Sphere.getArea=function(e,t){var r=t||{},o=r.radius||ol.Sphere.DEFAULT_RADIUS,n=r.projection||"EPSG:3857";e=e.clone().transform(n,"EPSG:4326");var a=e.getType(),p=0,l,s,y,c,d,g;switch(a){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:{break}case ol.geom.GeometryType.POLYGON:{l=e.getCoordinates();p=Math.abs(ol.Sphere.getArea_(l[0],o));for(y=1,c=l.length;y<c;++y){p-=Math.abs(ol.Sphere.getArea_(l[y],o))}break}case ol.geom.GeometryType.MULTI_POLYGON:{l=e.getCoordinates();for(y=0,c=l.length;y<c;++y){s=l[y];p+=Math.abs(ol.Sphere.getArea_(s[0],o));for(d=1,g=s.length;d<g;++d){p-=Math.abs(ol.Sphere.getArea_(s[d],o))}}break}case ol.geom.GeometryType.GEOMETRY_COLLECTION:{var m=e.getGeometries();for(y=0,c=m.length;y<c;++y){p+=ol.Sphere.getArea(m[y],t)}break}default:{throw new Error("Unsupported geometry type: "+a)}}return p};ol.Sphere.getArea_=function(e,t){for(var r=0,o=e.length,n=e[o-1][0],a=e[o-1][1],p=0;p<o;p++){var l=e[p][0],s=e[p][1];r+=ol.math.toRadians(l-n)*(2+Math.sin(ol.math.toRadians(a))+Math.sin(ol.math.toRadians(s)));n=l;a=s}return r*t*t/2};goog.provide("ol.proj.Units");ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};ol.proj.Units.METERS_PER_UNIT={};ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=6370997*(2*Math.PI)/360;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937;goog.provide("ol.proj.proj4");ol.proj.proj4.cache_=null;ol.proj.proj4.set=function(e){ol.proj.proj4.cache_=e};ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window.proj4};goog.provide("ol.proj.Projection");goog.require("ol");goog.require("ol.proj.Units");goog.require("ol.proj.proj4");ol.proj.Projection=function(e){this.code_=e.code;this.units_=e.units;this.extent_=e.extent!==void 0?e.extent:null;this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null;this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu";this.global_=e.global!==void 0?e.global:!1;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=e.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=e.metersPerUnit;var t=e.code;if(ol.ENABLE_PROJ4JS){var r=ol.proj.proj4.get();if("function"==typeof r){var o=r.defs(t);if(o!==void 0){if(o.axis!==void 0&&e.axisOrientation===void 0){this.axisOrientation_=o.axis}if(e.metersPerUnit===void 0){this.metersPerUnit_=o.to_meter}if(e.units===void 0){this.units_=o.units}}}}};ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_};ol.proj.Projection.prototype.getCode=function(){return this.code_};ol.proj.Projection.prototype.getExtent=function(){return this.extent_};ol.proj.Projection.prototype.getUnits=function(){return this.units_};ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]};ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_};ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_};ol.proj.Projection.prototype.isGlobal=function(){return this.global_};ol.proj.Projection.prototype.setGlobal=function(e){this.global_=e;this.canWrapX_=!!(e&&this.extent_)};ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};ol.proj.Projection.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e};ol.proj.Projection.prototype.setExtent=function(e){this.extent_=e;this.canWrapX_=!!(this.global_&&e)};ol.proj.Projection.prototype.setWorldExtent=function(e){this.worldExtent_=e};ol.proj.Projection.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e};ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};goog.provide("ol.proj.EPSG3857");goog.require("ol");goog.require("ol.math");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");ol.proj.EPSG3857.Projection_=function(e){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:!0,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function getPointResolution(e,t){return e/ol.math.cosh(t[1]/ol.proj.EPSG3857.RADIUS)}})};ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection);ol.proj.EPSG3857.RADIUS=6378137;ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS;ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE];ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85];ol.proj.EPSG3857.PROJECTIONS=[new ol.proj.EPSG3857.Projection_("EPSG:3857"),new ol.proj.EPSG3857.Projection_("EPSG:102100"),new ol.proj.EPSG3857.Projection_("EPSG:102113"),new ol.proj.EPSG3857.Projection_("EPSG:900913"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG::3857"),new ol.proj.EPSG3857.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")];ol.proj.EPSG3857.fromEPSG4326=function(e,t,r){var o=e.length,n=1<r?r:2,a=t;if(a===void 0){if(2<n){a=e.slice()}else{a=Array(o)}}for(var p=ol.proj.EPSG3857.HALF_SIZE,l=0;l<o;l+=n){a[l]=p*e[l]/180;var s=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[l+1]+90)/360));if(s>p){s=p}else if(s<-p){s=-p}a[l+1]=s}return a};ol.proj.EPSG3857.toEPSG4326=function(e,t,r){var o=e.length,n=1<r?r:2,a=t;if(a===void 0){if(2<n){a=e.slice()}else{a=Array(o)}}for(var p=0;p<o;p+=n){a[p]=180*e[p]/ol.proj.EPSG3857.HALF_SIZE;a[p+1]=360*Math.atan(Math.exp(e[p+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90}return a};goog.provide("ol.proj.EPSG4326");goog.require("ol");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");ol.proj.EPSG4326.Projection_=function(e,t){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:t,global:!0,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})};ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection);ol.proj.EPSG4326.RADIUS=6378137;ol.proj.EPSG4326.EXTENT=[-180,-90,180,90];ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.proj.EPSG4326.RADIUS/180;ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_("CRS:84"),new ol.proj.EPSG4326.Projection_("EPSG:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];goog.provide("ol.proj.projections");ol.proj.projections.cache_={};ol.proj.projections.clear=function(){ol.proj.projections.cache_={}};ol.proj.projections.get=function(e){var t=ol.proj.projections.cache_;return t[e]||null};ol.proj.projections.add=function(e,t){var r=ol.proj.projections.cache_;r[e]=t};goog.provide("ol.proj.transforms");goog.require("ol.obj");ol.proj.transforms.cache_={};ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}};ol.proj.transforms.add=function(e,t,r){var o=e.getCode(),i=t.getCode(),n=ol.proj.transforms.cache_;if(!(o in n)){n[o]={}}n[o][i]=r};ol.proj.transforms.remove=function(e,t){var r=e.getCode(),o=t.getCode(),i=ol.proj.transforms.cache_,n=i[r][o];delete i[r][o];if(ol.obj.isEmpty(i[r])){delete i[r]}return n};ol.proj.transforms.get=function(e,t){var r,o=ol.proj.transforms.cache_;if(e in o&&t in o[e]){r=o[e][t]}return r};goog.provide("ol.proj");goog.require("ol");goog.require("ol.Sphere");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj.EPSG3857");goog.require("ol.proj.EPSG4326");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.proj4");goog.require("ol.proj.projections");goog.require("ol.proj.transforms");ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT;ol.proj.SPHERE_=new ol.Sphere(ol.Sphere.DEFAULT_RADIUS);if(ol.ENABLE_PROJ4JS){ol.proj.setProj4=function(e){ol.proj.proj4.set(e)}}ol.proj.getPointResolution=function(e,t,r,o){e=ol.proj.get(e);var i,n=e.getPointResolutionFunc();if(n){i=n(t,r)}else{var a=e.getUnits();if(a==ol.proj.Units.DEGREES&&!o||o==ol.proj.Units.DEGREES){i=t}else{var p=ol.proj.getTransformFromProjections(e,ol.proj.get("EPSG:4326")),l=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];l=p(l,l,2);var s=ol.proj.SPHERE_.haversineDistance(l.slice(0,2),l.slice(2,4)),y=ol.proj.SPHERE_.haversineDistance(l.slice(4,6),l.slice(6,8));i=(s+y)/2;var c=o?ol.proj.Units.METERS_PER_UNIT[o]:e.getMetersPerUnit();if(c!==void 0){i/=c}}}return i};ol.proj.addEquivalentProjections=function(e){ol.proj.addProjections(e);e.forEach(function(t){e.forEach(function(e){if(t!==e){ol.proj.transforms.add(t,e,ol.proj.cloneTransform)}})})};ol.proj.addEquivalentTransforms=function(e,t,r,o){e.forEach(function(e){t.forEach(function(t){ol.proj.transforms.add(e,t,r);ol.proj.transforms.add(t,e,o)})})};ol.proj.addProjection=function(e){ol.proj.projections.add(e.getCode(),e);ol.proj.transforms.add(e,e,ol.proj.cloneTransform)};ol.proj.addProjections=function(e){e.forEach(ol.proj.addProjection)};ol.proj.clearAllProjections=function(){ol.proj.projections.clear();ol.proj.transforms.clear()};ol.proj.createProjection=function(e,t){if(!e){return ol.proj.get(t)}else if("string"==typeof e){return ol.proj.get(e)}else{return e}};ol.proj.addCoordinateTransforms=function(e,t,r,o){var i=ol.proj.get(e),n=ol.proj.get(t);ol.proj.transforms.add(i,n,ol.proj.createTransformFromCoordinateTransform(r));ol.proj.transforms.add(n,i,ol.proj.createTransformFromCoordinateTransform(o))};ol.proj.createTransformFromCoordinateTransform=function(e){return function(t,r,o){var n=t.length,a=o!==void 0?o:2,p=r!==void 0?r:Array(n),l,s,y;for(s=0;s<n;s+=a){l=e([t[s],t[s+1]]);p[s]=l[0];p[s+1]=l[1];for(y=a-1;2<=y;--y){p[s+y]=t[s+y]}}return p}};ol.proj.fromLonLat=function(e,t){return ol.proj.transform(e,"EPSG:4326",t!==void 0?t:"EPSG:3857")};ol.proj.toLonLat=function(e,t){var r=ol.proj.transform(e,t!==void 0?t:"EPSG:3857","EPSG:4326"),o=r[0];if(-180>o||180<o){r[0]=ol.math.modulo(o+180,360)-180}return r};ol.proj.get=function(e){var t=null;if(e instanceof ol.proj.Projection){t=e}else if("string"==typeof e){var r=e;t=ol.proj.projections.get(r);if(ol.ENABLE_PROJ4JS&&!t){var o=ol.proj.proj4.get();if("function"==typeof o&&o.defs(r)!==void 0){t=new ol.proj.Projection({code:r});ol.proj.addProjection(t)}}}return t};ol.proj.equivalent=function(e,t){if(e===t){return!0}var r=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode()){return r}else{var o=ol.proj.getTransformFromProjections(e,t);return o===ol.proj.cloneTransform&&r}};ol.proj.getTransform=function(e,t){var r=ol.proj.get(e),o=ol.proj.get(t);return ol.proj.getTransformFromProjections(r,o)};ol.proj.getTransformFromProjections=function(e,t){var r=e.getCode(),o=t.getCode(),i=ol.proj.transforms.get(r,o);if(ol.ENABLE_PROJ4JS&&!i){var n=ol.proj.proj4.get();if("function"==typeof n){var a=n.defs(r),p=n.defs(o);if(a!==void 0&&p!==void 0){if(a===p){ol.proj.addEquivalentProjections([t,e])}else{var l=n(o,r);ol.proj.addCoordinateTransforms(t,e,l.forward,l.inverse)}i=ol.proj.transforms.get(r,o)}}}if(!i){i=ol.proj.identityTransform}return i};ol.proj.identityTransform=function(e,t){if(t!==void 0&&e!==t){for(var r=0,o=e.length;r<o;++r){t[r]=e[r]}e=t}return e};ol.proj.cloneTransform=function(e,t){var r;if(t!==void 0){for(var o=0,n=e.length;o<n;++o){t[o]=e[o]}r=t}else{r=e.slice()}return r};ol.proj.transform=function(e,t,r){var o=ol.proj.getTransform(t,r);return o(e,void 0,e.length)};ol.proj.transformExtent=function(e,t,r){var o=ol.proj.getTransform(t,r);return ol.extent.applyTransform(e,o)};ol.proj.transformWithProjections=function(e,t,r){var o=ol.proj.getTransformFromProjections(t,r);return o(e)};ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS);ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)};ol.proj.addCommon();goog.provide("ol.tilecoord");ol.tilecoord.createOrUpdate=function(e,t,r,o){if(o!==void 0){o[0]=e;o[1]=t;o[2]=r;return o}else{return[e,t,r]}};ol.tilecoord.getKeyZXY=function(e,t,r){return e+"/"+t+"/"+r};ol.tilecoord.getKey=function(e){return ol.tilecoord.getKeyZXY(e[0],e[1],e[2])};ol.tilecoord.fromKey=function(e){return e.split("/").map(Number)};ol.tilecoord.hash=function(e){return(e[1]<<e[0])+e[2]};ol.tilecoord.quadKey=function(e){var t=e[0],r=Array(t),o=1<<t-1,n,a;for(n=0;n<t;++n){a=48;if(e[1]&o){a+=1}if(e[2]&o){a+=2}r[n]=String.fromCharCode(a);o>>=1}return r.join("")};ol.tilecoord.withinExtentAndZ=function(e,t){var r=e[0],o=e[1],i=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom()){return!1}var n=t.getExtent(),a;if(!n){a=t.getFullTileRange(r)}else{a=t.getTileRangeForExtentAndZ(n,r)}if(!a){return!0}else{return a.containsXY(o,i)}};goog.provide("ol.tilegrid.TileGrid");goog.require("ol");goog.require("ol.asserts");goog.require("ol.TileRange");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.size");goog.require("ol.tilecoord");ol.tilegrid.TileGrid=function(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0;this.resolutions_=e.resolutions;ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(e,t){return t-e},!0),17);var t;if(!e.origins){for(var r=0,o=this.resolutions_.length-1;r<o;++r){if(!t){t=this.resolutions_[r]/this.resolutions_[r+1]}else{if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}}}this.zoomFactor_=t;this.maxZoom=this.resolutions_.length-1;this.origin_=e.origin!==void 0?e.origin:null;this.origins_=null;if(e.origins!==void 0){this.origins_=e.origins;ol.asserts.assert(this.origins_.length==this.resolutions_.length,20)}var n=e.extent;if(n!==void 0&&!this.origin_&&!this.origins_){this.origin_=ol.extent.getTopLeft(n)}ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(e.tileSizes!==void 0){this.tileSizes_=e.tileSizes;ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=e.tileSize!==void 0?e.tileSize:!this.tileSizes_?ol.DEFAULT_TILE_SIZE:null;ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=n!==void 0?n:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(e.sizes!==void 0){this.fullTileRanges_=e.sizes.map(function(e){var t=new ol.TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));return t},this)}else if(n){this.calculateTileRanges_(n)}};ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0];ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(e,t,r){for(var o=this.getTileRangeForExtentAndZ(e,t),n=o.minX,a=o.maxX;n<=a;++n){for(var p=o.minY,l=o.maxY;p<=l;++p){r([t,n,p])}}};ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(e,t,r,o,i){var n,a,p,l=null,s=e[0]-1;if(2===this.zoomFactor_){a=e[1];p=e[2]}else{l=this.getTileCoordExtent(e,i)}while(s>=this.minZoom){if(2===this.zoomFactor_){a=Math.floor(a/2);p=Math.floor(p/2);n=ol.TileRange.createOrUpdate(a,a,p,p,o)}else{n=this.getTileRangeForExtentAndZ(l,s,o)}if(t.call(r,s,n)){return!0}--s}return!1};ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_};ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom};ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom};ol.tilegrid.TileGrid.prototype.getOrigin=function(e){if(this.origin_){return this.origin_}else{return this.origins_[e]}};ol.tilegrid.TileGrid.prototype.getResolution=function(e){return this.resolutions_[e]};ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_};ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*e[1],i=2*e[2];return ol.TileRange.createOrUpdate(o,o+1,i,i+1,t)}var n=this.getTileCoordExtent(e,r);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null};ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,t,r){var o=this.getOrigin(e),i=this.getResolution(e),n=ol.size.toSize(this.getTileSize(e),this.tmpSize_),a=o[0]+t.minX*n[0]*i,p=o[0]+(t.maxX+1)*n[0]*i,l=o[1]+t.minY*n[1]*i,s=o[1]+(t.maxY+1)*n[1]*i;return ol.extent.createOrUpdate(a,l,p,s,r)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(e,t,r){var o=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,o);var i=o[1],n=o[2];this.getTileCoordForXYAndZ_(e[2],e[3],t,!0,o);return ol.TileRange.createOrUpdate(i,o[1],n,o[2],r)};ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*o[0]*r,t[1]+(e[2]+.5)*o[1]*r]};ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),o=this.getResolution(e[0]),i=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_),n=r[0]+e[1]*i[0]*o,a=r[1]+e[2]*i[1]*o,p=n+i[0]*o,l=a+i[1]*o;return ol.extent.createOrUpdate(n,a,p,l,t)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(e,t,r,o,i){var n=this.getZForResolution(r),a=r/this.getResolution(n),p=this.getOrigin(n),l=ol.size.toSize(this.getTileSize(n),this.tmpSize_),s=o?.5:0,y=o?0:.5,c=Math.floor((e-p[0])/r+s),d=Math.floor((t-p[1])/r+y),g=a*c/l[0],m=a*d/l[1];if(o){g=Math.ceil(g)-1;m=Math.ceil(m)-1}else{g=Math.floor(g);m=Math.floor(m)}return ol.tilecoord.createOrUpdate(n,g,m,i)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndZ_=function(e,t,r,o,i){var n=this.getOrigin(r),a=this.getResolution(r),p=ol.size.toSize(this.getTileSize(r),this.tmpSize_),l=o?.5:0,s=o?0:.5,y=Math.floor((e-n[0])/a+l),c=Math.floor((t-n[1])/a+s),d=y/p[0],g=c/p[1];if(o){d=Math.ceil(d)-1;g=Math.ceil(g)-1}else{d=Math.floor(d);g=Math.floor(g)}return ol.tilecoord.createOrUpdate(r,d,g,i)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)};ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]};ol.tilegrid.TileGrid.prototype.getTileSize=function(e){if(this.tileSize_){return this.tileSize_}else{return this.tileSizes_[e]}};ol.tilegrid.TileGrid.prototype.getFullTileRange=function(e){if(!this.fullTileRanges_){return null}else{return this.fullTileRanges_[e]}};ol.tilegrid.TileGrid.prototype.getZForResolution=function(e,t){var r=ol.array.linearFindNearest(this.resolutions_,e,t||0);return ol.math.clamp(r,this.minZoom,this.maxZoom)};ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=Array(t),o=this.minZoom;o<t;++o){r[o]=this.getTileRangeForExtentAndZ(e,o)}this.fullTileRanges_=r};goog.provide("ol.tilegrid");goog.require("ol");goog.require("ol.size");goog.require("ol.extent");goog.require("ol.extent.Corner");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.getForProjection=function(e){var t=e.getDefaultTileGrid();if(!t){t=ol.tilegrid.createForProjection(e);e.setDefaultTileGrid(t)}return t};ol.tilegrid.wrapX=function(e,t,r){var o=t[0],i=e.getTileCoordCenter(t),n=ol.tilegrid.extentFromProjection(r);if(!ol.extent.containsCoordinate(n,i)){var a=ol.extent.getWidth(n),p=Math.ceil((n[0]-i[0])/a);i[0]+=a*p;return e.getTileCoordForCoordAndZ(i,o)}else{return t}};ol.tilegrid.createForExtent=function(e,t,r,o){var i=o!==void 0?o:ol.extent.Corner.TOP_LEFT,n=ol.tilegrid.resolutionsFromExtent(e,t,r);return new ol.tilegrid.TileGrid({extent:e,origin:ol.extent.getCorner(e,i),resolutions:n,tileSize:r})};ol.tilegrid.createXYZ=function(e){var t={};ol.obj.assign(t,e!==void 0?e:{});if(t.extent===void 0){t.extent=ol.proj.get("EPSG:3857").getExtent()}t.resolutions=ol.tilegrid.resolutionsFromExtent(t.extent,t.maxZoom,t.tileSize);delete t.maxZoom;return new ol.tilegrid.TileGrid(t)};ol.tilegrid.resolutionsFromExtent=function(e,t,r){for(var o=t!==void 0?t:ol.DEFAULT_MAX_ZOOM,i=ol.extent.getHeight(e),n=ol.extent.getWidth(e),a=ol.size.toSize(r!==void 0?r:ol.DEFAULT_TILE_SIZE),p=Math.max(n/a[0],i/a[1]),l=o+1,s=Array(l),y=0;y<l;++y){s[y]=p/Math.pow(2,y)}return s};ol.tilegrid.createForProjection=function(e,t,r,o){var i=ol.tilegrid.extentFromProjection(e);return ol.tilegrid.createForExtent(i,t,r,o)};ol.tilegrid.extentFromProjection=function(e){e=ol.proj.get(e);var t=e.getExtent();if(!t){var r=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit();t=ol.extent.createOrUpdate(-r,-r,r,r)}return t};goog.provide("ol.Attribution");goog.require("ol.TileRange");goog.require("ol.math");goog.require("ol.tilegrid");ol.Attribution=function(e){this.html_=e.html;this.tileRanges_=e.tileRanges?e.tileRanges:null};ol.Attribution.prototype.getHTML=function(){return this.html_};ol.Attribution.prototype.intersectsAnyTileRange=function(e,t,r){if(!this.tileRanges_){return!0}var o,n,a,p;for(p in e){if(!(p in this.tileRanges_)){continue}a=e[p];var l;for(o=0,n=this.tileRanges_[p].length;o<n;++o){l=this.tileRanges_[p][o];if(l.intersects(a)){return!0}var s=t.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(r),parseInt(p,10)),y=s.getWidth();if(a.minX<s.minX||a.maxX>s.maxX){if(l.intersects(new ol.TileRange(ol.math.modulo(a.minX,y),ol.math.modulo(a.maxX,y),a.minY,a.maxY))){return!0}if(a.getWidth()>y&&l.intersects(s)){return!0}}}}return!1};goog.provide("ol.CollectionEventType");ol.CollectionEventType={ADD:"add",REMOVE:"remove"};goog.provide("ol.ObjectEventType");ol.ObjectEventType={PROPERTYCHANGE:"propertychange"};goog.provide("ol.events");goog.require("ol.obj");ol.events.bindListener_=function(e){var t=function(t){var r=e.listener,o=e.bindTo||e.target;if(e.callOnce){ol.events.unlistenByKey(e)}return r.call(o,t)};e.boundListener=t;return t};ol.events.findListener_=function(e,t,r,o){for(var n,a=0,p=e.length;a<p;++a){n=e[a];if(n.listener===t&&n.bindTo===r){if(o){n.deleteIndex=a}return n}}};ol.events.getListeners=function(e,t){var r=e.ol_lm;return r?r[t]:void 0};ol.events.getListenerMap_=function(e){var t=e.ol_lm;if(!t){t=e.ol_lm={}}return t};ol.events.removeListeners_=function(e,t){var r=ol.events.getListeners(e,t);if(r){for(var o=0,n=r.length;o<n;++o){e.removeEventListener(t,r[o].boundListener);ol.obj.clear(r[o])}r.length=0;var a=e.ol_lm;if(a){delete a[t];if(0===Object.keys(a).length){delete e.ol_lm}}}};ol.events.listen=function(e,t,r,o,i){var n=ol.events.getListenerMap_(e),a=n[t];if(!a){a=n[t]=[]}var p=ol.events.findListener_(a,r,o,!1);if(p){if(!i){p.callOnce=!1}}else{p={bindTo:o,callOnce:!!i,listener:r,target:e,type:t};e.addEventListener(t,ol.events.bindListener_(p));a.push(p)}return p};ol.events.listenOnce=function(e,t,r,o){return ol.events.listen(e,t,r,o,!0)};ol.events.unlisten=function(e,t,r,o){var i=ol.events.getListeners(e,t);if(i){var n=ol.events.findListener_(i,r,o,!0);if(n){ol.events.unlistenByKey(n)}}};ol.events.unlistenByKey=function(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=ol.events.getListeners(e.target,e.type);if(t){var r="deleteIndex"in e?e.deleteIndex:t.indexOf(e);if(-1!==r){t.splice(r,1)}if(0===t.length){ol.events.removeListeners_(e.target,e.type)}}ol.obj.clear(e)}};ol.events.unlistenAll=function(e){var t=ol.events.getListenerMap_(e);for(var r in t){ol.events.removeListeners_(e,r)}};goog.provide("ol.Disposable");goog.require("ol");ol.Disposable=function(){};ol.Disposable.prototype.disposed_=!1;ol.Disposable.prototype.dispose=function(){if(!this.disposed_){this.disposed_=!0;this.disposeInternal()}};ol.Disposable.prototype.disposeInternal=ol.nullFunction;goog.provide("ol.events.Event");ol.events.Event=function(e){this.propagationStopped;this.type=e;this.target=null};ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=!0};ol.events.Event.stopPropagation=function(e){e.stopPropagation()};ol.events.Event.preventDefault=function(e){e.preventDefault()};goog.provide("ol.events.EventTarget");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.Event");ol.events.EventTarget=function(){ol.Disposable.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};ol.inherits(ol.events.EventTarget,ol.Disposable);ol.events.EventTarget.prototype.addEventListener=function(e,t){var r=this.listeners_[e];if(!r){r=this.listeners_[e]=[]}if(-1===r.indexOf(t)){r.push(t)}};ol.events.EventTarget.prototype.dispatchEvent=function(e){var t="string"==typeof e?new ol.events.Event(e):e,r=t.type;t.target=this;var o=this.listeners_[r],n;if(o){if(!(r in this.dispatching_)){this.dispatching_[r]=0;this.pendingRemovals_[r]=0}++this.dispatching_[r];for(var a=0,p=o.length;a<p;++a){if(!1===o[a].call(this,t)||t.propagationStopped){n=!1;break}}--this.dispatching_[r];if(0===this.dispatching_[r]){var l=this.pendingRemovals_[r];delete this.pendingRemovals_[r];while(l--){this.removeEventListener(r,ol.nullFunction)}delete this.dispatching_[r]}return n}};ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)};ol.events.EventTarget.prototype.getListeners=function(e){return this.listeners_[e]};ol.events.EventTarget.prototype.hasListener=function(e){return e?e in this.listeners_:0<Object.keys(this.listeners_).length};ol.events.EventTarget.prototype.removeEventListener=function(e,t){var r=this.listeners_[e];if(r){var o=r.indexOf(t);if(e in this.pendingRemovals_){r[o]=ol.nullFunction;++this.pendingRemovals_[e]}else{r.splice(o,1);if(0===r.length){delete this.listeners_[e]}}}};goog.provide("ol.events.EventType");ol.events.EventType={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};goog.provide("ol.Observable");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Observable=function(){ol.events.EventTarget.call(this);this.revision_=0};ol.inherits(ol.Observable,ol.events.EventTarget);ol.Observable.unByKey=function(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;++t){ol.events.unlistenByKey(e[t])}}else{ol.events.unlistenByKey(e)}};ol.Observable.prototype.changed=function(){++this.revision_;this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Observable.prototype.dispatchEvent;ol.Observable.prototype.getRevision=function(){return this.revision_};ol.Observable.prototype.on=function(e,t,r){if(Array.isArray(e)){for(var o=e.length,n=Array(o),a=0;a<o;++a){n[a]=ol.events.listen(this,e[a],t,r)}return n}else{return ol.events.listen(this,e,t,r)}};ol.Observable.prototype.once=function(e,t,r){if(Array.isArray(e)){for(var o=e.length,n=Array(o),a=0;a<o;++a){n[a]=ol.events.listenOnce(this,e[a],t,r)}return n}else{return ol.events.listenOnce(this,e,t,r)}};ol.Observable.prototype.un=function(e,t,r){if(Array.isArray(e)){for(var o=0,n=e.length;o<n;++o){ol.events.unlisten(this,e[o],t,r)}}else{ol.events.unlisten(this,e,t,r)}};goog.provide("ol.Object");goog.require("ol");goog.require("ol.ObjectEventType");goog.require("ol.Observable");goog.require("ol.events.Event");goog.require("ol.obj");ol.Object=function(e){ol.Observable.call(this);ol.getUid(this);this.values_={};if(e!==void 0){this.setProperties(e)}};ol.inherits(ol.Object,ol.Observable);ol.Object.changeEventTypeCache_={};ol.Object.getChangeEventType=function(e){return ol.Object.changeEventTypeCache_.hasOwnProperty(e)?ol.Object.changeEventTypeCache_[e]:ol.Object.changeEventTypeCache_[e]="change:"+e};ol.Object.prototype.get=function(e){var t;if(this.values_.hasOwnProperty(e)){t=this.values_[e]}return t};ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)};ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)};ol.Object.prototype.notify=function(e,t){var r=ol.Object.getChangeEventType(e);this.dispatchEvent(new ol.Object.Event(r,e,t));r=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.Object.Event(r,e,t))};ol.Object.prototype.set=function(e,t,r){if(r){this.values_[e]=t}else{var o=this.values_[e];this.values_[e]=t;if(o!==t){this.notify(e,o)}}};ol.Object.prototype.setProperties=function(e,t){for(var r in e){this.set(r,e[r],t)}};ol.Object.prototype.unset=function(e,t){if(e in this.values_){var r=this.values_[e];delete this.values_[e];if(!t){this.notify(e,r)}}};ol.Object.Event=function(e,t,r){ol.events.Event.call(this,e);this.key=t;this.oldValue=r};ol.inherits(ol.Object.Event,ol.events.Event);goog.provide("ol.Collection");goog.require("ol");goog.require("ol.AssertionError");goog.require("ol.CollectionEventType");goog.require("ol.Object");goog.require("ol.events.Event");ol.Collection=function(e,t){ol.Object.call(this);this.unique_=!!(t||{}).unique;this.array_=e?e:[];if(this.unique_){for(var r=0,o=this.array_.length;r<o;++r){this.assertUnique_(this.array_[r],r)}}this.updateLength_()};ol.inherits(ol.Collection,ol.Object);ol.Collection.prototype.clear=function(){while(0<this.getLength()){this.pop()}};ol.Collection.prototype.extend=function(e){var t,r;for(t=0,r=e.length;t<r;++t){this.push(e[t])}return this};ol.Collection.prototype.forEach=function(e,t){for(var r=t?e.bind(t):e,o=this.array_,n=0,a=o.length;n<a;++n){r(o[n],n,o)}};ol.Collection.prototype.getArray=function(){return this.array_};ol.Collection.prototype.item=function(e){return this.array_[e]};ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)};ol.Collection.prototype.insertAt=function(e,t){if(this.unique_){this.assertUnique_(t)}this.array_.splice(e,0,t);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))};ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)};ol.Collection.prototype.push=function(e){if(this.unique_){this.assertUnique_(e)}var t=this.getLength();this.insertAt(t,e);return this.getLength()};ol.Collection.prototype.remove=function(e){var t=this.array_,r,o;for(r=0,o=t.length;r<o;++r){if(t[r]===e){return this.removeAt(r)}}};ol.Collection.prototype.removeAt=function(e){var t=this.array_[e];this.array_.splice(e,1);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,t));return t};ol.Collection.prototype.setAt=function(e,t){var r=this.getLength();if(e<r){if(this.unique_){this.assertUnique_(t,e)}var o=this.array_[e];this.array_[e]=t;this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,o));this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))}else{var i;for(i=r;i<e;++i){this.insertAt(i,void 0)}this.insertAt(e,t)}};ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)};ol.Collection.prototype.assertUnique_=function(e,t){for(var r=0,o=this.array_.length;r<o;++r){if(this.array_[r]===e&&r!==t){throw new ol.AssertionError(58)}}};ol.Collection.Property_={LENGTH:"length"};ol.Collection.Event=function(e,t){ol.events.Event.call(this,e);this.element=t};ol.inherits(ol.Collection.Event,ol.events.Event);goog.provide("ol.MapEvent");goog.require("ol");goog.require("ol.events.Event");ol.MapEvent=function(e,t,r){ol.events.Event.call(this,e);this.map=t;this.frameState=r!==void 0?r:null};ol.inherits(ol.MapEvent,ol.events.Event);goog.provide("ol.MapBrowserEvent");goog.require("ol");goog.require("ol.MapEvent");ol.MapBrowserEvent=function(e,t,r,o,i){ol.MapEvent.call(this,e,t,i);this.originalEvent=r;this.pixel=t.getEventPixel(r);this.coordinate=t.getCoordinateFromPixel(this.pixel);this.dragging=o!==void 0?o:!1};ol.inherits(ol.MapBrowserEvent,ol.MapEvent);ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};goog.provide("ol.webgl");ol.webgl.ONE=1;ol.webgl.SRC_ALPHA=770;ol.webgl.COLOR_ATTACHMENT0=36064;ol.webgl.COLOR_BUFFER_BIT=16384;ol.webgl.TRIANGLES=4;ol.webgl.TRIANGLE_STRIP=5;ol.webgl.ONE_MINUS_SRC_ALPHA=771;ol.webgl.ARRAY_BUFFER=34962;ol.webgl.ELEMENT_ARRAY_BUFFER=34963;ol.webgl.STREAM_DRAW=35040;ol.webgl.STATIC_DRAW=35044;ol.webgl.DYNAMIC_DRAW=35048;ol.webgl.CULL_FACE=2884;ol.webgl.BLEND=3042;ol.webgl.STENCIL_TEST=2960;ol.webgl.DEPTH_TEST=2929;ol.webgl.SCISSOR_TEST=3089;ol.webgl.UNSIGNED_BYTE=5121;ol.webgl.UNSIGNED_SHORT=5123;ol.webgl.UNSIGNED_INT=5125;ol.webgl.FLOAT=5126;ol.webgl.RGBA=6408;ol.webgl.FRAGMENT_SHADER=35632;ol.webgl.VERTEX_SHADER=35633;ol.webgl.LINK_STATUS=35714;ol.webgl.LINEAR=9729;ol.webgl.TEXTURE_MAG_FILTER=10240;ol.webgl.TEXTURE_MIN_FILTER=10241;ol.webgl.TEXTURE_WRAP_S=10242;ol.webgl.TEXTURE_WRAP_T=10243;ol.webgl.TEXTURE_2D=3553;ol.webgl.TEXTURE0=33984;ol.webgl.CLAMP_TO_EDGE=33071;ol.webgl.COMPILE_STATUS=35713;ol.webgl.FRAMEBUFFER=36160;ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"];ol.webgl.getContext=function(e,t){var r,o,n=ol.webgl.CONTEXT_IDS_.length;for(o=0;o<n;++o){try{r=e.getContext(ol.webgl.CONTEXT_IDS_[o],t);if(r){return r}}catch(t){}}return null};goog.provide("ol.has");goog.require("ol");goog.require("ol.webgl");var ua="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=-1!==ua.indexOf("firefox");ol.has.SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom");ol.has.WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge");ol.has.MAC=-1!==ua.indexOf("macintosh");ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1;ol.has.CANVAS_LINE_DASH=!1;ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window)){return!1}try{var e=document.createElement("CANVAS").getContext("2d");if(!e){return!1}else{if(e.setLineDash!==void 0){ol.has.CANVAS_LINE_DASH=!0}return!0}}catch(t){return!1}}();ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window;ol.has.GEOLOCATION="geolocation"in navigator;ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window;ol.has.POINTER="PointerEvent"in window;ol.has.MSPOINTER=!!navigator.msPointerEnabled;ol.has.WEBGL;(function(){if(ol.ENABLE_WEBGL){var e=!1,t,r=[];if("WebGLRenderingContext"in window){try{var o=document.createElement("CANVAS"),i=ol.webgl.getContext(o,{failIfMajorPerformanceCaveat:!0});if(i){e=!0;t=i.getParameter(i.MAX_TEXTURE_SIZE);r=i.getSupportedExtensions()}}catch(t){}}ol.has.WEBGL=e;ol.WEBGL_EXTENSIONS=r;ol.WEBGL_MAX_TEXTURE_SIZE=t}})();goog.provide("ol.MapBrowserEventType");goog.require("ol.events.EventType");ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.MapBrowserPointerEvent");goog.require("ol");goog.require("ol.MapBrowserEvent");ol.MapBrowserPointerEvent=function(e,t,r,o,i){ol.MapBrowserEvent.call(this,e,t,r.originalEvent,o,i);this.pointerEvent=r};ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent);goog.provide("ol.pointer.EventType");ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.pointer.EventSource");ol.pointer.EventSource=function(e,t){this.dispatcher=e;this.mapping_=t};ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)};ol.pointer.EventSource.prototype.getHandlerForEvent=function(e){return this.mapping_[e]};goog.provide("ol.pointer.MouseSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MouseSource=function(e){var t={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ol.pointer.EventSource.call(this,e,t);this.pointerMap=e.pointerMap;this.lastTouches=[]};ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource);ol.pointer.MouseSource.POINTER_ID=1;ol.pointer.MouseSource.POINTER_TYPE="mouse";ol.pointer.MouseSource.DEDUP_DIST=25;ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(e){for(var r=this.lastTouches,o=e.clientX,n=e.clientY,a=0,p=r.length,l;a<p&&(l=r[a]);a++){var s=Math.abs(o-l[0]),y=Math.abs(n-l[1]);if(s<=ol.pointer.MouseSource.DEDUP_DIST&&y<=ol.pointer.MouseSource.DEDUP_DIST){return!0}}return!1};ol.pointer.MouseSource.prepareEvent=function(t,r){var o=r.cloneEvent(t,t),e=o.preventDefault;o.preventDefault=function(){t.preventDefault();e()};o.pointerId=ol.pointer.MouseSource.POINTER_ID;o.isPrimary=!0;o.pointerType=ol.pointer.MouseSource.POINTER_TYPE;return o};ol.pointer.MouseSource.prototype.mousedown=function(t){if(!this.isEventSimulatedFromTouch_(t)){if(ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.cancel(t)}var r=ol.pointer.MouseSource.prepareEvent(t,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=t;this.dispatcher.down(r,t)}};ol.pointer.MouseSource.prototype.mousemove=function(t){if(!this.isEventSimulatedFromTouch_(t)){var r=ol.pointer.MouseSource.prepareEvent(t,this.dispatcher);this.dispatcher.move(r,t)}};ol.pointer.MouseSource.prototype.mouseup=function(t){if(!this.isEventSimulatedFromTouch_(t)){var r=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(r&&r.button===t.button){var o=ol.pointer.MouseSource.prepareEvent(t,this.dispatcher);this.dispatcher.up(o,t);this.cleanupMouse()}}};ol.pointer.MouseSource.prototype.mouseover=function(t){if(!this.isEventSimulatedFromTouch_(t)){var r=ol.pointer.MouseSource.prepareEvent(t,this.dispatcher);this.dispatcher.enterOver(r,t)}};ol.pointer.MouseSource.prototype.mouseout=function(t){if(!this.isEventSimulatedFromTouch_(t)){var r=ol.pointer.MouseSource.prepareEvent(t,this.dispatcher);this.dispatcher.leaveOut(r,t)}};ol.pointer.MouseSource.prototype.cancel=function(t){var r=ol.pointer.MouseSource.prepareEvent(t,this.dispatcher);this.dispatcher.cancel(r,t);this.cleanupMouse()};ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]};goog.provide("ol.pointer.MsSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MsSource=function(e){var t={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ol.pointer.EventSource.call(this,e,t);this.pointerMap=e.pointerMap;this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource);ol.pointer.MsSource.prototype.prepareEvent_=function(t){var r=t;if("number"==typeof t.pointerType){r=this.dispatcher.cloneEvent(t,t);r.pointerType=this.POINTER_TYPES[t.pointerType]}return r};ol.pointer.MsSource.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]};ol.pointer.MsSource.prototype.msPointerDown=function(t){this.pointerMap[t.pointerId.toString()]=t;var r=this.prepareEvent_(t);this.dispatcher.down(r,t)};ol.pointer.MsSource.prototype.msPointerMove=function(t){var r=this.prepareEvent_(t);this.dispatcher.move(r,t)};ol.pointer.MsSource.prototype.msPointerUp=function(t){var r=this.prepareEvent_(t);this.dispatcher.up(r,t);this.cleanup(t.pointerId)};ol.pointer.MsSource.prototype.msPointerOut=function(t){var r=this.prepareEvent_(t);this.dispatcher.leaveOut(r,t)};ol.pointer.MsSource.prototype.msPointerOver=function(t){var r=this.prepareEvent_(t);this.dispatcher.enterOver(r,t)};ol.pointer.MsSource.prototype.msPointerCancel=function(t){var r=this.prepareEvent_(t);this.dispatcher.cancel(r,t);this.cleanup(t.pointerId)};ol.pointer.MsSource.prototype.msLostPointerCapture=function(t){var r=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(r)};ol.pointer.MsSource.prototype.msGotPointerCapture=function(t){var r=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(r)};goog.provide("ol.pointer.NativeSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.NativeSource=function(e){var t={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ol.pointer.EventSource.call(this,e,t)};ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource);ol.pointer.NativeSource.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)};goog.provide("ol.pointer.PointerEvent");goog.require("ol");goog.require("ol.events.Event");ol.pointer.PointerEvent=function(e,t,r){ol.events.Event.call(this,e);this.originalEvent=t;var o=r?r:{};this.buttons=this.getButtons_(o);this.pressure=this.getPressure_(o,this.buttons);this.bubbles="bubbles"in o?o.bubbles:!1;this.cancelable="cancelable"in o?o.cancelable:!1;this.view="view"in o?o.view:null;this.detail="detail"in o?o.detail:null;this.screenX="screenX"in o?o.screenX:0;this.screenY="screenY"in o?o.screenY:0;this.clientX="clientX"in o?o.clientX:0;this.clientY="clientY"in o?o.clientY:0;this.ctrlKey="ctrlKey"in o?o.ctrlKey:!1;this.altKey="altKey"in o?o.altKey:!1;this.shiftKey="shiftKey"in o?o.shiftKey:!1;this.metaKey="metaKey"in o?o.metaKey:!1;this.button="button"in o?o.button:0;this.relatedTarget="relatedTarget"in o?o.relatedTarget:null;this.pointerId="pointerId"in o?o.pointerId:0;this.width="width"in o?o.width:0;this.height="height"in o?o.height:0;this.tiltX="tiltX"in o?o.tiltX:0;this.tiltY="tiltY"in o?o.tiltY:0;this.pointerType="pointerType"in o?o.pointerType:"";this.hwTimestamp="hwTimestamp"in o?o.hwTimestamp:0;this.isPrimary="isPrimary"in o?o.isPrimary:!1;if(t.preventDefault){this.preventDefault=function(){t.preventDefault()}}};ol.inherits(ol.pointer.PointerEvent,ol.events.Event);ol.pointer.PointerEvent.prototype.getButtons_=function(e){var t;if(e.buttons||ol.pointer.PointerEvent.HAS_BUTTONS){t=e.buttons}else{switch(e.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0;}}return t};ol.pointer.PointerEvent.prototype.getPressure_=function(e,t){var r=0;if(e.pressure){r=e.pressure}else{r=t?.5:0}return r};ol.pointer.PointerEvent.HAS_BUTTONS=!1;(function(){try{var e=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=1===e.buttons}catch(t){}})();goog.provide("ol.pointer.TouchSource");goog.require("ol");goog.require("ol.array");goog.require("ol.pointer.EventSource");goog.require("ol.pointer.MouseSource");ol.pointer.TouchSource=function(e,t){var r={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ol.pointer.EventSource.call(this,e,r);this.pointerMap=e.pointerMap;this.mouseSource=t;this.firstTouchId_=void 0;this.clickCount_=0;this.resetId_=void 0};ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource);ol.pointer.TouchSource.DEDUP_TIMEOUT=2500;ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200;ol.pointer.TouchSource.POINTER_TYPE="touch";ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier};ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(e){var t=Object.keys(this.pointerMap).length;if(0===t||1===t&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.firstTouchId_=e.identifier;this.cancelResetClickCount_()}};ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(e){if(e.isPrimary){this.firstTouchId_=void 0;this.resetClickCount_()}};ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)};ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=void 0};ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){if(this.resetId_!==void 0){clearTimeout(this.resetId_)}};ol.pointer.TouchSource.prototype.touchToPointer_=function(t,r){var o=this.dispatcher.cloneEvent(t,r);o.pointerId=r.identifier+2;o.bubbles=!0;o.cancelable=!0;o.detail=this.clickCount_;o.button=0;o.buttons=1;o.width=r.webkitRadiusX||r.radiusX||0;o.height=r.webkitRadiusY||r.radiusY||0;o.pressure=r.webkitForce||r.force||.5;o.isPrimary=this.isPrimaryTouch_(r);o.pointerType=ol.pointer.TouchSource.POINTER_TYPE;o.clientX=r.clientX;o.clientY=r.clientY;o.screenX=r.screenX;o.screenY=r.screenY;return o};ol.pointer.TouchSource.prototype.processTouches_=function(e,t){var o=Array.prototype.slice.call(e.changedTouches),n=o.length;function r(){e.preventDefault()}var a,p;for(a=0;a<n;++a){p=this.touchToPointer_(e,o[a]);p.preventDefault=r;t.call(this,e,p)}};ol.pointer.TouchSource.prototype.findTouch_=function(e,t){for(var r=e.length,o,n=0;n<r;n++){o=e[n];if(o.identifier===t){return!0}}return!1};ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var t=e.touches,r=Object.keys(this.pointerMap),o=r.length;if(o>=t.length){var n=[],a,p,l;for(a=0;a<o;++a){p=r[a];l=this.pointerMap[p];if(p!=ol.pointer.MouseSource.POINTER_ID&&!this.findTouch_(t,p-2)){n.push(l.out)}}for(a=0;a<n.length;++a){this.cancelOut_(e,n[a])}}};ol.pointer.TouchSource.prototype.touchstart=function(e){this.vacuumTouches_(e);this.setPrimaryTouch_(e.changedTouches[0]);this.dedupSynthMouse_(e);this.clickCount_++;this.processTouches_(e,this.overDown_)};ol.pointer.TouchSource.prototype.overDown_=function(e,t){this.pointerMap[t.pointerId]={target:t.target,out:t,outTarget:t.target};this.dispatcher.over(t,e);this.dispatcher.enter(t,e);this.dispatcher.down(t,e)};ol.pointer.TouchSource.prototype.touchmove=function(e){e.preventDefault();this.processTouches_(e,this.moveOverOut_)};ol.pointer.TouchSource.prototype.moveOverOut_=function(e,t){var r=t,o=this.pointerMap[r.pointerId];if(!o){return}var i=o.out,n=o.outTarget;this.dispatcher.move(r,e);if(i&&n!==r.target){i.relatedTarget=r.target;r.relatedTarget=n;i.target=n;if(r.target){this.dispatcher.leaveOut(i,e);this.dispatcher.enterOver(r,e)}else{r.target=n;r.relatedTarget=null;this.cancelOut_(e,r)}}o.out=r;o.outTarget=r.target};ol.pointer.TouchSource.prototype.touchend=function(e){this.dedupSynthMouse_(e);this.processTouches_(e,this.upOut_)};ol.pointer.TouchSource.prototype.upOut_=function(e,t){this.dispatcher.up(t,e);this.dispatcher.out(t,e);this.dispatcher.leave(t,e);this.cleanUpPointer_(t)};ol.pointer.TouchSource.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)};ol.pointer.TouchSource.prototype.cancelOut_=function(e,t){this.dispatcher.cancel(t,e);this.dispatcher.out(t,e);this.dispatcher.leave(t,e);this.cleanUpPointer_(t)};ol.pointer.TouchSource.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId];this.removePrimaryPointer_(e)};ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(e){var r=this.mouseSource.lastTouches,o=e.changedTouches[0];if(this.isPrimaryTouch_(o)){var t=[o.clientX,o.clientY];r.push(t);setTimeout(function(){ol.array.remove(r,t)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}};goog.provide("ol.pointer.PointerEventHandler");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.has");goog.require("ol.pointer.EventType");goog.require("ol.pointer.MouseSource");goog.require("ol.pointer.MsSource");goog.require("ol.pointer.NativeSource");goog.require("ol.pointer.PointerEvent");goog.require("ol.pointer.TouchSource");ol.pointer.PointerEventHandler=function(e){ol.events.EventTarget.call(this);this.element_=e;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget);ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER){this.registerSource("native",new ol.pointer.NativeSource(this))}else if(ol.has.MSPOINTER){this.registerSource("ms",new ol.pointer.MsSource(this))}else{var e=new ol.pointer.MouseSource(this);this.registerSource("mouse",e);if(ol.has.TOUCH){this.registerSource("touch",new ol.pointer.TouchSource(this,e))}}this.register_()};ol.pointer.PointerEventHandler.prototype.registerSource=function(e,t){var r=t,o=r.getEvents();if(o){o.forEach(function(t){var e=r.getHandlerForEvent(t);if(e){this.eventMap_[t]=e.bind(r)}},this);this.eventSourceList_.push(r)}};ol.pointer.PointerEventHandler.prototype.register_=function(){for(var e=this.eventSourceList_.length,t,r=0;r<e;r++){t=this.eventSourceList_[r];this.addEvents_(t.getEvents())}};ol.pointer.PointerEventHandler.prototype.unregister_=function(){for(var e=this.eventSourceList_.length,t,r=0;r<e;r++){t=this.eventSourceList_[r];this.removeEvents_(t.getEvents())}};ol.pointer.PointerEventHandler.prototype.eventHandler_=function(e){var t=e.type,r=this.eventMap_[t];if(r){r(e)}};ol.pointer.PointerEventHandler.prototype.addEvents_=function(e){e.forEach(function(e){ol.events.listen(this.element_,e,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.removeEvents_=function(e){e.forEach(function(t){ol.events.unlisten(this.element_,t,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,t){for(var r={},o,n=0,a=ol.pointer.PointerEventHandler.CLONE_PROPS.length;n<a;n++){o=ol.pointer.PointerEventHandler.CLONE_PROPS[n][0];r[o]=e[o]||t[o]||ol.pointer.PointerEventHandler.CLONE_PROPS[n][1]}return r};ol.pointer.PointerEventHandler.prototype.down=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERDOWN,e,t)};ol.pointer.PointerEventHandler.prototype.move=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERMOVE,e,t)};ol.pointer.PointerEventHandler.prototype.up=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERUP,e,t)};ol.pointer.PointerEventHandler.prototype.enter=function(e,t){e.bubbles=!1;this.fireEvent(ol.pointer.EventType.POINTERENTER,e,t)};ol.pointer.PointerEventHandler.prototype.leave=function(e,t){e.bubbles=!1;this.fireEvent(ol.pointer.EventType.POINTERLEAVE,e,t)};ol.pointer.PointerEventHandler.prototype.over=function(e,t){e.bubbles=!0;this.fireEvent(ol.pointer.EventType.POINTEROVER,e,t)};ol.pointer.PointerEventHandler.prototype.out=function(e,t){e.bubbles=!0;this.fireEvent(ol.pointer.EventType.POINTEROUT,e,t)};ol.pointer.PointerEventHandler.prototype.cancel=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,e,t)};ol.pointer.PointerEventHandler.prototype.leaveOut=function(e,t){this.out(e,t);if(!this.contains_(e.target,e.relatedTarget)){this.leave(e,t)}};ol.pointer.PointerEventHandler.prototype.enterOver=function(e,t){this.over(e,t);if(!this.contains_(e.target,e.relatedTarget)){this.enter(e,t)}};ol.pointer.PointerEventHandler.prototype.contains_=function(e,t){if(!e||!t){return!1}return e.contains(t)};ol.pointer.PointerEventHandler.prototype.makeEvent=function(e,t,r){return new ol.pointer.PointerEvent(e,r,t)};ol.pointer.PointerEventHandler.prototype.fireEvent=function(t,r,o){var i=this.makeEvent(t,r,o);this.dispatchEvent(i)};ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(t){var r=this.makeEvent(t.type,t,t);this.dispatchEvent(r)};ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(e,t){var r=this.makeEvent(e,ol.pointer.MouseSource.prepareEvent(t,this),t);return r};ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_();ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];goog.provide("ol.MapBrowserEventHandler");goog.require("ol");goog.require("ol.has");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.pointer.EventType");goog.require("ol.pointer.PointerEventHandler");ol.MapBrowserEventHandler=function(e,t){ol.events.EventTarget.call(this);this.map_=e;this.clickTimeoutId_=0;this.dragging_=!1;this.dragListenerKeys_=[];this.moveTolerance_=t?t*ol.has.DEVICE_PIXEL_RATIO:ol.has.DEVICE_PIXEL_RATIO;this.down_=null;var r=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new ol.pointer.PointerEventHandler(r);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)};ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget);ol.MapBrowserEventHandler.prototype.emulateClick_=function(e){var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(t);if(0!==this.clickTimeoutId_){clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=0;t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,e);this.dispatchEvent(t)}else{this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)}};ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(e){var t=e;if(t.type==ol.MapBrowserEventType.POINTERUP||t.type==ol.MapBrowserEventType.POINTERCANCEL){delete this.trackedTouches_[t.pointerId]}else if(t.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedTouches_[t.pointerId]=!0}this.activePointers_=Object.keys(this.trackedTouches_).length};ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,e);this.dispatchEvent(t);if(!this.dragging_&&this.isMouseActionButton_(e)){this.emulateClick_(this.down_)}if(0===this.activePointers_){this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;this.dragging_=!1;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(e){return 0===e.button};ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,e);this.dispatchEvent(t);this.down_=e;if(0===this.dragListenerKeys_.length){this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document);this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this))}};ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}e.preventDefault()};ol.MapBrowserEventHandler.prototype.relayEvent_=function(e){var t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ol.MapBrowserPointerEvent(e.type,this.map_,e,t))};ol.MapBrowserEventHandler.prototype.isMoving_=function(e){return Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_};ol.MapBrowserEventHandler.prototype.disposeInternal=function(){if(this.relayedListenerKey_){ol.events.unlistenByKey(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){ol.events.unlistenByKey(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}ol.events.EventTarget.prototype.disposeInternal.call(this)};goog.provide("ol.MapEventType");ol.MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};goog.provide("ol.MapProperty");ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};goog.provide("ol.TileState");ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};goog.provide("ol.structs.PriorityQueue");goog.require("ol.asserts");goog.require("ol.obj");ol.structs.PriorityQueue=function(e,t){this.priorityFunction_=e;this.keyFunction_=t;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ol.structs.PriorityQueue.DROP=1/0;ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;ol.obj.clear(this.queuedElements_)};ol.structs.PriorityQueue.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];if(1==e.length){e.length=0;t.length=0}else{e[0]=e.pop();t[0]=t.pop();this.siftUp_(0)}var o=this.keyFunction_(r);delete this.queuedElements_[o];return r};ol.structs.PriorityQueue.prototype.enqueue=function(e){ol.asserts.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);if(t!=ol.structs.PriorityQueue.DROP){this.elements_.push(e);this.priorities_.push(t);this.queuedElements_[this.keyFunction_(e)]=!0;this.siftDown_(0,this.elements_.length-1);return!0}return!1};ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length};ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(e){return 2*e+1};ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(e){return 2*e+2};ol.structs.PriorityQueue.prototype.getParentIndex_=function(e){return e-1>>1};ol.structs.PriorityQueue.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;0<=e;e--){this.siftUp_(e)}};ol.structs.PriorityQueue.prototype.isEmpty=function(){return 0===this.elements_.length};ol.structs.PriorityQueue.prototype.isKeyQueued=function(e){return e in this.queuedElements_};ol.structs.PriorityQueue.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))};ol.structs.PriorityQueue.prototype.siftUp_=function(e){var t=this.elements_,r=this.priorities_,o=t.length,i=t[e],n=r[e],a=e;while(e<o>>1){var p=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),s=l<o&&r[l]<r[p]?l:p;t[e]=t[s];r[e]=r[s];e=s}t[e]=i;r[e]=n;this.siftDown_(a,e)};ol.structs.PriorityQueue.prototype.siftDown_=function(e,t){var r=this.elements_,o=this.priorities_,i=r[t],n=o[t];while(t>e){var a=this.getParentIndex_(t);if(o[a]>n){r[t]=r[a];o[t]=o[a];t=a}else{break}}r[t]=i;o[t]=n};ol.structs.PriorityQueue.prototype.reprioritize=function(){var e=this.priorityFunction_,t=this.elements_,r=this.priorities_,o=0,a=t.length,n,p,l;for(p=0;p<a;++p){n=t[p];l=e(n);if(l==ol.structs.PriorityQueue.DROP){delete this.queuedElements_[this.keyFunction_(n)]}else{r[o]=l;t[o++]=n}}t.length=o;r.length=o;this.heapify_()};goog.provide("ol.TileQueue");goog.require("ol");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.structs.PriorityQueue");ol.TileQueue=function(e,t){ol.structs.PriorityQueue.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()});this.tileChangeCallback_=t;this.tilesLoading_=0;this.tilesLoadingKeys_={}};ol.inherits(ol.TileQueue,ol.structs.PriorityQueue);ol.TileQueue.prototype.enqueue=function(e){var t=ol.structs.PriorityQueue.prototype.enqueue.call(this,e);if(t){var r=e[0];ol.events.listen(r,ol.events.EventType.CHANGE,this.handleTileChange,this)}return t};ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_};ol.TileQueue.prototype.handleTileChange=function(e){var t=e.target,r=t.getState();if(r===ol.TileState.LOADED||r===ol.TileState.ERROR||r===ol.TileState.EMPTY||r===ol.TileState.ABORT){ol.events.unlisten(t,ol.events.EventType.CHANGE,this.handleTileChange,this);var o=t.getKey();if(o in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[o];--this.tilesLoading_}this.tileChangeCallback_()}};ol.TileQueue.prototype.loadMoreTiles=function(e,t){var r=0,o=!1,i,n,a;while(this.tilesLoading_<e&&r<t&&0<this.getCount()){n=this.dequeue()[0];a=n.getKey();i=n.getState();if(i===ol.TileState.ABORT){o=!0}else if(i===ol.TileState.IDLE&&!(a in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[a]=!0;++this.tilesLoading_;++r;n.load()}}if(0==r&&o){this.tileChangeCallback_()}};goog.provide("ol.CenterConstraint");goog.require("ol.math");ol.CenterConstraint.createExtent=function(e){return function(t){if(t){return[ol.math.clamp(t[0],e[0],e[2]),ol.math.clamp(t[1],e[1],e[3])]}else{}}};ol.CenterConstraint.none=function(e){return e};goog.provide("ol.ResolutionConstraint");goog.require("ol.array");goog.require("ol.math");ol.ResolutionConstraint.createSnapToResolutions=function(e){return function(t,r,o){if(t!==void 0){var i=ol.array.linearFindNearest(e,t,o);i=ol.math.clamp(i+r,0,e.length-1);var n=Math.floor(i);if(i!=n&&n<e.length-1){var a=e[n]/e[n+1];return e[n]/Math.pow(a,i-n)}else{return e[n]}}else{}}};ol.ResolutionConstraint.createSnapToPower=function(e,t,r){return function(o,i,n){if(o!==void 0){var a=Math.floor(Math.log(t/o)/Math.log(e)+(-n/2+.5)),p=Math.max(a+i,0);if(r!==void 0){p=Math.min(p,r)}return t/Math.pow(e,p)}else{}}};goog.provide("ol.RotationConstraint");goog.require("ol.math");ol.RotationConstraint.disable=function(e){if(e!==void 0){return 0}else{}};ol.RotationConstraint.none=function(e,t){if(e!==void 0){return e+t}else{}};ol.RotationConstraint.createSnapToN=function(e){var t=2*Math.PI/e;return function(e,r){if(e!==void 0){e=Math.floor((e+r)/t+.5)*t;return e}else{}}};ol.RotationConstraint.createSnapToZero=function(e){var t=e||ol.math.toRadians(5);return function(e,r){if(e!==void 0){if(Math.abs(e+r)<=t){return 0}else{return e+r}}else{}}};goog.provide("ol.ViewHint");ol.ViewHint={ANIMATING:0,INTERACTING:1};goog.provide("ol.ViewProperty");ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};goog.provide("ol.string");ol.string.padNumber=function(e,t,r){var o=r!==void 0?e.toFixed(r):""+e,i=o.indexOf(".");i=-1===i?o.length:i;return i>t?o:Array(1+t-i).join("0")+o};ol.string.compareVersions=function(e,t){for(var r=(""+e).split("."),o=(""+t).split("."),n=0;n<Math.max(r.length,o.length);n++){var a=parseInt(r[n]||"0",10),p=parseInt(o[n]||"0",10);if(a>p){return 1}if(p>a){return-1}}return 0};goog.provide("ol.coordinate");goog.require("ol.math");goog.require("ol.string");ol.coordinate.add=function(e,t){e[0]+=t[0];e[1]+=t[1];return e};ol.coordinate.closestOnCircle=function(e,t){var o=t.getRadius(),r=t.getCenter(),i=r[0],n=r[1],a=e[0],p=e[1],l=a-i,s=p-n;if(0===l&&0===s){l=1}var c=Math.sqrt(l*l+s*s),d,g;d=i+o*l/c;g=n+o*s/c;return[d,g]};ol.coordinate.closestOnSegment=function(e,t){var r=e[0],o=e[1],i=t[0],n=t[1],a=i[0],p=i[1],l=n[0],s=n[1],c=l-a,d=s-p,g=0===c&&0===d?0:(c*(r-a)+d*(o-p))/(c*c+d*d||0),m,u;if(0>=g){m=a;u=p}else if(1<=g){m=l;u=s}else{m=a+g*c;u=p+g*d}return[m,u]};ol.coordinate.createStringXY=function(e){return function(t){return ol.coordinate.toStringXY(t,e)}};ol.coordinate.degreesToStringHDMS=function(e,t,r){var o=ol.math.modulo(t+180,360)-180,i=Math.abs(3600*o),n=r||0,a=Math.pow(10,n),p=Math.floor(i/3600),l=Math.floor((i-3600*p)/60),s=i-3600*p-60*l;s=Math.ceil(s*a)/a;if(60<=s){s=0;l+=1}if(60<=l){l=0;p+=1}return p+"\xB0 "+ol.string.padNumber(l,2)+"\u2032 "+ol.string.padNumber(s,2,n)+"\u2033"+(0==o?"":" "+e.charAt(0>o?1:0))};ol.coordinate.format=function(e,t,r){if(e){return t.replace("{x}",e[0].toFixed(r)).replace("{y}",e[1].toFixed(r))}else{return""}};ol.coordinate.equals=function(e,t){for(var r=!0,o=e.length-1;0<=o;--o){if(e[o]!=t[o]){r=!1;break}}return r};ol.coordinate.rotate=function(e,t){var r=Math.cos(t),o=Math.sin(t),i=e[0]*r-e[1]*o,n=e[1]*r+e[0]*o;e[0]=i;e[1]=n;return e};ol.coordinate.scale=function(e,t){e[0]*=t;e[1]*=t;return e};ol.coordinate.sub=function(e,t){e[0]-=t[0];e[1]-=t[1];return e};ol.coordinate.squaredDistance=function(e,t){var r=e[0]-t[0],o=e[1]-t[1];return r*r+o*o};ol.coordinate.distance=function(e,t){return Math.sqrt(ol.coordinate.squaredDistance(e,t))};ol.coordinate.squaredDistanceToSegment=function(e,t){return ol.coordinate.squaredDistance(e,ol.coordinate.closestOnSegment(e,t))};ol.coordinate.toStringHDMS=function(e,t){if(e){return ol.coordinate.degreesToStringHDMS("NS",e[1],t)+" "+ol.coordinate.degreesToStringHDMS("EW",e[0],t)}else{return""}};ol.coordinate.toStringXY=function(e,t){return ol.coordinate.format(e,"{x}, {y}",t)};goog.provide("ol.easing");ol.easing.easeIn=function(e){return Math.pow(e,3)};ol.easing.easeOut=function(e){return 1-ol.easing.easeIn(1-e)};ol.easing.inAndOut=function(e){return 3*e*e-2*e*e*e};ol.easing.linear=function(e){return e};ol.easing.upAndDown=function(e){if(.5>e){return ol.easing.inAndOut(2*e)}else{return 1-ol.easing.inAndOut(2*(e-.5))}};goog.provide("ol.geom.GeometryLayout");ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};goog.provide("ol.functions");ol.functions.TRUE=function(){return!0};ol.functions.FALSE=function(){return!1};goog.provide("ol.geom.flat.transform");ol.geom.flat.transform.transform2D=function(e,t,r,o,n,a){var p=a?a:[],l=0,s;for(s=t;s<r;s+=o){var c=e[s],d=e[s+1];p[l++]=n[0]*c+n[2]*d+n[4];p[l++]=n[1]*c+n[3]*d+n[5]}if(a&&p.length!=l){p.length=l}return p};ol.geom.flat.transform.rotate=function(e,t,r,o,n,a,p){for(var l=p?p:[],s=Math.cos(n),y=Math.sin(n),c=a[0],d=a[1],g=0,m=t;m<r;m+=o){var u=e[m]-c,_=e[m+1]-d;l[g++]=c+u*s-_*y;l[g++]=d+u*y+_*s;for(var f=m+2;f<m+o;++f){l[g++]=e[f]}}if(p&&l.length!=g){l.length=g}return l};ol.geom.flat.transform.scale=function(e,t,r,o,n,a,p,l){for(var s=l?l:[],y=p[0],c=p[1],d=0,g=t;g<r;g+=o){var m=e[g]-y,u=e[g+1]-c;s[d++]=y+n*m;s[d++]=c+a*u;for(var _=g+2;_<g+o;++_){s[d++]=e[_]}}if(l&&s.length!=d){s.length=d}return s};ol.geom.flat.transform.translate=function(e,t,r,o,n,a,p){var l=p?p:[],s=0,y,c;for(y=t;y<r;y+=o){l[s++]=e[y]+n;l[s++]=e[y+1]+a;for(c=y+2;c<y+o;++c){l[s++]=e[c]}}if(p&&l.length!=s){l.length=s}return l};goog.provide("ol.transform");goog.require("ol.asserts");ol.transform.tmp_=[,,,,,,];ol.transform.create=function(){return[1,0,0,1,0,0]};ol.transform.reset=function(e){return ol.transform.set(e,1,0,0,1,0,0)};ol.transform.multiply=function(e,t){var r=e[0],o=e[1],i=e[2],n=e[3],a=e[4],p=e[5],l=t[0],s=t[1],y=t[2],c=t[3],d=t[4],g=t[5];e[0]=r*l+i*s;e[1]=o*l+n*s;e[2]=r*y+i*c;e[3]=o*y+n*c;e[4]=r*d+i*g+a;e[5]=o*d+n*g+p;return e};ol.transform.set=function(t,r,o,i,n,a,e){t[0]=r;t[1]=o;t[2]=i;t[3]=n;t[4]=a;t[5]=e;return t};ol.transform.setFromArray=function(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return e};ol.transform.apply=function(e,t){var r=t[0],o=t[1];t[0]=e[0]*r+e[2]*o+e[4];t[1]=e[1]*r+e[3]*o+e[5];return t};ol.transform.rotate=function(e,t){var r=Math.cos(t),o=Math.sin(t);return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,r,o,-o,r,0,0))};ol.transform.scale=function(e,t,r){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,t,0,0,r,0,0))};ol.transform.translate=function(e,t,r){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,1,0,0,1,t,r))};ol.transform.compose=function(e,t,r,o,i,n,a,p){var l=Math.sin(n),s=Math.cos(n);e[0]=o*s;e[1]=i*l;e[2]=-o*l;e[3]=i*s;e[4]=a*o*s-p*o*l+t;e[5]=a*i*l+p*i*s+r;return e};ol.transform.invert=function(t){var r=ol.transform.determinant(t);ol.asserts.assert(0!==r,32);var o=t[0],i=t[1],n=t[2],a=t[3],p=t[4],e=t[5];t[0]=a/r;t[1]=-i/r;t[2]=-n/r;t[3]=o/r;t[4]=(n*e-a*p)/r;t[5]=-(o*e-i*p)/r;return t};ol.transform.determinant=function(e){return e[0]*e[3]-e[1]*e[2]};goog.provide("ol.geom.Geometry");goog.require("ol");goog.require("ol.Object");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.flat.transform");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.transform");ol.geom.Geometry=function(){ol.Object.call(this);this.extent_=ol.extent.createEmpty();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0;this.tmpTransform_=ol.transform.create()};ol.inherits(ol.geom.Geometry,ol.Object);ol.geom.Geometry.prototype.clone=function(){};ol.geom.Geometry.prototype.closestPointXY=function(){};ol.geom.Geometry.prototype.getClosestPoint=function(e,t){var r=t?t:[NaN,NaN];this.closestPointXY(e[0],e[1],r,1/0);return r};ol.geom.Geometry.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])};ol.geom.Geometry.prototype.computeExtent=function(){};ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE;ol.geom.Geometry.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return ol.extent.returnOrUpdate(this.extent_,e)};ol.geom.Geometry.prototype.rotate=function(){};ol.geom.Geometry.prototype.scale=function(){};ol.geom.Geometry.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)};ol.geom.Geometry.prototype.getSimplifiedGeometry=function(){};ol.geom.Geometry.prototype.getType=function(){};ol.geom.Geometry.prototype.applyTransform=function(){};ol.geom.Geometry.prototype.intersectsExtent=function(){};ol.geom.Geometry.prototype.translate=function(){};ol.geom.Geometry.prototype.transform=function(e,t){var r=this.tmpTransform_;e=ol.proj.get(e);var o=e.getUnits()==ol.proj.Units.TILE_PIXELS?function(o,i,n){var a=e.getExtent(),p=e.getWorldExtent(),l=ol.extent.getHeight(p)/ol.extent.getHeight(a);ol.transform.compose(r,p[0],p[3],l,-l,0,0,0);ol.geom.flat.transform.transform2D(o,0,o.length,n,r,i);return ol.proj.getTransform(e,t)(o,i,n)}:ol.proj.getTransform(e,t);this.applyTransform(o);return this};goog.provide("ol.geom.SimpleGeometry");goog.require("ol");goog.require("ol.functions");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.flat.transform");goog.require("ol.obj");ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this);this.layout=ol.geom.GeometryLayout.XY;this.stride=2;this.flatCoordinates=null};ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry);ol.geom.SimpleGeometry.getLayoutForStride_=function(e){var t;if(2==e){t=ol.geom.GeometryLayout.XY}else if(3==e){t=ol.geom.GeometryLayout.XYZ}else if(4==e){t=ol.geom.GeometryLayout.XYZM}return t};ol.geom.SimpleGeometry.getStrideForLayout=function(e){var t;if(e==ol.geom.GeometryLayout.XY){t=2}else if(e==ol.geom.GeometryLayout.XYZ||e==ol.geom.GeometryLayout.XYM){t=3}else if(e==ol.geom.GeometryLayout.XYZM){t=4}return t};ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE;ol.geom.SimpleGeometry.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};ol.geom.SimpleGeometry.prototype.getCoordinates=function(){};ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates};ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t)){return this.simplifiedGeometryCache[t]}else{var r=this.getSimplifiedGeometryInternal(e),o=r.getFlatCoordinates();if(o.length<this.flatCoordinates.length){this.simplifiedGeometryCache[t]=r;return r}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(){return this};ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride};ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(e,t){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(e);this.layout=e;this.flatCoordinates=t};ol.geom.SimpleGeometry.prototype.setCoordinates=function(){};ol.geom.SimpleGeometry.prototype.setLayout=function(e,t,r){var o;if(e){o=ol.geom.SimpleGeometry.getStrideForLayout(e)}else{var n;for(n=0;n<r;++n){if(0===t.length){this.layout=ol.geom.GeometryLayout.XY;this.stride=2;return}else{t=t[0]}}o=t.length;e=ol.geom.SimpleGeometry.getLayoutForStride_(o)}this.layout=e;this.stride=o};ol.geom.SimpleGeometry.prototype.applyTransform=function(e){if(this.flatCoordinates){e(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};ol.geom.SimpleGeometry.prototype.rotate=function(e,t){var r=this.getFlatCoordinates();if(r){var o=this.getStride();ol.geom.flat.transform.rotate(r,0,r.length,o,e,t,r);this.changed()}};ol.geom.SimpleGeometry.prototype.scale=function(e,t,r){var o=t;if(o===void 0){o=e}var i=r;if(!i){i=ol.extent.getCenter(this.getExtent())}var n=this.getFlatCoordinates();if(n){var a=this.getStride();ol.geom.flat.transform.scale(n,0,n.length,a,e,o,i,n);this.changed()}};ol.geom.SimpleGeometry.prototype.translate=function(e,t){var r=this.getFlatCoordinates();if(r){var o=this.getStride();ol.geom.flat.transform.translate(r,0,r.length,o,e,t,r);this.changed()}};ol.geom.SimpleGeometry.transform2D=function(e,t,r){var o=e.getFlatCoordinates();if(!o){return null}else{var i=e.getStride();return ol.geom.flat.transform.transform2D(o,0,o.length,i,t,r)}};goog.provide("ol.geom.flat.area");ol.geom.flat.area.linearRing=function(e,t,r,o){var i=0,n=e[r-o],a=e[r-o+1];for(;t<r;t+=o){var p=e[t],l=e[t+1];i+=a*p-n*l;n=p;a=l}return i/2};ol.geom.flat.area.linearRings=function(e,t,r,o){var n=0,a,p;for(a=0,p=r.length;a<p;++a){var l=r[a];n+=ol.geom.flat.area.linearRing(e,t,l,o);t=l}return n};ol.geom.flat.area.linearRingss=function(e,t,r,o){var n=0,a,p;for(a=0,p=r.length;a<p;++a){var l=r[a];n+=ol.geom.flat.area.linearRings(e,t,l,o);t=l[l.length-1]}return n};goog.provide("ol.geom.flat.closest");goog.require("ol.math");ol.geom.flat.closest.point=function(e,r,o,n,a,p,l){var s=e[r],y=e[r+1],c=e[o]-s,d=e[o+1]-y,g,m;if(0===c&&0===d){m=r}else{var u=((a-s)*c+(p-y)*d)/(c*c+d*d);if(1<u){m=o}else if(0<u){for(g=0;g<n;++g){l[g]=ol.math.lerp(e[r+g],e[o+g],u)}l.length=n;return}else{m=r}}for(g=0;g<n;++g){l[g]=e[m+g]}l.length=n};ol.geom.flat.closest.getMaxSquaredDelta=function(e,t,r,o,i){var n=e[t],a=e[t+1];for(t+=o;t<r;t+=o){var p=e[t],l=e[t+1],s=ol.math.squaredDistance(n,a,p,l);if(s>i){i=s}n=p;a=l}return i};ol.geom.flat.closest.getsMaxSquaredDelta=function(e,t,r,o,n){var a,p;for(a=0,p=r.length;a<p;++a){var l=r[a];n=ol.geom.flat.closest.getMaxSquaredDelta(e,t,l,o,n);t=l}return n};ol.geom.flat.closest.getssMaxSquaredDelta=function(e,t,r,o,n){var a,p;for(a=0,p=r.length;a<p;++a){var l=r[a];n=ol.geom.flat.closest.getsMaxSquaredDelta(e,t,l,o,n);t=l[l.length-1]}return n};ol.geom.flat.closest.getClosestPoint=function(e,t,r,o,n,a,p,l,s,y,c){if(t==r){return y}var d,g;if(0===n){g=ol.math.squaredDistance(p,l,e[t],e[t+1]);if(g<y){for(d=0;d<o;++d){s[d]=e[t+d]}s.length=o;return g}else{return y}}var m=c?c:[NaN,NaN],u=t+o;while(u<r){ol.geom.flat.closest.point(e,u-o,u,o,p,l,m);g=ol.math.squaredDistance(p,l,m[0],m[1]);if(g<y){y=g;for(d=0;d<o;++d){s[d]=m[d]}s.length=o;u+=o}else{u+=o*Math.max(0|(Math.sqrt(g)-Math.sqrt(y))/n,1)}}if(a){ol.geom.flat.closest.point(e,r-o,t,o,p,l,m);g=ol.math.squaredDistance(p,l,m[0],m[1]);if(g<y){y=g;for(d=0;d<o;++d){s[d]=m[d]}s.length=o}}return y};ol.geom.flat.closest.getsClosestPoint=function(e,t,r,o,n,a,p,l,s,y,c){var d=c?c:[NaN,NaN],g,m;for(g=0,m=r.length;g<m;++g){var u=r[g];y=ol.geom.flat.closest.getClosestPoint(e,t,u,o,n,a,p,l,s,y,d);t=u}return y};ol.geom.flat.closest.getssClosestPoint=function(e,t,r,o,n,a,p,l,s,y,c){var d=c?c:[NaN,NaN],g,m;for(g=0,m=r.length;g<m;++g){var u=r[g];y=ol.geom.flat.closest.getsClosestPoint(e,t,u,o,n,a,p,l,s,y,d);t=u[u.length-1]}return y};goog.provide("ol.geom.flat.deflate");ol.geom.flat.deflate.coordinate=function(e,t,r){var o,n;for(o=0,n=r.length;o<n;++o){e[t++]=r[o]}return t};ol.geom.flat.deflate.coordinates=function(e,t,r,o){var n,a;for(n=0,a=r.length;n<a;++n){var p=r[n],l;for(l=0;l<o;++l){e[t++]=p[l]}}return t};ol.geom.flat.deflate.coordinatess=function(e,t,r,o,n){var a=n?n:[],p=0,l,s;for(l=0,s=r.length;l<s;++l){var y=ol.geom.flat.deflate.coordinates(e,t,r[l],o);a[p++]=y;t=y}a.length=p;return a};ol.geom.flat.deflate.coordinatesss=function(e,t,r,o,n){var a=n?n:[],p=0,l,s;for(l=0,s=r.length;l<s;++l){var y=ol.geom.flat.deflate.coordinatess(e,t,r[l],o,a[p]);a[p++]=y;t=y[y.length-1]}a.length=p;return a};goog.provide("ol.geom.flat.inflate");ol.geom.flat.inflate.coordinates=function(e,t,r,o,n){var a=n!==void 0?n:[],p=0,l;for(l=t;l<r;l+=o){a[p++]=e.slice(l,l+o)}a.length=p;return a};ol.geom.flat.inflate.coordinatess=function(e,t,r,o,n){var a=n!==void 0?n:[],p=0,l,s;for(l=0,s=r.length;l<s;++l){var y=r[l];a[p++]=ol.geom.flat.inflate.coordinates(e,t,y,o,a[p]);t=y}a.length=p;return a};ol.geom.flat.inflate.coordinatesss=function(e,t,r,o,n){var a=n!==void 0?n:[],p=0,l,s;for(l=0,s=r.length;l<s;++l){var y=r[l];a[p++]=ol.geom.flat.inflate.coordinatess(e,t,y,o,a[p]);t=y[y.length-1]}a.length=p;return a};goog.provide("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.flat.simplify.lineString=function(e,t,r,o,i,n,a){var p=a!==void 0?a:[];if(!n){r=ol.geom.flat.simplify.radialDistance(e,t,r,o,i,p,0);e=p;t=0;o=2}p.length=ol.geom.flat.simplify.douglasPeucker(e,t,r,o,i,p,0);return p};ol.geom.flat.simplify.douglasPeucker=function(e,t,r,o,a,p,l){var s=(r-t)/o;if(3>s){for(;t<r;t+=o){p[l++]=e[t];p[l++]=e[t+1]}return l}var n=Array(s);n[0]=1;n[s-1]=1;var c=[t,r-o],d=0,g;while(0<c.length){var m=c.pop(),u=c.pop(),_=0,f=e[u],S=e[u+1],P=e[m],T=e[m+1];for(g=u+o;g<m;g+=o){var E=e[g],x=e[g+1],y=ol.math.squaredSegmentDistance(E,x,f,S,P,T);if(y>_){d=g;_=y}}if(_>a){n[(d-t)/o]=1;if(u+o<d){c.push(u,d)}if(d+o<m){c.push(d,m)}}}for(g=0;g<s;++g){if(n[g]){p[l++]=e[t+g*o];p[l++]=e[t+g*o+1]}}return l};ol.geom.flat.simplify.douglasPeuckers=function(e,t,r,o,n,a,p,l){var s,y;for(s=0,y=r.length;s<y;++s){var c=r[s];p=ol.geom.flat.simplify.douglasPeucker(e,t,c,o,n,a,p);l.push(p);t=c}return p};ol.geom.flat.simplify.douglasPeuckerss=function(e,t,r,o,n,a,p,l){var s,y;for(s=0,y=r.length;s<y;++s){var c=r[s],d=[];p=ol.geom.flat.simplify.douglasPeuckers(e,t,c,o,n,a,p,d);l.push(d);t=c[c.length-1]}return p};ol.geom.flat.simplify.radialDistance=function(e,t,r,o,i,n,a){if(r<=t+o){for(;t<r;t+=o){n[a++]=e[t];n[a++]=e[t+1]}return a}var p=e[t],l=e[t+1];n[a++]=p;n[a++]=l;var s=p,y=l;for(t+=o;t<r;t+=o){s=e[t];y=e[t+1];if(ol.math.squaredDistance(p,l,s,y)>i){n[a++]=s;n[a++]=y;p=s;l=y}}if(s!=p||y!=l){n[a++]=s;n[a++]=y}return a};ol.geom.flat.simplify.snap=function(e,t){return t*Math.round(e/t)};ol.geom.flat.simplify.quantize=function(e,t,r,o,i,n,a){if(t==r){return a}var p=ol.geom.flat.simplify.snap(e[t],i),l=ol.geom.flat.simplify.snap(e[t+1],i);t+=o;n[a++]=p;n[a++]=l;var s,y;do{s=ol.geom.flat.simplify.snap(e[t],i);y=ol.geom.flat.simplify.snap(e[t+1],i);t+=o;if(t==r){n[a++]=s;n[a++]=y;return a}}while(s==p&&y==l);while(t<r){var c,d;c=ol.geom.flat.simplify.snap(e[t],i);d=ol.geom.flat.simplify.snap(e[t+1],i);t+=o;if(c==s&&d==y){continue}var g=s-p,m=y-l,u=c-p,_=d-l;if(g*_==m*u&&(0>g&&u<g||g==u||0<g&&u>g)&&(0>m&&_<m||m==_||0<m&&_>m)){s=c;y=d;continue}n[a++]=s;n[a++]=y;p=s;l=y;s=c;y=d}n[a++]=s;n[a++]=y;return a};ol.geom.flat.simplify.quantizes=function(e,t,r,o,n,a,p,l){var s,y;for(s=0,y=r.length;s<y;++s){var c=r[s];p=ol.geom.flat.simplify.quantize(e,t,c,o,n,a,p);l.push(p);t=c}return p};ol.geom.flat.simplify.quantizess=function(e,t,r,o,n,a,p,l){var s,y;for(s=0,y=r.length;s<y;++s){var c=r[s],d=[];p=ol.geom.flat.simplify.quantizes(e,t,c,o,n,a,p,d);l.push(d);t=c[c.length-1]}return p};goog.provide("ol.geom.LinearRing");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.simplify");ol.geom.LinearRing=function(e,t){ol.geom.SimpleGeometry.call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry);ol.geom.LinearRing.prototype.clone=function(){var e=new ol.geom.LinearRing(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.LinearRing.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,o)};ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var r=new ol.geom.LinearRing(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t);return r};ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING};ol.geom.LinearRing.prototype.intersectsExtent=function(){};ol.geom.LinearRing.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.LinearRing.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.Point");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.math");ol.geom.Point=function(e,t){ol.geom.SimpleGeometry.call(this);this.setCoordinates(e,t)};ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var e=new ol.geom.Point(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.Point.prototype.closestPointXY=function(e,t,r,o){var n=this.flatCoordinates,a=ol.math.squaredDistance(e,t,n[0],n[1]);if(a<o){var p=this.stride,l;for(l=0;l<p;++l){r[l]=n[l]}r.length=p;return a}else{return o}};ol.geom.Point.prototype.getCoordinates=function(){return!this.flatCoordinates?[]:this.flatCoordinates.slice()};ol.geom.Point.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,e)};ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT};ol.geom.Point.prototype.intersectsExtent=function(e){return ol.extent.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])};ol.geom.Point.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.Point.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.flat.contains");goog.require("ol.extent");ol.geom.flat.contains.linearRingContainsExtent=function(e,t,r,o,i){var n=ol.extent.forEachCorner(i,function(i){return!ol.geom.flat.contains.linearRingContainsXY(e,t,r,o,i[0],i[1])});return!n};ol.geom.flat.contains.linearRingContainsXY=function(e,t,r,o,i,n){var a=0,p=e[r-o],l=e[r-o+1];for(;t<r;t+=o){var s=e[t],y=e[t+1];if(l<=n){if(y>n&&0<(s-p)*(n-l)-(i-p)*(y-l)){a++}}else if(y<=n&&0>(s-p)*(n-l)-(i-p)*(y-l)){a--}p=s;l=y}return 0!=a};ol.geom.flat.contains.linearRingsContainsXY=function(e,t,r,o,n,a){if(0===r.length){return!1}if(!ol.geom.flat.contains.linearRingContainsXY(e,t,r[0],o,n,a)){return!1}var p,l;for(p=1,l=r.length;p<l;++p){if(ol.geom.flat.contains.linearRingContainsXY(e,r[p-1],r[p],o,n,a)){return!1}}return!0};ol.geom.flat.contains.linearRingssContainsXY=function(e,t,r,o,n,a){if(0===r.length){return!1}var p,l;for(p=0,l=r.length;p<l;++p){var s=r[p];if(ol.geom.flat.contains.linearRingsContainsXY(e,t,s,o,n,a)){return!0}t=s[s.length-1]}return!1};goog.provide("ol.geom.flat.interiorpoint");goog.require("ol.array");goog.require("ol.geom.flat.contains");ol.geom.flat.interiorpoint.linearRings=function(e,t,r,o,n,a,p){var l,s,c,d,g,m,u,_=n[a+1],y=[],f=r[0];d=e[f-o];m=e[f-o+1];for(l=t;l<f;l+=o){g=e[l];u=e[l+1];if(_<=m&&u<=_||m<=_&&_<=u){c=(_-m)/(u-m)*(g-d)+d;y.push(c)}d=g;m=u}var S=NaN,P=-Infinity;y.sort(ol.array.numberSafeCompareFunction);d=y[0];for(l=1,s=y.length;l<s;++l){g=y[l];var T=Math.abs(g-d);if(T>P){c=(d+g)/2;if(ol.geom.flat.contains.linearRingsContainsXY(e,t,r,o,c,_)){S=c;P=T}}d=g}if(isNaN(S)){S=n[a]}if(p){p.push(S,_,P);return p}else{return[S,_,P]}};ol.geom.flat.interiorpoint.linearRingss=function(e,t,r,o,n){var a=[],p,l;for(p=0,l=r.length;p<l;++p){var s=r[p];a=ol.geom.flat.interiorpoint.linearRings(e,t,s,o,n,2*p,a);t=s[s.length-1]}return a};goog.provide("ol.geom.flat.segments");ol.geom.flat.segments.forEach=function(e,t,r,o,i,n){var a=[e[t],e[t+1]],p=[],l;for(;t+o<r;t+=o){p[0]=e[t+o];p[1]=e[t+o+1];l=i.call(n,a,p);if(l){return l}a[0]=p[0];a[1]=p[1]}return!1};goog.provide("ol.geom.flat.intersectsextent");goog.require("ol.extent");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.segments");ol.geom.flat.intersectsextent.lineString=function(e,t,r,o,i){var n=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),e,t,r,o);if(!ol.extent.intersects(i,n)){return!1}if(ol.extent.containsExtent(i,n)){return!0}if(n[0]>=i[0]&&n[2]<=i[2]){return!0}if(n[1]>=i[1]&&n[3]<=i[3]){return!0}return ol.geom.flat.segments.forEach(e,t,r,o,function(e,t){return ol.extent.intersectsSegment(i,e,t)})};ol.geom.flat.intersectsextent.lineStrings=function(e,t,r,o,n){var a,p;for(a=0,p=r.length;a<p;++a){if(ol.geom.flat.intersectsextent.lineString(e,t,r[a],o,n)){return!0}t=r[a]}return!1};ol.geom.flat.intersectsextent.linearRing=function(e,t,r,o,i){if(ol.geom.flat.intersectsextent.lineString(e,t,r,o,i)){return!0}if(ol.geom.flat.contains.linearRingContainsXY(e,t,r,o,i[0],i[1])){return!0}if(ol.geom.flat.contains.linearRingContainsXY(e,t,r,o,i[0],i[3])){return!0}if(ol.geom.flat.contains.linearRingContainsXY(e,t,r,o,i[2],i[1])){return!0}if(ol.geom.flat.contains.linearRingContainsXY(e,t,r,o,i[2],i[3])){return!0}return!1};ol.geom.flat.intersectsextent.linearRings=function(e,t,r,o,n){if(!ol.geom.flat.intersectsextent.linearRing(e,t,r[0],o,n)){return!1}if(1===r.length){return!0}var a,p;for(a=1,p=r.length;a<p;++a){if(ol.geom.flat.contains.linearRingContainsExtent(e,r[a-1],r[a],o,n)){return!1}}return!0};ol.geom.flat.intersectsextent.linearRingss=function(e,t,r,o,n){var a,p;for(a=0,p=r.length;a<p;++a){var l=r[a];if(ol.geom.flat.intersectsextent.linearRings(e,t,l,o,n)){return!0}t=l[l.length-1]}return!1};goog.provide("ol.geom.flat.reverse");ol.geom.flat.reverse.coordinates=function(e,t,r,o){while(t<r-o){var n;for(n=0;n<o;++n){var a=e[t+n];e[t+n]=e[r-o+n];e[r-o+n]=a}t+=o;r-=o}};goog.provide("ol.geom.flat.orient");goog.require("ol.geom.flat.reverse");ol.geom.flat.orient.linearRingIsClockwise=function(e,t,r,o){var i=0,n=e[r-o],a=e[r-o+1];for(;t<r;t+=o){var p=e[t],l=e[t+1];i+=(p-n)*(l+a);n=p;a=l}return 0<i};ol.geom.flat.orient.linearRingsAreOriented=function(e,t,r,o,n){var a=n!==void 0?n:!1,p,l;for(p=0,l=r.length;p<l;++p){var s=r[p],y=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,o);if(0===p){if(a&&y||!a&&!y){return!1}}else{if(a&&!y||!a&&y){return!1}}t=s}return!0};ol.geom.flat.orient.linearRingssAreOriented=function(e,t,r,o,n){var a,p;for(a=0,p=r.length;a<p;++a){if(!ol.geom.flat.orient.linearRingsAreOriented(e,t,r[a],o,n)){return!1}}return!0};ol.geom.flat.orient.orientLinearRings=function(e,t,r,o,n){var a=n!==void 0?n:!1,p,l;for(p=0,l=r.length;p<l;++p){var s=r[p],y=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,o),c=0===p?a&&y||!a&&!y:a&&!y||!a&&y;if(c){ol.geom.flat.reverse.coordinates(e,t,s,o)}t=s}return t};ol.geom.flat.orient.orientLinearRingss=function(e,t,r,o,n){var a,p;for(a=0,p=r.length;a<p;++a){t=ol.geom.flat.orient.orientLinearRings(e,t,r[a],o,n)}return t};goog.provide("ol.geom.Polygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LinearRing");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.Polygon=function(e,t){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,t)};ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry);ol.geom.Polygon.prototype.appendLinearRing=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.Polygon.prototype.clone=function(){var e=new ol.geom.Polygon(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return e};ol.geom.Polygon.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,o)};ol.geom.Polygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)};ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getCoordinates=function(e){var t;if(e!==void 0){t=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRings(t,0,this.ends_,this.stride,e)}else{t=this.flatCoordinates}return ol.geom.flat.inflate.coordinatess(t,0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getEnds=function(){return this.ends_};ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint(),ol.geom.GeometryLayout.XYM)};ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length};ol.geom.Polygon.prototype.getLinearRing=function(e){if(0>e||this.ends_.length<=e){return null}var t=new ol.geom.LinearRing(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]));return t};ol.geom.Polygon.prototype.getLinearRings=function(){var e=this.layout,t=this.flatCoordinates,r=this.ends_,o=[],n=0,a,p;for(a=0,p=r.length;a<p;++a){var l=r[a],s=new ol.geom.LinearRing(null);s.setFlatCoordinates(e,t.slice(n,l));o.push(s);n=l}return o};ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(ol.geom.flat.orient.linearRingsAreOriented(e,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[],r=[];t.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,r);var o=new ol.geom.Polygon(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,r);return o};ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON};ol.geom.Polygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)};ol.geom.Polygon.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(t,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1];this.changed()}};ol.geom.Polygon.prototype.setFlatCoordinates=function(e,t,r){this.setFlatCoordinatesInternal(e,t);this.ends_=r;this.changed()};ol.geom.Polygon.circular=function(e,t,r,o){var a=o?o:32,n=[],p;for(p=0;p<a;++p){ol.array.extend(n,e.offset(t,r,2*Math.PI*p/a))}n.push(n[0],n[1]);var l=new ol.geom.Polygon(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]);return l};ol.geom.Polygon.fromExtent=function(e){var t=e[0],r=e[1],o=e[2],i=e[3],n=[t,r,t,i,o,i,o,r,t,r],a=new ol.geom.Polygon(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]);return a};ol.geom.Polygon.fromCircle=function(e,t,r){for(var o=t?t:32,n=e.getStride(),a=e.getLayout(),p=new ol.geom.Polygon(null,a),l=n*(o+1),s=Array(l),y=0;y<l;y++){s[y]=0}var c=[s.length];p.setFlatCoordinates(a,s,c);ol.geom.Polygon.makeRegular(p,e.getCenter(),e.getRadius(),r);return p};ol.geom.Polygon.makeRegular=function(e,t,r,o){for(var n=e.getFlatCoordinates(),a=e.getLayout(),p=e.getStride(),l=e.getEnds(),s=n.length/p-1,y=o?o:0,c,d,g=0;g<=s;++g){d=g*p;c=y+2*ol.math.modulo(g,s)*Math.PI/s;n[d]=t[0]+r*Math.cos(c);n[d+1]=t[1]+r*Math.sin(c)}e.setFlatCoordinates(a,n,l)};goog.provide("ol.View");goog.require("ol");goog.require("ol.CenterConstraint");goog.require("ol.Object");goog.require("ol.ResolutionConstraint");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.ViewProperty");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.proj.Units");ol.View=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.updateAnimations_=this.updateAnimations_.bind(this);this.projection_=ol.proj.createProjection(t.projection,"EPSG:3857");this.applyOptions_(t)};ol.inherits(ol.View,ol.Object);ol.View.prototype.applyOptions_=function(e){var t={};t[ol.ViewProperty.CENTER]=e.center!==void 0?e.center:null;var r=ol.View.createResolutionConstraint_(e);this.maxResolution_=r.maxResolution;this.minResolution_=r.minResolution;this.zoomFactor_=r.zoomFactor;this.resolutions_=e.resolutions;this.minZoom_=r.minZoom;var o=ol.View.createCenterConstraint_(e),i=r.constraint,n=ol.View.createRotationConstraint_(e);this.constraints_={center:o,resolution:i,rotation:n};if(e.resolution!==void 0){t[ol.ViewProperty.RESOLUTION]=e.resolution}else if(e.zoom!==void 0){t[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_)}t[ol.ViewProperty.ROTATION]=e.rotation!==void 0?e.rotation:0;this.setProperties(t);this.options_=e};ol.View.prototype.getUpdatedOptions_=function(e){var t=ol.obj.assign({},this.options_);if(t.resolution!==void 0){t.resolution=this.getResolution()}else{t.zoom=this.getZoom()}t.center=this.getCenter();t.rotation=this.getRotation();return ol.obj.assign({},t,e)};ol.View.prototype.animate=function(){var e=arguments.length,t;if(1<e&&"function"==typeof arguments[e-1]){t=arguments[e-1];--e}if(!this.isDef()){var r=arguments[e-1];if(r.center){this.setCenter(r.center)}if(r.zoom!==void 0){this.setZoom(r.zoom)}if(r.rotation!==void 0){this.setRotation(r.rotation)}if(t){t(!0)}return}for(var o=Date.now(),n=this.getCenter().slice(),a=this.getResolution(),p=this.getRotation(),l=[],s=0;s<e;++s){var y=arguments[s],c={start:o,complete:!1,anchor:y.anchor,duration:y.duration!==void 0?y.duration:1e3,easing:y.easing||ol.easing.inAndOut};if(y.center){c.sourceCenter=n;c.targetCenter=y.center;n=c.targetCenter}if(y.zoom!==void 0){c.sourceResolution=a;c.targetResolution=this.constrainResolution(this.maxResolution_,y.zoom-this.minZoom_,0);a=c.targetResolution}else if(y.resolution){c.sourceResolution=a;c.targetResolution=y.resolution;a=c.targetResolution}if(y.rotation!==void 0){c.sourceRotation=p;var d=ol.math.modulo(y.rotation-p+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=p+d;p=c.targetRotation}c.callback=t;if(ol.View.isNoopAnimation(c)){c.complete=!0}else{o+=c.duration}l.push(c)}this.animations_.push(l);this.setHint(ol.ViewHint.ANIMATING,1);this.updateAnimations_()};ol.View.prototype.getAnimating=function(){return 0<this.hints_[ol.ViewHint.ANIMATING]};ol.View.prototype.getInteracting=function(){return 0<this.hints_[ol.ViewHint.INTERACTING]};ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.hints_[ol.ViewHint.ANIMATING]);for(var e=0,t=this.animations_.length,r;e<t;++e){r=this.animations_[e];if(r[0].callback){r[0].callback(!1)}}this.animations_.length=0};ol.View.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0){cancelAnimationFrame(this.updateAnimationKey_);this.updateAnimationKey_=void 0}if(!this.getAnimating()){return}for(var e=Date.now(),t=!1,r=this.animations_.length-1;0<=r;--r){for(var o=this.animations_[r],n=!0,a=0,p=o.length,l;a<p;++a){l=o[a];if(l.complete){continue}var s=e-l.start,y=0<l.duration?s/l.duration:1;if(1<=y){l.complete=!0;y=1}else{n=!1}var c=l.easing(y);if(l.sourceCenter){var d=l.sourceCenter[0],g=l.sourceCenter[1],m=l.targetCenter[0],u=l.targetCenter[1];this.set(ol.ViewProperty.CENTER,[d+c*(m-d),g+c*(u-g)])}if(l.sourceResolution&&l.targetResolution){var _=1===c?l.targetResolution:l.sourceResolution+c*(l.targetResolution-l.sourceResolution);if(l.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(_,l.anchor))}this.set(ol.ViewProperty.RESOLUTION,_)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){var f=1===c?ol.math.modulo(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+c*(l.targetRotation-l.sourceRotation);if(l.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(f,l.anchor))}this.set(ol.ViewProperty.ROTATION,f)}t=!0;if(!l.complete){break}}if(n){this.animations_[r]=null;this.setHint(ol.ViewHint.ANIMATING,-1);var S=o[0].callback;if(S){S(!0)}}}this.animations_=this.animations_.filter(Boolean);if(t&&this.updateAnimationKey_===void 0){this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_)}};ol.View.prototype.calculateCenterRotate=function(e,t){var r,o=this.getCenter();if(o!==void 0){r=[o[0]-t[0],o[1]-t[1]];ol.coordinate.rotate(r,e-this.getRotation());ol.coordinate.add(r,t)}return r};ol.View.prototype.calculateCenterZoom=function(e,t){var r,o=this.getCenter(),i=this.getResolution();if(o!==void 0&&i!==void 0){var n=t[0]-e*(t[0]-o[0])/i,a=t[1]-e*(t[1]-o[1])/i;r=[n,a]}return r};ol.View.prototype.getSizeFromViewport_=function(){var e=[100,100],t=".ol-viewport[data-view=\""+ol.getUid(this)+"\"]",r=document.querySelector(t);if(r){var o=getComputedStyle(r);e[0]=parseInt(o.width,10);e[1]=parseInt(o.height,10)}return e};ol.View.prototype.constrainCenter=function(e){return this.constraints_.center(e)};ol.View.prototype.constrainResolution=function(e,t,r){return this.constraints_.resolution(e,t||0,r||0)};ol.View.prototype.constrainRotation=function(e,t){return this.constraints_.rotation(e,t||0)};ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)};ol.View.prototype.getConstraints=function(){return this.constraints_};ol.View.prototype.getHints=function(e){if(e!==void 0){e[0]=this.hints_[0];e[1]=this.hints_[1];return e}else{return this.hints_.slice()}};ol.View.prototype.calculateExtent=function(e){var t=e||this.getSizeFromViewport_(),r=this.getCenter();ol.asserts.assert(r,1);var o=this.getResolution();ol.asserts.assert(o!==void 0,2);var i=this.getRotation();ol.asserts.assert(i!==void 0,3);return ol.extent.getForViewAndSize(r,o,i,t)};ol.View.prototype.getMaxResolution=function(){return this.maxResolution_};ol.View.prototype.getMinResolution=function(){return this.minResolution_};ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};ol.View.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))};ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};ol.View.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))};ol.View.prototype.getProjection=function(){return this.projection_};ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)};ol.View.prototype.getResolutions=function(){return this.resolutions_};ol.View.prototype.getResolutionForExtent=function(e,t){var r=t||this.getSizeFromViewport_(),o=ol.extent.getWidth(e)/r[0],i=ol.extent.getHeight(e)/r[1];return Math.max(o,i)};ol.View.prototype.getResolutionForValueFunction=function(e){var t=e||2,r=this.maxResolution_,o=this.minResolution_,i=Math.log(r/o)/Math.log(t);return function(e){var o=r/Math.pow(t,e*i);return o}};ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)};ol.View.prototype.getValueForResolutionFunction=function(e){var t=e||2,r=this.maxResolution_,o=this.minResolution_,i=Math.log(r/o)/Math.log(t);return function(e){var o=Math.log(r/e)/Math.log(t)/i;return o}};ol.View.prototype.getState=function(){var e=this.getCenter(),t=this.getProjection(),r=this.getResolution(),o=this.getRotation();return{center:e.slice(),projection:t!==void 0?t:null,resolution:r,rotation:o,zoom:this.getZoom()}};ol.View.prototype.getZoom=function(){var e,t=this.getResolution();if(t!==void 0){e=this.getZoomForResolution(t)}return e};ol.View.prototype.getZoomForResolution=function(e){var t=this.minZoom_||0,r,o;if(this.resolutions_){var i=ol.array.linearFindNearest(this.resolutions_,e,1);t+=i;r=this.resolutions_[i];if(i==this.resolutions_.length-1){o=2}else{o=r/this.resolutions_[i+1]}}else{r=this.maxResolution_;o=this.zoomFactor_}return t+Math.log(r/e)/Math.log(o)};ol.View.prototype.getResolutionForZoom=function(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)};ol.View.prototype.fit=function(e,t){var r=t||{},o=r.size;if(!o){o=this.getSizeFromViewport_()}var n;if(!(e instanceof ol.geom.SimpleGeometry)){ol.asserts.assert(Array.isArray(e),24);ol.asserts.assert(!ol.extent.isEmpty(e),25);n=ol.geom.Polygon.fromExtent(e)}else if(e.getType()===ol.geom.GeometryType.CIRCLE){e=e.getExtent();n=ol.geom.Polygon.fromExtent(e);n.rotate(this.getRotation(),ol.extent.getCenter(e))}else{n=e}var a=r.padding!==void 0?r.padding:[0,0,0,0],p=r.constrainResolution!==void 0?r.constrainResolution:!0,l=r.nearest!==void 0?r.nearest:!1,s;if(r.minResolution!==void 0){s=r.minResolution}else if(r.maxZoom!==void 0){s=this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0)}else{s=0}for(var y=n.getFlatCoordinates(),c=this.getRotation(),d=Math.cos(-c),g=Math.sin(-c),m=+Infinity,u=+Infinity,_=-Infinity,f=-Infinity,S=n.getStride(),x=0,P=y.length;x<P;x+=S){var T=y[x]*d-y[x+1]*g,E=y[x]*g+y[x+1]*d;m=Math.min(m,T);u=Math.min(u,E);_=Math.max(_,T);f=Math.max(f,E)}var h=this.getResolutionForExtent([m,u,_,f],[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);h=isNaN(h)?s:Math.max(h,s);if(p){var v=this.constrainResolution(h,0,0);if(!l&&v<h){v=this.constrainResolution(v,-1,0)}h=v}g=-g;var R=(m+_)/2,C=(u+f)/2;R+=(a[1]-a[3])/2*h;C+=(a[0]-a[2])/2*h;var L=R*d-C*g,M=C*d+R*g,I=[L,M],b=r.callback?r.callback:ol.nullFunction;if(r.duration!==void 0){this.animate({resolution:h,center:I,duration:r.duration,easing:r.easing},b)}else{this.setResolution(h);this.setCenter(I);setTimeout(b.bind(void 0,!0),0)}};ol.View.prototype.centerOn=function(e,t,r){var o=this.getRotation(),i=Math.cos(-o),n=Math.sin(-o),a=e[0]*i-e[1]*n,p=e[1]*i+e[0]*n,l=this.getResolution();a+=(t[0]/2-r[0])*l;p+=(r[1]-t[1]/2)*l;n=-n;var s=a*i-p*n,y=p*i+a*n;this.setCenter([s,y])};ol.View.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==void 0};ol.View.prototype.rotate=function(e,t){if(t!==void 0){var r=this.calculateCenterRotate(e,t);this.setCenter(r)}this.setRotation(e)};ol.View.prototype.setCenter=function(e){this.set(ol.ViewProperty.CENTER,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setHint=function(e,t){this.hints_[e]+=t;this.changed();return this.hints_[e]};ol.View.prototype.setResolution=function(e){this.set(ol.ViewProperty.RESOLUTION,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setRotation=function(e){this.set(ol.ViewProperty.ROTATION,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))};ol.View.createCenterConstraint_=function(e){if(e.extent!==void 0){return ol.CenterConstraint.createExtent(e.extent)}else{return ol.CenterConstraint.none}};ol.View.createResolutionConstraint_=function(e){var t,r,o,i=28,n=2,a=e.minZoom!==void 0?e.minZoom:ol.DEFAULT_MIN_ZOOM,p=e.maxZoom!==void 0?e.maxZoom:i,l=e.zoomFactor!==void 0?e.zoomFactor:n;if(e.resolutions!==void 0){var s=e.resolutions;r=s[0];o=s[s.length-1];t=ol.ResolutionConstraint.createSnapToResolutions(s)}else{var y=ol.proj.createProjection(e.projection,"EPSG:3857"),c=y.getExtent(),d=!c?360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/y.getMetersPerUnit():Math.max(ol.extent.getWidth(c),ol.extent.getHeight(c)),g=d/ol.DEFAULT_TILE_SIZE/Math.pow(n,ol.DEFAULT_MIN_ZOOM),m=g/Math.pow(n,i-ol.DEFAULT_MIN_ZOOM);r=e.maxResolution;if(r!==void 0){a=0}else{r=g/Math.pow(l,a)}o=e.minResolution;if(o===void 0){if(e.maxZoom!==void 0){if(e.maxResolution!==void 0){o=r/Math.pow(l,p)}else{o=g/Math.pow(l,p)}}else{o=m}}p=a+Math.floor(Math.log(r/o)/Math.log(l));o=r/Math.pow(l,p-a);t=ol.ResolutionConstraint.createSnapToPower(l,r,p-a)}return{constraint:t,maxResolution:r,minResolution:o,minZoom:a,zoomFactor:l}};ol.View.createRotationConstraint_=function(e){var t=e.enableRotation!==void 0?e.enableRotation:!0;if(t){var r=e.constrainRotation;if(r===void 0||!0===r){return ol.RotationConstraint.createSnapToZero()}else if(!1===r){return ol.RotationConstraint.none}else if("number"==typeof r){return ol.RotationConstraint.createSnapToN(r)}else{return ol.RotationConstraint.none}}else{return ol.RotationConstraint.disable}};ol.View.isNoopAnimation=function(e){if(e.sourceCenter&&e.targetCenter){if(!ol.coordinate.equals(e.sourceCenter,e.targetCenter)){return!1}}if(e.sourceResolution!==e.targetResolution){return!1}if(e.sourceRotation!==e.targetRotation){return!1}return!0};goog.provide("ol.dom");ol.dom.createCanvasContext2D=function(e,t){var r=document.createElement("CANVAS");if(e){r.width=e}if(t){r.height=t}return r.getContext("2d")};ol.dom.outerWidth=function(e){var t=e.offsetWidth,r=getComputedStyle(e);t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10);return t};ol.dom.outerHeight=function(e){var t=e.offsetHeight,r=getComputedStyle(e);t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10);return t};ol.dom.replaceNode=function(e,t){var r=t.parentNode;if(r){r.replaceChild(e,t)}};ol.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null};ol.dom.removeChildren=function(e){while(e.lastChild){e.removeChild(e.lastChild)}};goog.provide("ol.layer.Property");ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};goog.provide("ol.layer.Base");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Property");goog.require("ol.math");goog.require("ol.obj");ol.layer.Base=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);t[ol.layer.Property.OPACITY]=e.opacity!==void 0?e.opacity:1;t[ol.layer.Property.VISIBLE]=e.visible!==void 0?e.visible:!0;t[ol.layer.Property.Z_INDEX]=e.zIndex!==void 0?e.zIndex:0;t[ol.layer.Property.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0;t[ol.layer.Property.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0;this.setProperties(t);this.state_={layer:this,managed:!0};this.type};ol.inherits(ol.layer.Base,ol.Object);ol.layer.Base.prototype.getType=function(){return this.type};ol.layer.Base.prototype.getLayerState=function(){this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1);this.state_.sourceState=this.getSourceState();this.state_.visible=this.getVisible();this.state_.extent=this.getExtent();this.state_.zIndex=this.getZIndex();this.state_.maxResolution=this.getMaxResolution();this.state_.minResolution=Math.max(this.getMinResolution(),0);return this.state_};ol.layer.Base.prototype.getLayersArray=function(){};ol.layer.Base.prototype.getLayerStatesArray=function(){};ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)};ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)};ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)};ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)};ol.layer.Base.prototype.getSourceState=function(){};ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)};ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)};ol.layer.Base.prototype.setExtent=function(e){this.set(ol.layer.Property.EXTENT,e)};ol.layer.Base.prototype.setMaxResolution=function(e){this.set(ol.layer.Property.MAX_RESOLUTION,e)};ol.layer.Base.prototype.setMinResolution=function(e){this.set(ol.layer.Property.MIN_RESOLUTION,e)};ol.layer.Base.prototype.setOpacity=function(e){this.set(ol.layer.Property.OPACITY,e)};ol.layer.Base.prototype.setVisible=function(e){this.set(ol.layer.Property.VISIBLE,e)};ol.layer.Base.prototype.setZIndex=function(e){this.set(ol.layer.Property.Z_INDEX,e)};goog.provide("ol.source.State");ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};goog.provide("ol.layer.Group");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.layer.Base");goog.require("ol.obj");goog.require("ol.source.State");ol.layer.Group=function(e){var t=e||{},r=ol.obj.assign({},t);delete r.layers;var o=t.layers;ol.layer.Base.call(this,r);this.layersListenerKeys_=[];this.listenerKeys_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this);if(o){if(Array.isArray(o)){o=new ol.Collection(o.slice(),{unique:!0})}else{ol.asserts.assert(o instanceof ol.Collection,43);o=o}}else{o=new ol.Collection(void 0,{unique:!0})}this.setLayers(o)};ol.inherits(ol.layer.Group,ol.layer.Base);ol.layer.Group.prototype.handleLayerChange_=function(){this.changed()};ol.layer.Group.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(ol.events.unlistenByKey);this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(e,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(e,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var t in this.listenerKeys_){this.listenerKeys_[t].forEach(ol.events.unlistenByKey)}ol.obj.clear(this.listenerKeys_);var r=e.getArray(),o,n,a;for(o=0,n=r.length;o<n;o++){a=r[o];this.listenerKeys_[ol.getUid(a).toString()]=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.handleLayerChange_,this)]}this.changed()};ol.layer.Group.prototype.handleLayersAdd_=function(e){var t=e.element,r=ol.getUid(t).toString();this.listenerKeys_[r]=[ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(t,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()};ol.layer.Group.prototype.handleLayersRemove_=function(e){var t=e.element,r=ol.getUid(t).toString();this.listenerKeys_[r].forEach(ol.events.unlistenByKey);delete this.listenerKeys_[r];this.changed()};ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)};ol.layer.Group.prototype.setLayers=function(e){this.set(ol.layer.Group.Property_.LAYERS,e)};ol.layer.Group.prototype.getLayersArray=function(e){var t=e!==void 0?e:[];this.getLayers().forEach(function(e){e.getLayersArray(t)});return t};ol.layer.Group.prototype.getLayerStatesArray=function(e){var t=e!==void 0?e:[],r=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});var o=this.getLayerState(),n,a,p;for(n=r,a=t.length;n<a;n++){p=t[n];p.opacity*=o.opacity;p.visible=p.visible&&o.visible;p.maxResolution=Math.min(p.maxResolution,o.maxResolution);p.minResolution=Math.max(p.minResolution,o.minResolution);if(o.extent!==void 0){if(p.extent!==void 0){p.extent=ol.extent.getIntersection(p.extent,o.extent)}else{p.extent=o.extent}}}return t};ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY};ol.layer.Group.Property_={LAYERS:"layers"};goog.provide("ol.PluginType");ol.PluginType={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"};goog.provide("ol.plugins");goog.require("ol.PluginType");ol.plugins.mapRendererPlugins_=[];ol.plugins.getMapRendererPlugins=function(){return ol.plugins.mapRendererPlugins_};ol.plugins.layerRendererPlugins_=[];ol.plugins.getLayerRendererPlugins=function(){return ol.plugins.layerRendererPlugins_};ol.plugins.register=function(e,t){var r;switch(e){case ol.PluginType.MAP_RENDERER:{r=ol.plugins.mapRendererPlugins_;r.push(t);break}case ol.PluginType.LAYER_RENDERER:{r=ol.plugins.layerRendererPlugins_;r.push(t);break}default:{throw new Error("Unsupported plugin type: "+e)}}};ol.plugins.registerMultiple=function(e,t){for(var r=0,o=t.length;r<o;++r){ol.plugins.register(e,t[r])}};goog.provide("ol.renderer.Type");ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"};goog.provide("ol.PluggableMap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.MapBrowserEvent");goog.require("ol.MapBrowserEventHandler");goog.require("ol.MapBrowserEventType");goog.require("ol.MapEvent");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.TileQueue");goog.require("ol.View");goog.require("ol.ViewHint");goog.require("ol.asserts");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.has");goog.require("ol.layer.Group");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.Type");goog.require("ol.size");goog.require("ol.structs.PriorityQueue");goog.require("ol.transform");ol.PluggableMap=function(e){ol.Object.call(this);var t=ol.PluggableMap.createOptionsInternal(e);this.loadTilesWhileAnimating_=e.loadTilesWhileAnimating!==void 0?e.loadTilesWhileAnimating:!1;this.loadTilesWhileInteracting_=e.loadTilesWhileInteracting!==void 0?e.loadTilesWhileInteracting:!1;this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:ol.has.DEVICE_PIXEL_RATIO;this.logos_=t.logos;this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=ol.transform.create();this.pixelToCoordinateTransform_=ol.transform.create();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=null;this.viewPropertyListenerKey_=null;this.viewChangeListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement("DIV");this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var r=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL],o=0,n=r.length;o<n;++o){ol.events.listen(this.overlayContainerStopEvent_,r[o],ol.events.Event.stopPropagation)}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this,e.moveTolerance);for(var a in ol.MapBrowserEventType){ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[a],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=t.keyboardEventTarget;this.keyHandlerKeys_=null;ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);this.controls=t.controls||new ol.Collection;this.interactions=t.interactions||new ol.Collection;this.overlays_=t.overlays;this.overlayIdIndex_={};this.renderer_=t.mapRendererPlugin.create(this.viewport_,this);this.handleResize_;this.focus_=null;this.postRenderFunctions_=[];this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this);this.setProperties(t.values);this.controls.forEach(function(e){e.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this);this.interactions.forEach(function(e){e.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_,this);ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(e){this.addOverlayInternal_(e.element)},this);ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(e){var t=e.element,r=t.getId();if(r!==void 0){delete this.overlayIdIndex_[r.toString()]}e.element.setMap(null)},this)};ol.inherits(ol.PluggableMap,ol.Object);ol.PluggableMap.prototype.addControl=function(e){this.getControls().push(e)};ol.PluggableMap.prototype.addInteraction=function(e){this.getInteractions().push(e)};ol.PluggableMap.prototype.addLayer=function(e){var t=this.getLayerGroup().getLayers();t.push(e)};ol.PluggableMap.prototype.addOverlay=function(e){this.getOverlays().push(e)};ol.PluggableMap.prototype.addOverlayInternal_=function(e){var t=e.getId();if(t!==void 0){this.overlayIdIndex_[t.toString()]=e}e.setMap(this)};ol.PluggableMap.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();this.renderer_.dispose();ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==void 0){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1);this.handleResize_=void 0}if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=void 0}this.setTarget(null);ol.Object.prototype.disposeInternal.call(this)};ol.PluggableMap.prototype.forEachFeatureAtPixel=function(e,t,r){if(!this.frameState_){return}var o=this.getCoordinateFromPixel(e);r=r!==void 0?r:{};var i=r.hitTolerance!==void 0?r.hitTolerance*this.frameState_.pixelRatio:0,n=r.layerFilter!==void 0?r.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,i,t,null,n,null)};ol.PluggableMap.prototype.getFeaturesAtPixel=function(e,t){var r=null;this.forEachFeatureAtPixel(e,function(e){if(!r){r=[]}r.push(e)},t);return r};ol.PluggableMap.prototype.forEachLayerAtPixel=function(e,t,r,o,i){if(!this.frameState_){return}var n=r!==void 0?r:null,a=o!==void 0?o:ol.functions.TRUE,p=i!==void 0?i:null;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,t,n,a,p)};ol.PluggableMap.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_){return!1}var r=this.getCoordinateFromPixel(e);t=t!==void 0?t:{};var o=t.layerFilter!==void 0?t.layerFilter:ol.functions.TRUE,i=t.hitTolerance!==void 0?t.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,o,null)};ol.PluggableMap.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))};ol.PluggableMap.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),r=e.changedTouches?e.changedTouches[0]:e;return[r.clientX-t.left,r.clientY-t.top]};ol.PluggableMap.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)};ol.PluggableMap.prototype.getTargetElement=function(){var e=this.getTarget();if(e!==void 0){return"string"==typeof e?document.getElementById(e):e}else{return null}};ol.PluggableMap.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;if(!t){return null}else{return ol.transform.apply(t.pixelToCoordinateTransform,e.slice())}};ol.PluggableMap.prototype.getControls=function(){return this.controls};ol.PluggableMap.prototype.getOverlays=function(){return this.overlays_};ol.PluggableMap.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null};ol.PluggableMap.prototype.getInteractions=function(){return this.interactions};ol.PluggableMap.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)};ol.PluggableMap.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e};ol.PluggableMap.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;if(!t){return null}else{return ol.transform.apply(t.coordinateToPixelTransform,e.slice(0,2))}};ol.PluggableMap.prototype.getRenderer=function(){return this.renderer_};ol.PluggableMap.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)};ol.PluggableMap.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)};ol.PluggableMap.prototype.getViewport=function(){return this.viewport_};ol.PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_};ol.PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ol.PluggableMap.prototype.getTilePriority=function(e,t,r,o){var i=this.frameState_;if(!i||!(t in i.wantedTiles)){return ol.structs.PriorityQueue.DROP}if(!i.wantedTiles[t][e.getKey()]){return ol.structs.PriorityQueue.DROP}var n=r[0]-i.focus[0],a=r[1]-i.focus[1];return 65536*Math.log(o)+Math.sqrt(n*n+a*a)/o};ol.PluggableMap.prototype.handleBrowserEvent=function(e,t){var r=t||e.type,o=new ol.MapBrowserEvent(r,this,e);this.handleMapBrowserEvent(o)};ol.PluggableMap.prototype.handleMapBrowserEvent=function(e){if(!this.frameState_){return}this.focus_=e.coordinate;e.frameState=this.frameState_;var t=this.getInteractions().getArray(),r;if(!1!==this.dispatchEvent(e)){for(r=t.length-1;0<=r;r--){var o=t[r];if(!o.getActive()){continue}var n=o.handleEvent(e);if(!n){break}}}};ol.PluggableMap.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=16,o=r;if(e){var n=e.viewHints;if(n[ol.ViewHint.ANIMATING]){r=this.loadTilesWhileAnimating_?8:0;o=2}if(n[ol.ViewHint.INTERACTING]){r=this.loadTilesWhileInteracting_?8:0;o=2}}if(t.getTilesLoading()<r){t.reprioritize();t.loadMoreTiles(r,o)}}var a=this.postRenderFunctions_,p,l;for(p=0,l=a.length;p<l;++p){a[p](this,e)}a.length=0};ol.PluggableMap.prototype.handleSizeChanged_=function(){this.render()};ol.PluggableMap.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()){e=this.getTargetElement()}if(this.keyHandlerKeys_){for(var t=0,r=this.keyHandlerKeys_.length;t<r;++t){ol.events.unlistenByKey(this.keyHandlerKeys_[t])}this.keyHandlerKeys_=null}if(!e){ol.dom.removeNode(this.viewport_);if(this.handleResize_!==void 0){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1);this.handleResize_=void 0}}else{e.appendChild(this.viewport_);var o=!this.keyboardEventTarget_?e:this.keyboardEventTarget_;this.keyHandlerKeys_=[ol.events.listen(o,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(o,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,!1)}}this.updateSize()};ol.PluggableMap.prototype.handleTileChange_=function(){this.render()};ol.PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()};ol.PluggableMap.prototype.handleViewChanged_=function(){if(this.viewPropertyListenerKey_){ol.events.unlistenByKey(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}if(this.viewChangeListenerKey_){ol.events.unlistenByKey(this.viewChangeListenerKey_);this.viewChangeListenerKey_=null}var e=this.getView();if(e){this.viewport_.setAttribute("data-view",ol.getUid(e));this.viewPropertyListenerKey_=ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this);this.viewChangeListenerKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)}this.render()};ol.PluggableMap.prototype.handleLayerGroupChanged_=function(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey);this.layerGroupPropertyListenerKeys_=null}var e=this.getLayerGroup();if(e){this.layerGroupPropertyListenerKeys_=[ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(e,ol.events.EventType.CHANGE,this.render,this)]}this.render()};ol.PluggableMap.prototype.isRendered=function(){return!!this.frameState_};ol.PluggableMap.prototype.renderSync=function(){if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};ol.PluggableMap.prototype.render=function(){if(this.animationDelayKey_===void 0){this.animationDelayKey_=requestAnimationFrame(this.animationDelay_)}};ol.PluggableMap.prototype.removeControl=function(e){return this.getControls().remove(e)};ol.PluggableMap.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)};ol.PluggableMap.prototype.removeLayer=function(e){var t=this.getLayerGroup().getLayers();return t.remove(e)};ol.PluggableMap.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)};ol.PluggableMap.prototype.renderFrame_=function(e){var t,r,o,n=this.getSize(),a=this.getView(),p=ol.extent.createEmpty(),l=this.frameState_,s=null;if(n!==void 0&&ol.size.hasArea(n)&&a&&a.isDef()){var y=a.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),d={};for(t=0,r=c.length;t<r;++t){d[ol.getUid(c[t].layer)]=c[t]}o=a.getState();s={animate:!1,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:p,focus:!this.focus_?o.center:this.focus_,index:this.frameIndex_++,layerStates:d,layerStatesArray:c,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:y,wantedTiles:{}}}if(s){s.extent=ol.extent.getForViewAndSize(o.center,o.resolution,o.rotation,s.size,p)}this.frameState_=s;this.renderer_.renderFrame(s);if(s){if(s.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions);if(l){var g=!this.previousExtent_||!ol.extent.isEmpty(this.previousExtent_)&&!ol.extent.equals(s.extent,this.previousExtent_);if(g){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVESTART,this,l));this.previousExtent_=ol.extent.createOrUpdateEmpty(this.previousExtent_)}}var m=this.previousExtent_&&!s.viewHints[ol.ViewHint.ANIMATING]&&!s.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(s.extent,this.previousExtent_);if(m){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,s));ol.extent.clone(s.extent,this.previousExtent_)}}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,s));setTimeout(this.handlePostRender.bind(this),0)};ol.PluggableMap.prototype.setLayerGroup=function(e){this.set(ol.MapProperty.LAYERGROUP,e)};ol.PluggableMap.prototype.setSize=function(e){this.set(ol.MapProperty.SIZE,e)};ol.PluggableMap.prototype.setTarget=function(e){this.set(ol.MapProperty.TARGET,e)};ol.PluggableMap.prototype.setView=function(e){this.set(ol.MapProperty.VIEW,e)};ol.PluggableMap.prototype.skipFeature=function(e){var t=ol.getUid(e).toString();this.skippedFeatureUids_[t]=!0;this.render()};ol.PluggableMap.prototype.updateSize=function(){var e=this.getTargetElement();if(!e){this.setSize(void 0)}else{var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}};ol.PluggableMap.prototype.unskipFeature=function(e){var t=ol.getUid(e).toString();delete this.skippedFeatureUids_[t];this.render()};ol.PluggableMap.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL];ol.PluggableMap.LOGO_URL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC";ol.PluggableMap.createOptionsInternal=function(e){var t=null;if(e.keyboardEventTarget!==void 0){t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget}var r={},o={};if(e.logo===void 0||"boolean"==typeof e.logo&&e.logo){o[ol.PluggableMap.LOGO_URL]="https://openlayers.org/"}else{var n=e.logo;if("string"==typeof n){o[n]=""}else if(n instanceof HTMLElement){o[ol.getUid(n).toString()]=n}else if(n){ol.asserts.assert("string"==typeof n.href,44);ol.asserts.assert("string"==typeof n.src,45);o[n.src]=n.href}}var a=e.layers instanceof ol.layer.Group?e.layers:new ol.layer.Group({layers:e.layers});r[ol.MapProperty.LAYERGROUP]=a;r[ol.MapProperty.TARGET]=e.target;r[ol.MapProperty.VIEW]=e.view!==void 0?e.view:new ol.View;var p;if(e.renderer!==void 0){if(Array.isArray(e.renderer)){p=e.renderer}else if("string"==typeof e.renderer){p=[e.renderer]}else{ol.asserts.assert(!1,46)}if(0<=p.indexOf("dom")){p=p.concat(ol.PluggableMap.DEFAULT_RENDERER_TYPES)}}else{p=ol.PluggableMap.DEFAULT_RENDERER_TYPES}var l,s=ol.plugins.getMapRendererPlugins();outer:for(var y=0,c=p.length,d;y<c;++y){d=p[y];for(var g=0,m=s.length,u;g<m;++g){u=s[g];if(u.handles(d)){l=u;break outer}}}if(!l){throw new Error("Unable to create a map renderer for types: "+p.join(", "))}var _;if(e.controls!==void 0){if(Array.isArray(e.controls)){_=new ol.Collection(e.controls.slice())}else{ol.asserts.assert(e.controls instanceof ol.Collection,47);_=e.controls}}var f;if(e.interactions!==void 0){if(Array.isArray(e.interactions)){f=new ol.Collection(e.interactions.slice())}else{ol.asserts.assert(e.interactions instanceof ol.Collection,48);f=e.interactions}}var S;if(e.overlays!==void 0){if(Array.isArray(e.overlays)){S=new ol.Collection(e.overlays.slice())}else{ol.asserts.assert(e.overlays instanceof ol.Collection,49);S=e.overlays}}else{S=new ol.Collection}return{controls:_,interactions:f,keyboardEventTarget:t,logos:o,overlays:S,mapRendererPlugin:l,values:r}};goog.provide("ol.control.Control");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.events");ol.control.Control=function(e){ol.Object.call(this);this.element=e.element?e.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=e.render?e.render:ol.nullFunction;if(e.target){this.setTarget(e.target)}};ol.inherits(ol.control.Control,ol.Object);ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element);ol.Object.prototype.disposeInternal.call(this)};ol.control.Control.prototype.getMap=function(){return this.map_};ol.control.Control.prototype.setMap=function(e){if(this.map_){ol.dom.removeNode(this.element)}for(var t=0,r=this.listenerKeys.length;t<r;++t){ol.events.unlistenByKey(this.listenerKeys[t])}this.listenerKeys.length=0;this.map_=e;if(this.map_){var o=this.target_?this.target_:e.getOverlayContainerStopEvent();o.appendChild(this.element);if(this.render!==ol.nullFunction){this.listenerKeys.push(ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this))}e.render()}};ol.control.Control.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e};goog.provide("ol.css");ol.css.CLASS_HIDDEN="ol-hidden";ol.css.CLASS_SELECTABLE="ol-selectable";ol.css.CLASS_UNSELECTABLE="ol-unselectable";ol.css.CLASS_UNSUPPORTED="ol-unsupported";ol.css.CLASS_CONTROL="ol-control";ol.css.getFontFamilies=function(){var e,t={};return function(r){if(!e){e=document.createElement("div").style}if(!(r in t)){e.font=r;var o=e.fontFamily;e.font="";if(!o){return null}t[r]=o.split(/,\s?/)}return t[r]}}();goog.provide("ol.render.EventType");ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"};goog.provide("ol.layer.Layer");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Base");goog.require("ol.layer.Property");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.source.State");ol.layer.Layer=function(e){var t=ol.obj.assign({},e);delete t.source;ol.layer.Base.call(this,t);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(e.map){this.setMap(e.map)}ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)};ol.inherits(ol.layer.Layer,ol.layer.Base);ol.layer.Layer.visibleAtResolution=function(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution};ol.layer.Layer.prototype.getLayersArray=function(e){var t=e?e:[];t.push(this);return t};ol.layer.Layer.prototype.getLayerStatesArray=function(e){var t=e?e:[];t.push(this.getLayerState());return t};ol.layer.Layer.prototype.getSource=function(){var e=this.get(ol.layer.Property.SOURCE);return e||null};ol.layer.Layer.prototype.getSourceState=function(){var e=this.getSource();return!e?ol.source.State.UNDEFINED:e.getState()};ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()};ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){if(this.sourceChangeKey_){ol.events.unlistenByKey(this.sourceChangeKey_);this.sourceChangeKey_=null}var e=this.getSource();if(e){this.sourceChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleSourceChange_,this)}this.changed()};ol.layer.Layer.prototype.setMap=function(e){if(this.mapPrecomposeKey_){ol.events.unlistenByKey(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!e){this.changed()}if(this.mapRenderKey_){ol.events.unlistenByKey(this.mapRenderKey_);this.mapRenderKey_=null}if(e){this.mapPrecomposeKey_=ol.events.listen(e,ol.render.EventType.PRECOMPOSE,function(e){var t=this.getLayerState();t.managed=!1;t.zIndex=1/0;e.frameState.layerStatesArray.push(t);e.frameState.layerStates[ol.getUid(this)]=t},this);this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,e.render,e);this.changed()}};ol.layer.Layer.prototype.setSource=function(e){this.set(ol.layer.Property.SOURCE,e)};goog.provide("ol.control.Attribution");goog.require("ol");goog.require("ol.array");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.layer.Layer");goog.require("ol.obj");ol.control.Attribution=function(e){var t=e?e:{};this.ulElement_=document.createElement("UL");this.logoLi_=document.createElement("LI");this.ulElement_.appendChild(this.logoLi_);this.logoLi_.style.display="none";this.collapsed_=t.collapsed!==void 0?t.collapsed:!0;this.collapsible_=t.collapsible!==void 0?t.collapsible:!0;if(!this.collapsible_){this.collapsed_=!1}var r=t.className!==void 0?t.className:"ol-attribution",o=t.tipLabel!==void 0?t.tipLabel:"Attributions",i=t.collapseLabel!==void 0?t.collapseLabel:"\xBB";if("string"==typeof i){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var n=t.label!==void 0?t.label:"i";if("string"==typeof n){this.label_=document.createElement("span");this.label_.textContent=n}else{this.label_=n}var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,p=document.createElement("button");p.setAttribute("type","button");p.title=o;p.appendChild(a);ol.events.listen(p,ol.events.EventType.CLICK,this.handleClick_,this);var l=r+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),s=document.createElement("div");s.className=l;s.appendChild(this.ulElement_);s.appendChild(p);var y=t.render?t.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:s,render:y,target:t.target});this.renderedAttributions_=[];this.renderedVisible_=!0;this.logoElements_={}};ol.inherits(ol.control.Attribution,ol.control.Control);ol.control.Attribution.prototype.getSourceAttributions_=function(e){for(var t={},r=[],o=e.layerStatesArray,n=e.viewState.resolution,a=0,p=o.length,l;a<p;++a){l=o[a];if(!ol.layer.Layer.visibleAtResolution(l,n)){continue}var s=l.layer.getSource();if(!s){continue}var y=s.getAttributions2();if(!y){continue}var c=y(e);if(!c){continue}if(Array.isArray(c)){for(var d=0,g=c.length;d<g;++d){if(!(c[d]in t)){r.push(c[d]);t[c[d]]=!0}}}else{if(!(c in t)){r.push(c);t[c]=!0}}}return r};ol.control.Attribution.render=function(e){this.updateElement_(e.frameState)};ol.control.Attribution.prototype.updateElement_=function(e){if(!e){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=!1}return}var t=this.getSourceAttributions_(e);if(ol.array.equals(t,this.renderedAttributions_)){return}while(this.ulElement_.lastChild!==this.logoLi_){this.ulElement_.removeChild(this.ulElement_.lastChild)}for(var r=0,o=t.length,n;r<o;++r){n=document.createElement("LI");n.innerHTML=t[r];this.ulElement_.appendChild(n)}if(0===t.length&&0<this.renderedAttributions_.length){this.element.classList.add("ol-logo-only")}else if(0===this.renderedAttributions_.length&&0<t.length){this.element.classList.remove("ol-logo-only")}var a=0<t.length||!ol.obj.isEmpty(e.logos);if(this.renderedVisible_!=a){this.element.style.display=a?"":"none";this.renderedVisible_=a}this.renderedAttributions_=t;this.insertLogos_(e)};ol.control.Attribution.prototype.insertLogos_=function(e){var t,r=e.logos,o=this.logoElements_;for(t in o){if(!(t in r)){ol.dom.removeNode(o[t]);delete o[t]}}var i,n,a;for(a in r){var p=r[a];if(p instanceof HTMLElement){this.logoLi_.appendChild(p);o[a]=p}if(!(a in o)){i=new Image;i.src=a;if(""===p){n=i}else{n=document.createElement("a");n.href=p;n.appendChild(i)}this.logoLi_.appendChild(n);o[a]=n}}this.logoLi_.style.display=!ol.obj.isEmpty(r)?"":"none"};ol.control.Attribution.prototype.handleClick_=function(e){e.preventDefault();this.handleToggle_()};ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_};ol.control.Attribution.prototype.setCollapsible=function(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};ol.control.Attribution.prototype.setCollapsed=function(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_};goog.provide("ol.control.Rotate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Rotate=function(e){var t=e?e:{},r=t.className!==void 0?t.className:"ol-rotate",o=t.label!==void 0?t.label:"\u21E7";this.label_=null;if("string"==typeof o){this.label_=document.createElement("span");this.label_.className="ol-compass";this.label_.textContent=o}else{this.label_=o;this.label_.classList.add("ol-compass")}var i=t.tipLabel?t.tipLabel:"Reset rotation",n=document.createElement("button");n.className=r+"-reset";n.setAttribute("type","button");n.title=i;n.appendChild(this.label_);ol.events.listen(n,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var a=r+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,p=document.createElement("div");p.className=a;p.appendChild(n);var l=t.render?t.render:ol.control.Rotate.render;this.callResetNorth_=t.resetNorth?t.resetNorth:void 0;ol.control.Control.call(this,{element:p,render:l,target:t.target});this.duration_=t.duration!==void 0?t.duration:250;this.autoHide_=t.autoHide!==void 0?t.autoHide:!0;this.rotation_=void 0;if(this.autoHide_){this.element.classList.add(ol.css.CLASS_HIDDEN)}};ol.inherits(ol.control.Rotate,ol.control.Control);ol.control.Rotate.prototype.handleClick_=function(e){e.preventDefault();if(this.callResetNorth_!==void 0){this.callResetNorth_()}else{this.resetNorth_()}};ol.control.Rotate.prototype.resetNorth_=function(){var e=this.getMap(),t=e.getView();if(!t){return}if(t.getRotation()!==void 0){if(0<this.duration_){t.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut})}else{t.setRotation(0)}}};ol.control.Rotate.render=function(e){var t=e.frameState;if(!t){return}var r=t.viewState.rotation;if(r!=this.rotation_){var o="rotate("+r+"rad)";if(this.autoHide_){var i=this.element.classList.contains(ol.css.CLASS_HIDDEN);if(!i&&0===r){this.element.classList.add(ol.css.CLASS_HIDDEN)}else if(i&&0!==r){this.element.classList.remove(ol.css.CLASS_HIDDEN)}}this.label_.style.msTransform=o;this.label_.style.webkitTransform=o;this.label_.style.transform=o}this.rotation_=r};goog.provide("ol.control.Zoom");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Zoom=function(e){var t=e?e:{},r=t.className!==void 0?t.className:"ol-zoom",o=t.delta!==void 0?t.delta:1,i=t.zoomInLabel!==void 0?t.zoomInLabel:"+",n=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2212",a=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",p=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=r+"-in";l.setAttribute("type","button");l.title=a;l.appendChild("string"==typeof i?document.createTextNode(i):i);ol.events.listen(l,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,o));var s=document.createElement("button");s.className=r+"-out";s.setAttribute("type","button");s.title=p;s.appendChild("string"==typeof n?document.createTextNode(n):n);ol.events.listen(s,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-o));var y=r+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,c=document.createElement("div");c.className=y;c.appendChild(l);c.appendChild(s);ol.control.Control.call(this,{element:c,target:t.target});this.duration_=t.duration!==void 0?t.duration:250};ol.inherits(ol.control.Zoom,ol.control.Control);ol.control.Zoom.prototype.handleClick_=function(e,t){t.preventDefault();this.zoomByDelta_(e)};ol.control.Zoom.prototype.zoomByDelta_=function(e){var t=this.getMap(),r=t.getView();if(!r){return}var o=r.getResolution();if(o){var i=r.constrainResolution(o,e);if(0<this.duration_){if(r.getAnimating()){r.cancelAnimations()}r.animate({resolution:i,duration:this.duration_,easing:ol.easing.easeOut})}else{r.setResolution(i)}}};goog.provide("ol.control");goog.require("ol.Collection");goog.require("ol.control.Attribution");goog.require("ol.control.Rotate");goog.require("ol.control.Zoom");ol.control.defaults=function(e){var t=e?e:{},r=new ol.Collection,o=t.zoom!==void 0?t.zoom:!0;if(o){r.push(new ol.control.Zoom(t.zoomOptions))}var i=t.rotate!==void 0?t.rotate:!0;if(i){r.push(new ol.control.Rotate(t.rotateOptions))}var n=t.attribution!==void 0?t.attribution:!0;if(n){r.push(new ol.control.Attribution(t.attributionOptions))}return r};goog.provide("ol.Kinetic");ol.Kinetic=function(e,t,r){this.decay_=e;this.minVelocity_=t;this.delay_=r;this.points_=[];this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.begin=function(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.update=function(e,t){this.points_.push(e,t,Date.now())};ol.Kinetic.prototype.end=function(){if(6>this.points_.length){return!1}var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e){return!1}var r=t-3;while(0<r&&this.points_[r+2]>e){r-=3}var o=this.points_[t+2]-this.points_[r+2];if(o<1e3/60){return!1}var i=this.points_[t]-this.points_[r],n=this.points_[t+1]-this.points_[r+1];this.angle_=Math.atan2(n,i);this.initialVelocity_=Math.sqrt(i*i+n*n)/o;return this.initialVelocity_>this.minVelocity_};ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getAngle=function(){return this.angle_};goog.provide("ol.interaction.Property");ol.interaction.Property={ACTIVE:"active"};goog.provide("ol.interaction.Interaction");goog.require("ol");goog.require("ol.Object");goog.require("ol.easing");goog.require("ol.interaction.Property");ol.interaction.Interaction=function(e){ol.Object.call(this);this.map_=null;this.setActive(!0);this.handleEvent=e.handleEvent};ol.inherits(ol.interaction.Interaction,ol.Object);ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)};ol.interaction.Interaction.prototype.getMap=function(){return this.map_};ol.interaction.Interaction.prototype.setActive=function(e){this.set(ol.interaction.Property.ACTIVE,e)};ol.interaction.Interaction.prototype.setMap=function(e){this.map_=e};ol.interaction.Interaction.pan=function(e,t,r){var o=e.getCenter();if(o){var i=e.constrainCenter([o[0]+t[0],o[1]+t[1]]);if(r){e.animate({duration:r,easing:ol.easing.linear,center:i})}else{e.setCenter(i)}}};ol.interaction.Interaction.rotate=function(e,t,r,o){t=e.constrainRotation(t,0);ol.interaction.Interaction.rotateWithoutConstraints(e,t,r,o)};ol.interaction.Interaction.rotateWithoutConstraints=function(e,t,r,o){if(t!==void 0){var i=e.getRotation(),n=e.getCenter();if(i!==void 0&&n&&0<o){e.animate({rotation:t,anchor:r,duration:o,easing:ol.easing.easeOut})}else{e.rotate(t,r)}}};ol.interaction.Interaction.zoom=function(e,t,r,o,i){t=e.constrainResolution(t,0,i);ol.interaction.Interaction.zoomWithoutConstraints(e,t,r,o)};ol.interaction.Interaction.zoomByDelta=function(e,t,r,o){var i=e.getResolution(),n=e.constrainResolution(i,t,0);if(r&&n!==void 0&&n!==i){var a=e.getCenter(),p=e.calculateCenterZoom(n,r);p=e.constrainCenter(p);r=[(n*a[0]-i*p[0])/(n-i),(n*a[1]-i*p[1])/(n-i)]}ol.interaction.Interaction.zoomWithoutConstraints(e,n,r,o)};ol.interaction.Interaction.zoomWithoutConstraints=function(e,t,r,o){if(t){var i=e.getResolution(),n=e.getCenter();if(i!==void 0&&n&&t!==i&&o){e.animate({resolution:t,anchor:r,duration:o,easing:ol.easing.easeOut})}else{if(r){var a=e.calculateCenterZoom(t,r);e.setCenter(a)}e.setResolution(t)}}};goog.provide("ol.interaction.DoubleClickZoom");goog.require("ol");goog.require("ol.MapBrowserEventType");goog.require("ol.interaction.Interaction");ol.interaction.DoubleClickZoom=function(e){var t=e?e:{};this.delta_=t.delta?t.delta:1;ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent});this.duration_=t.duration!==void 0?t.duration:250};ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction);ol.interaction.DoubleClickZoom.handleEvent=function(e){var t=!1,r=e.originalEvent;if(e.type==ol.MapBrowserEventType.DBLCLICK){var o=e.map,i=e.coordinate,n=r.shiftKey?-this.delta_:this.delta_,a=o.getView();ol.interaction.Interaction.zoomByDelta(a,n,i,this.duration_);e.preventDefault();t=!0}return!t};goog.provide("ol.events.condition");goog.require("ol.MapBrowserEventType");goog.require("ol.asserts");goog.require("ol.functions");goog.require("ol.has");ol.events.condition.altKeyOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};ol.events.condition.altShiftKeysOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};ol.events.condition.always=ol.functions.TRUE;ol.events.condition.click=function(e){return e.type==ol.MapBrowserEventType.CLICK};ol.events.condition.mouseActionButton=function(e){var t=e.originalEvent;return 0==t.button&&!(ol.has.WEBKIT&&ol.has.MAC&&t.ctrlKey)};ol.events.condition.never=ol.functions.FALSE;ol.events.condition.pointerMove=function(e){return"pointermove"==e.type};ol.events.condition.singleClick=function(e){return e.type==ol.MapBrowserEventType.SINGLECLICK};ol.events.condition.doubleClick=function(e){return e.type==ol.MapBrowserEventType.DBLCLICK};ol.events.condition.noModifierKeys=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};ol.events.condition.platformModifierKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&(ol.has.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};ol.events.condition.shiftKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};ol.events.condition.targetNotEditable=function(e){var t=e.originalEvent.target,r=t.tagName;return"INPUT"!==r&&"SELECT"!==r&&"TEXTAREA"!==r};ol.events.condition.mouseOnly=function(e){ol.asserts.assert(e.pointerEvent,56);return"mouse"==e.pointerEvent.pointerType};ol.events.condition.primaryAction=function(e){var t=e.pointerEvent;return t.isPrimary&&0===t.button};goog.provide("ol.interaction.Pointer");goog.require("ol");goog.require("ol.functions");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.interaction.Interaction");goog.require("ol.obj");ol.interaction.Pointer=function(e){var t=e?e:{},r=t.handleEvent?t.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:r});this.handleDownEvent_=t.handleDownEvent?t.handleDownEvent:ol.interaction.Pointer.handleDownEvent;this.handleDragEvent_=t.handleDragEvent?t.handleDragEvent:ol.interaction.Pointer.handleDragEvent;this.handleMoveEvent_=t.handleMoveEvent?t.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent;this.handleUpEvent_=t.handleUpEvent?t.handleUpEvent:ol.interaction.Pointer.handleUpEvent;this.handlingDownUpSequence=!1;this.trackedPointers_={};this.targetPointers=[]};ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction);ol.interaction.Pointer.centroid=function(e){for(var t=e.length,r=0,o=0,n=0;n<t;n++){r+=e[n].clientX;o+=e[n].clientY}return[r/t,o/t]};ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(e){var t=e.type;return t===ol.MapBrowserEventType.POINTERDOWN||t===ol.MapBrowserEventType.POINTERDRAG||t===ol.MapBrowserEventType.POINTERUP};ol.interaction.Pointer.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var t=e.pointerEvent,r=t.pointerId.toString();if(e.type==ol.MapBrowserEventType.POINTERUP){delete this.trackedPointers_[r]}else if(e.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedPointers_[r]=t}else if(r in this.trackedPointers_){this.trackedPointers_[r]=t}this.targetPointers=ol.obj.getValues(this.trackedPointers_)}};ol.interaction.Pointer.handleDragEvent=ol.nullFunction;ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE;ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE;ol.interaction.Pointer.handleMoveEvent=ol.nullFunction;ol.interaction.Pointer.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return!0}var t=!1;this.updateTrackedPointers_(e);if(this.handlingDownUpSequence){if(e.type==ol.MapBrowserEventType.POINTERDRAG){this.handleDragEvent_(e)}else if(e.type==ol.MapBrowserEventType.POINTERUP){var r=this.handleUpEvent_(e);this.handlingDownUpSequence=r&&0<this.targetPointers.length}}else{if(e.type==ol.MapBrowserEventType.POINTERDOWN){var o=this.handleDownEvent_(e);this.handlingDownUpSequence=o;t=this.shouldStopEvent(o)}else if(e.type==ol.MapBrowserEventType.POINTERMOVE){this.handleMoveEvent_(e)}}return!t};ol.interaction.Pointer.prototype.shouldStopEvent=function(e){return e};goog.provide("ol.interaction.DragPan");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Pointer");ol.interaction.DragPan=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var t=e?e:{};this.kinetic_=t.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.condition_=t.condition?t.condition:ol.events.condition.noModifierKeys;this.noKinetic_=!1};ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer);ol.interaction.DragPan.handleDragEvent_=function(e){var t=this.targetPointers,r=ol.interaction.Pointer.centroid(t);if(t.length==this.lastPointersCount_){if(this.kinetic_){this.kinetic_.update(r[0],r[1])}if(this.lastCentroid){var o=this.lastCentroid[0]-r[0],i=r[1]-this.lastCentroid[1],n=e.map,a=n.getView(),p=a.getState(),l=[o,i];ol.coordinate.scale(l,p.resolution);ol.coordinate.rotate(l,p.rotation);ol.coordinate.add(l,p.center);l=a.constrainCenter(l);a.setCenter(l)}}else if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=r;this.lastPointersCount_=t.length};ol.interaction.DragPan.handleUpEvent_=function(e){var t=e.map,r=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),n=r.getCenter(),a=t.getPixelFromCoordinate(n),p=t.getCoordinateFromPixel([a[0]-o*Math.cos(i),a[1]-o*Math.sin(i)]);r.animate({center:r.constrainCenter(p),duration:500,easing:ol.easing.easeOut})}r.setHint(ol.ViewHint.INTERACTING,-1);return!1}else{if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=null;return!0}};ol.interaction.DragPan.handleDownEvent_=function(e){if(0<this.targetPointers.length&&this.condition_(e)){var t=e.map,r=t.getView();this.lastCentroid=null;if(!this.handlingDownUpSequence){r.setHint(ol.ViewHint.INTERACTING,1)}if(r.getAnimating()){r.setCenter(e.frameState.viewState.center)}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=1<this.targetPointers.length;return!0}else{return!1}};ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.DragRotate");goog.require("ol");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotate=function(e){var t=e?e:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_});this.condition_=t.condition?t.condition:ol.events.condition.altShiftKeysOnly;this.lastAngle_=void 0;this.duration_=t.duration!==void 0?t.duration:250};ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer);ol.interaction.DragRotate.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}var t=e.map,r=t.getView();if(r.getConstraints().rotation===ol.RotationConstraint.disable){return}var o=t.getSize(),i=e.pixel,n=Math.atan2(o[1]/2-i[1],i[0]-o[0]/2);if(this.lastAngle_!==void 0){var a=n-this.lastAngle_,p=r.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(r,p-a)}this.lastAngle_=n};ol.interaction.DragRotate.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return!0}var t=e.map,r=t.getView();r.setHint(ol.ViewHint.INTERACTING,-1);var o=r.getRotation();ol.interaction.Interaction.rotate(r,o,void 0,this.duration_);return!1};ol.interaction.DragRotate.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return!1}if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){var t=e.map;t.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=void 0;return!0}else{return!1}};ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.render.Box");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.geom.Polygon");ol.render.Box=function(e){this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+e;this.map_=null;this.startPixel_=null;this.endPixel_=null};ol.inherits(ol.render.Box,ol.Disposable);ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)};ol.render.Box.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,r="px",o=this.element_.style;o.left=Math.min(e[0],t[0])+r;o.top=Math.min(e[1],t[1])+r;o.width=Math.abs(t[0]-e[0])+r;o.height=Math.abs(t[1]-e[1])+r};ol.render.Box.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left=t.top=t.width=t.height="inherit"}this.map_=e;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};ol.render.Box.prototype.setPixels=function(e,t){this.startPixel_=e;this.endPixel_=t;this.createOrUpdateGeometry();this.render_()};ol.render.Box.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]],o=r.map(this.map_.getCoordinateFromPixel,this.map_);o[4]=o[0].slice();if(!this.geometry_){this.geometry_=new ol.geom.Polygon([o])}else{this.geometry_.setCoordinates([o])}};ol.render.Box.prototype.getGeometry=function(){return this.geometry_};goog.provide("ol.interaction.DragBox");goog.require("ol.events.Event");goog.require("ol");goog.require("ol.events.condition");goog.require("ol.interaction.Pointer");goog.require("ol.render.Box");ol.interaction.DragBox=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var t=e?e:{};this.box_=new ol.render.Box(t.className||"ol-dragbox");this.minArea_=t.minArea!==void 0?t.minArea:64;this.startPixel_=null;this.condition_=t.condition?t.condition:ol.events.condition.always;this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition};ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer);ol.interaction.DragBox.defaultBoxEndCondition=function(e,t,r){var o=r[0]-t[0],i=r[1]-t[1];return o*o+i*i>=this.minArea_};ol.interaction.DragBox.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}this.box_.setPixels(this.startPixel_,e.pixel);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,e.coordinate,e))};ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()};ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction;ol.interaction.DragBox.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return!0}this.box_.setMap(null);if(this.boxEndCondition_(e,this.startPixel_,e.pixel)){this.onBoxEnd(e);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,e.coordinate,e))}return!1};ol.interaction.DragBox.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return!1}if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){this.startPixel_=e.pixel;this.box_.setMap(e.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,e.coordinate,e));return!0}else{return!1}};ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};ol.interaction.DragBox.Event=function(e,t,r){ol.events.Event.call(this,e);this.coordinate=t;this.mapBrowserEvent=r};ol.inherits(ol.interaction.DragBox.Event,ol.events.Event);goog.provide("ol.interaction.DragZoom");goog.require("ol");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.interaction.DragBox");ol.interaction.DragZoom=function(e){var t=e?e:{},r=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.duration_=t.duration!==void 0?t.duration:200;this.out_=t.out!==void 0?t.out:!1;ol.interaction.DragBox.call(this,{condition:r,className:t.className||"ol-dragzoom"})};ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox);ol.interaction.DragZoom.prototype.onBoxEnd=function(){var e=this.getMap(),t=e.getView(),r=e.getSize(),o=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtent(r),n=ol.extent.createOrUpdateFromCoordinates([e.getPixelFromCoordinate(ol.extent.getBottomLeft(o)),e.getPixelFromCoordinate(ol.extent.getTopRight(o))]),a=t.getResolutionForExtent(n,r);ol.extent.scaleFromCenter(i,1/a);o=i}var p=t.constrainResolution(t.getResolutionForExtent(o,r)),l=ol.extent.getCenter(o);l=t.constrainCenter(l);t.animate({resolution:p,center:l,duration:this.duration_,easing:ol.easing.easeOut})};goog.provide("ol.events.KeyCode");ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};goog.provide("ol.interaction.KeyboardPan");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.events.KeyCode");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardPan=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var t=e||{};this.defaultCondition_=function(e){return ol.events.condition.noModifierKeys(e)&&ol.events.condition.targetNotEditable(e)};this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_;this.duration_=t.duration!==void 0?t.duration:100;this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128};ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction);ol.interaction.KeyboardPan.handleEvent=function(e){var t=!1;if(e.type==ol.events.EventType.KEYDOWN){var r=e.originalEvent,o=r.keyCode;if(this.condition_(e)&&(o==ol.events.KeyCode.DOWN||o==ol.events.KeyCode.LEFT||o==ol.events.KeyCode.RIGHT||o==ol.events.KeyCode.UP)){var i=e.map,n=i.getView(),a=n.getResolution()*this.pixelDelta_,p=0,l=0;if(o==ol.events.KeyCode.DOWN){l=-a}else if(o==ol.events.KeyCode.LEFT){p=-a}else if(o==ol.events.KeyCode.RIGHT){p=a}else{l=a}var s=[p,l];ol.coordinate.rotate(s,n.getRotation());ol.interaction.Interaction.pan(n,s,this.duration_);e.preventDefault();t=!0}}return!t};goog.provide("ol.interaction.KeyboardZoom");goog.require("ol");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:ol.events.condition.targetNotEditable;this.delta_=t.delta?t.delta:1;this.duration_=t.duration!==void 0?t.duration:100};ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction);ol.interaction.KeyboardZoom.handleEvent=function(e){var t=!1;if(e.type==ol.events.EventType.KEYDOWN||e.type==ol.events.EventType.KEYPRESS){var r=e.originalEvent,o=r.charCode;if(this.condition_(e)&&(o==43||o==45)){var i=e.map,n=o==43?this.delta_:-this.delta_,a=i.getView();ol.interaction.Interaction.zoomByDelta(a,n,void 0,this.duration_);e.preventDefault();t=!0}}return!t};goog.provide("ol.interaction.MouseWheelZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.easing");goog.require("ol.events.EventType");goog.require("ol.has");goog.require("ol.interaction.Interaction");goog.require("ol.math");ol.interaction.MouseWheelZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var t=e||{};this.delta_=0;this.duration_=t.duration!==void 0?t.duration:250;this.timeout_=t.timeout!==void 0?t.timeout:80;this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0;this.constrainResolution_=t.constrainResolution||!1;this.lastAnchor_=null;this.startTime_=void 0;this.timeoutId_=void 0;this.mode_=void 0;this.trackpadEventGap_=400;this.trackpadTimeoutId_=void 0;this.trackpadDeltaPerZoom_=300;this.trackpadZoomBuffer_=1.5};ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction);ol.interaction.MouseWheelZoom.handleEvent=function(e){var t=e.type;if(t!==ol.events.EventType.WHEEL&&t!==ol.events.EventType.MOUSEWHEEL){return!0}e.preventDefault();var r=e.map,o=e.originalEvent;if(this.useAnchor_){this.lastAnchor_=e.coordinate}var i;if(e.type==ol.events.EventType.WHEEL){i=o.deltaY;if(ol.has.FIREFOX&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL){i/=ol.has.DEVICE_PIXEL_RATIO}if(o.deltaMode===WheelEvent.DOM_DELTA_LINE){i*=40}}else if(e.type==ol.events.EventType.MOUSEWHEEL){i=-o.wheelDeltaY;if(ol.has.SAFARI){i/=3}}if(0===i){return!1}var n=Date.now();if(this.startTime_===void 0){this.startTime_=n}if(!this.mode_||n-this.startTime_>this.trackpadEventGap_){this.mode_=4>Math.abs(i)?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL}if(this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var a=r.getView();if(this.trackpadTimeoutId_){clearTimeout(this.trackpadTimeoutId_)}else{a.setHint(ol.ViewHint.INTERACTING,1)}this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var p=a.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),l=a.getMinResolution(),s=a.getMaxResolution(),y=0;if(p<l){p=Math.max(p,l/this.trackpadZoomBuffer_);y=1}else if(p>s){p=Math.min(p,s*this.trackpadZoomBuffer_);y=-1}if(this.lastAnchor_){var c=a.calculateCenterZoom(p,this.lastAnchor_);a.setCenter(a.constrainCenter(c))}a.setResolution(p);if(0===y&&this.constrainResolution_){a.animate({resolution:a.constrainResolution(p,0<i?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:this.duration_})}if(0<y){a.animate({resolution:l,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}else if(0>y){a.animate({resolution:s,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}this.startTime_=n;return!1}this.delta_+=i;var d=Math.max(this.timeout_-(n-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),d);return!1};ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.setHint(ol.ViewHint.INTERACTING,-1)};ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(e){var t=e.getView();if(t.getAnimating()){t.cancelAnimations()}var r=ol.MOUSEWHEELZOOM_MAXDELTA,o=ol.math.clamp(this.delta_,-r,r);ol.interaction.Interaction.zoomByDelta(t,-o,this.lastAnchor_,this.duration_);this.mode_=void 0;this.delta_=0;this.lastAnchor_=null;this.startTime_=void 0;this.timeoutId_=void 0};ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(e){this.useAnchor_=e;if(!e){this.lastAnchor_=null}};ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};goog.provide("ol.interaction.PinchRotate");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");goog.require("ol.RotationConstraint");ol.interaction.PinchRotate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var t=e||{};this.anchor_=null;this.lastAngle_=void 0;this.rotating_=!1;this.rotationDelta_=0;this.threshold_=t.threshold!==void 0?t.threshold:.3;this.duration_=t.duration!==void 0?t.duration:250};ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer);ol.interaction.PinchRotate.handleDragEvent_=function(e){var t=0,r=this.targetPointers[0],o=this.targetPointers[1],i=Math.atan2(o.clientY-r.clientY,o.clientX-r.clientX);if(this.lastAngle_!==void 0){var n=i-this.lastAngle_;this.rotationDelta_+=n;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=!0}t=n}this.lastAngle_=i;var a=e.map,p=a.getView();if(p.getConstraints().rotation===ol.RotationConstraint.disable){return}var l=a.getViewport().getBoundingClientRect(),s=ol.interaction.Pointer.centroid(this.targetPointers);s[0]-=l.left;s[1]-=l.top;this.anchor_=a.getCoordinateFromPixel(s);if(this.rotating_){var y=p.getRotation();a.render();ol.interaction.Interaction.rotateWithoutConstraints(p,y+t,this.anchor_)}};ol.interaction.PinchRotate.handleUpEvent_=function(e){if(2>this.targetPointers.length){var t=e.map,r=t.getView();r.setHint(ol.ViewHint.INTERACTING,-1);if(this.rotating_){var o=r.getRotation();ol.interaction.Interaction.rotate(r,o,this.anchor_,this.duration_)}return!1}else{return!0}};ol.interaction.PinchRotate.handleDownEvent_=function(e){if(2<=this.targetPointers.length){var t=e.map;this.anchor_=null;this.lastAngle_=void 0;this.rotating_=!1;this.rotationDelta_=0;if(!this.handlingDownUpSequence){t.getView().setHint(ol.ViewHint.INTERACTING,1)}return!0}else{return!1}};ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.PinchZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.PinchZoom=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var t=e?e:{};this.constrainResolution_=t.constrainResolution||!1;this.anchor_=null;this.duration_=t.duration!==void 0?t.duration:400;this.lastDistance_=void 0;this.lastScaleDelta_=1};ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer);ol.interaction.PinchZoom.handleDragEvent_=function(e){var t=1,r=this.targetPointers[0],o=this.targetPointers[1],i=r.clientX-o.clientX,n=r.clientY-o.clientY,a=Math.sqrt(i*i+n*n);if(this.lastDistance_!==void 0){t=this.lastDistance_/a}this.lastDistance_=a;var p=e.map,l=p.getView(),s=l.getResolution(),y=l.getMaxResolution(),c=l.getMinResolution(),d=s*t;if(d>y){t=y/s;d=y}else if(d<c){t=c/s;d=c}if(1!=t){this.lastScaleDelta_=t}var g=p.getViewport().getBoundingClientRect(),m=ol.interaction.Pointer.centroid(this.targetPointers);m[0]-=g.left;m[1]-=g.top;this.anchor_=p.getCoordinateFromPixel(m);p.render();ol.interaction.Interaction.zoomWithoutConstraints(l,d,this.anchor_)};ol.interaction.PinchZoom.handleUpEvent_=function(e){if(2>this.targetPointers.length){var t=e.map,r=t.getView();r.setHint(ol.ViewHint.INTERACTING,-1);var o=r.getResolution();if(this.constrainResolution_||o<r.getMinResolution()||o>r.getMaxResolution()){var i=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(r,o,this.anchor_,this.duration_,i)}return!1}else{return!0}};ol.interaction.PinchZoom.handleDownEvent_=function(e){if(2<=this.targetPointers.length){var t=e.map;this.anchor_=null;this.lastDistance_=void 0;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){t.getView().setHint(ol.ViewHint.INTERACTING,1)}return!0}else{return!1}};ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction");goog.require("ol.Collection");goog.require("ol.Kinetic");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");ol.interaction.defaults=function(e){var t=e?e:{},r=new ol.Collection,o=new ol.Kinetic(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;if(i){r.push(new ol.interaction.DragRotate)}var n=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;if(n){r.push(new ol.interaction.DoubleClickZoom({delta:t.zoomDelta,duration:t.zoomDuration}))}var a=t.dragPan!==void 0?t.dragPan:!0;if(a){r.push(new ol.interaction.DragPan({kinetic:o}))}var p=t.pinchRotate!==void 0?t.pinchRotate:!0;if(p){r.push(new ol.interaction.PinchRotate)}var l=t.pinchZoom!==void 0?t.pinchZoom:!0;if(l){r.push(new ol.interaction.PinchZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))}var s=t.keyboard!==void 0?t.keyboard:!0;if(s){r.push(new ol.interaction.KeyboardPan);r.push(new ol.interaction.KeyboardZoom({delta:t.zoomDelta,duration:t.zoomDuration}))}var y=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;if(y){r.push(new ol.interaction.MouseWheelZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))}var c=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;if(c){r.push(new ol.interaction.DragZoom({duration:t.zoomDuration}))}return r};goog.provide("ol.LayerType");ol.LayerType={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};goog.provide("ol.render.Event");goog.require("ol");goog.require("ol.events.Event");ol.render.Event=function(e,t,r,o,i){ol.events.Event.call(this,e);this.vectorContext=t;this.frameState=r;this.context=o;this.glContext=i};ol.inherits(ol.render.Event,ol.events.Event);goog.provide("ol.structs.LRUCache");goog.require("ol");goog.require("ol.asserts");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.structs.LRUCache=function(e){ol.events.EventTarget.call(this);this.highWaterMark=e!==void 0?e:2048;this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};ol.inherits(ol.structs.LRUCache,ol.events.EventTarget);ol.structs.LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark};ol.structs.LRUCache.prototype.clear=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null;this.dispatchEvent(ol.events.EventType.CLEAR)};ol.structs.LRUCache.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)};ol.structs.LRUCache.prototype.forEach=function(e,t){var r=this.oldest_;while(r){e.call(t,r.value_,r.key_,this);r=r.newer}};ol.structs.LRUCache.prototype.get=function(e){var t=this.entries_[e];ol.asserts.assert(t!==void 0,15);if(t===this.newest_){return t.value_}else if(t===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else{t.newer.older=t.older;t.older.newer=t.newer}t.newer=null;t.older=this.newest_;this.newest_.newer=t;this.newest_=t;return t.value_};ol.structs.LRUCache.prototype.remove=function(e){var t=this.entries_[e];ol.asserts.assert(t!==void 0,15);if(t===this.newest_){this.newest_=t.older;if(this.newest_){this.newest_.newer=null}}else if(t===this.oldest_){this.oldest_=t.newer;if(this.oldest_){this.oldest_.older=null}}else{t.newer.older=t.older;t.older.newer=t.newer}delete this.entries_[e];--this.count_;return t.value_};ol.structs.LRUCache.prototype.getCount=function(){return this.count_};ol.structs.LRUCache.prototype.getKeys=function(){var e=Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older){e[t++]=r.key_}return e};ol.structs.LRUCache.prototype.getValues=function(){var e=Array(this.count_),t=0,r;for(r=this.newest_;r;r=r.older){e[t++]=r.value_}return e};ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_};ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_};ol.structs.LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_};ol.structs.LRUCache.prototype.pop=function(){var e=this.oldest_;delete this.entries_[e.key_];if(e.newer){e.newer.older=null}this.oldest_=e.newer;if(!this.oldest_){this.newest_=null}--this.count_;return e.value_};ol.structs.LRUCache.prototype.replace=function(e,t){this.get(e);this.entries_[e].value_=t};ol.structs.LRUCache.prototype.set=function(e,t){ol.asserts.assert(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};if(!this.newest_){this.oldest_=r}else{this.newest_.newer=r}this.newest_=r;this.entries_[e]=r;++this.count_};ol.structs.LRUCache.prototype.pruneAndSet=function(e,t){while(this.canExpireCache()){this.pop()}this.set(e,t)};goog.provide("ol.render.canvas");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.structs.LRUCache");goog.require("ol.transform");ol.render.canvas.defaultFont="10px sans-serif";ol.render.canvas.defaultFillStyle=[0,0,0,1];ol.render.canvas.defaultLineCap="round";ol.render.canvas.defaultLineDash=[];ol.render.canvas.defaultLineDashOffset=0;ol.render.canvas.defaultLineJoin="round";ol.render.canvas.defaultMiterLimit=10;ol.render.canvas.defaultStrokeStyle=[0,0,0,1];ol.render.canvas.defaultTextAlign="center";ol.render.canvas.defaultTextBaseline="middle";ol.render.canvas.defaultLineWidth=1;ol.render.canvas.labelCache=new ol.structs.LRUCache;ol.render.canvas.checkedFonts_={};ol.render.canvas.checkFont=function(){var r=ol.render.canvas.checkedFonts_,o=ol.render.canvas.labelCache,i="32px monospace",n="wmytzilWMYTZIL@#/&?$%10",a,p,l;function e(e){if(!a){a=ol.dom.createCanvasContext2D(1,1);a.font=i;l=a.measureText(n).width}var t=!0;if("monospace"!=e){a.font="32px "+e+",monospace";var r=a.measureText(n).width;t=r!=l;a.font=i}return t}function t(){var t=!0;for(var i in r){if(60>r[i]){if(e(i)){r[i]=60;o.clear()}else{++r[i];t=!1}}}if(t){window.clearInterval(p);p=void 0}}return function(o){var n=ol.css.getFontFamilies(o);if(!n){return}for(var a=0,l=n.length,s;a<l;++a){s=n[a];if(!(s in r)){r[s]=60;if(!e(s)){r[s]=0;if(p===void 0){p=window.setInterval(t,32)}}}}}}();ol.render.canvas.rotateAtOffset=function(e,t,r,o){if(0!==t){e.translate(r,o);e.rotate(t);e.translate(-r,-o)}};ol.render.canvas.resetTransform_=ol.transform.create();ol.render.canvas.drawImage=function(e,t,r,o,i,n,a,p,l,s,y){var c;if(1!=r){c=e.globalAlpha;e.globalAlpha=c*r}if(t){e.setTransform.apply(e,t)}e.drawImage(o,i,n,a,p,l,s,a*y,p*y);if(c){e.globalAlpha=c}if(t){e.setTransform.apply(e,ol.render.canvas.resetTransform_)}};goog.provide("ol.color");goog.require("ol.asserts");goog.require("ol.math");ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3,4}){1,2}$/i;ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i;ol.color.asArray=function(e){if(Array.isArray(e)){return e}else{return ol.color.fromString(e)}};ol.color.asString=function(e){if("string"==typeof e){return e}else{return ol.color.toString(e)}};ol.color.fromNamed=function(e){var t=document.createElement("div");t.style.color=e;document.body.appendChild(t);var r=getComputedStyle(t).color;document.body.removeChild(t);return r};ol.color.fromString=function(){var e={},t=0;return function(r){var o;if(e.hasOwnProperty(r)){o=e[r]}else{if(t>=1024){var n=0,a;for(a in e){if(0==(3&n++)){delete e[a];--t}}}o=ol.color.fromStringInternal_(r);e[r]=o;++t}return o}}();ol.color.fromStringInternal_=function(e){var t,o,i,p,l,y;if(ol.color.NAMED_COLOR_RE_.exec(e)){e=ol.color.fromNamed(e)}if(ol.color.HEX_COLOR_RE_.exec(e)){var c=e.length-1,n;if(4>=c){n=1}else{n=2}var m=4==c||8==c;t=parseInt(e.substr(1+0*n,n),16);o=parseInt(e.substr(1+1*n,n),16);i=parseInt(e.substr(1+2*n,n),16);if(m){p=parseInt(e.substr(1+3*n,n),16)}else{p=255}if(1==n){t=(t<<4)+t;o=(o<<4)+o;i=(i<<4)+i;if(m){p=(p<<4)+p}}l=[t,o,i,p/255]}else if(0==e.indexOf("rgba(")){y=e.slice(5,-1).split(",").map(Number);l=ol.color.normalize(y)}else if(0==e.indexOf("rgb(")){y=e.slice(4,-1).split(",").map(Number);y.push(1);l=ol.color.normalize(y)}else{ol.asserts.assert(!1,14)}return l};ol.color.normalize=function(e,t){var r=t||[];r[0]=ol.math.clamp(0|e[0]+.5,0,255);r[1]=ol.math.clamp(0|e[1]+.5,0,255);r[2]=ol.math.clamp(0|e[2]+.5,0,255);r[3]=ol.math.clamp(e[3],0,1);return r};ol.color.toString=function(e){var t=e[0];if(t!=(0|t)){t=0|t+.5}var o=e[1];if(o!=(0|o)){o=0|o+.5}var i=e[2];if(i!=(0|i)){i=0|i+.5}var n=e[3]===void 0?1:e[3];return"rgba("+t+","+o+","+i+","+n+")"};goog.provide("ol.colorlike");goog.require("ol.color");ol.colorlike.asColorLike=function(e){if(ol.colorlike.isColorLike(e)){return e}else{return ol.color.asString(e)}};ol.colorlike.isColorLike=function(e){return"string"==typeof e||e instanceof CanvasPattern||e instanceof CanvasGradient};goog.provide("ol.render.VectorContext");ol.render.VectorContext=function(){};ol.render.VectorContext.prototype.drawCustom=function(){};ol.render.VectorContext.prototype.drawGeometry=function(){};ol.render.VectorContext.prototype.setStyle=function(){};ol.render.VectorContext.prototype.drawCircle=function(){};ol.render.VectorContext.prototype.drawFeature=function(){};ol.render.VectorContext.prototype.drawGeometryCollection=function(){};ol.render.VectorContext.prototype.drawLineString=function(){};ol.render.VectorContext.prototype.drawMultiLineString=function(){};ol.render.VectorContext.prototype.drawMultiPoint=function(){};ol.render.VectorContext.prototype.drawMultiPolygon=function(){};ol.render.VectorContext.prototype.drawPoint=function(){};ol.render.VectorContext.prototype.drawPolygon=function(){};ol.render.VectorContext.prototype.drawText=function(){};ol.render.VectorContext.prototype.setFillStrokeStyle=function(){};ol.render.VectorContext.prototype.setImageStyle=function(){};ol.render.VectorContext.prototype.setTextStyle=function(){};goog.provide("ol.render.canvas.Immediate");goog.require("ol");goog.require("ol.array");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.transform");ol.render.canvas.Immediate=function(e,t,r,o,i){ol.render.VectorContext.call(this);this.context_=e;this.pixelRatio_=t;this.extent_=r;this.transform_=o;this.viewRotation_=i;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=!1;this.imageRotation_=0;this.imageScale_=0;this.imageSnapToPixel_=!1;this.imageWidth_=0;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=!1;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext);ol.render.canvas.Immediate.prototype.drawImages_=function(e,t,r){if(!this.image_){return}var o=ol.geom.flat.transform.transform2D(e,t,r,2,this.transform_,this.pixelCoordinates_),n=this.context_,a=this.tmpLocalTransform_,p=n.globalAlpha;if(1!=this.imageOpacity_){n.globalAlpha=p*this.imageOpacity_}var l=this.imageRotation_;if(this.imageRotateWithView_){l+=this.viewRotation_}var s,c;for(s=0,c=o.length;s<c;s+=2){var d=o[s]-this.imageAnchorX_,g=o[s+1]-this.imageAnchorY_;if(this.imageSnapToPixel_){d=Math.round(d);g=Math.round(g)}if(0!==l||1!=this.imageScale_){var m=d+this.imageAnchorX_,u=g+this.imageAnchorY_;ol.transform.compose(a,m,u,this.imageScale_,this.imageScale_,l,-m,-u);n.setTransform.apply(n,a)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,g,this.imageWidth_,this.imageHeight_)}if(0!==l||1!=this.imageScale_){n.setTransform(1,0,0,1,0,0)}if(1!=this.imageOpacity_){n.globalAlpha=p}};ol.render.canvas.Immediate.prototype.drawText_=function(e,t,r,o){if(!this.textState_||""===this.text_){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);var i=ol.geom.flat.transform.transform2D(e,t,r,o,this.transform_,this.pixelCoordinates_),n=this.context_,a=this.textRotation_;if(this.textRotateWithView_){a+=this.viewRotation_}for(;t<r;t+=o){var p=i[t]+this.textOffsetX_,l=i[t+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var s=ol.transform.compose(this.tmpLocalTransform_,p,l,this.textScale_,this.textScale_,a,-p,-l);n.setTransform.apply(n,s)}if(this.textStrokeState_){n.strokeText(this.text_,p,l)}if(this.textFillState_){n.fillText(this.text_,p,l)}}if(0!==a||1!=this.textScale_){n.setTransform(1,0,0,1,0,0)}};ol.render.canvas.Immediate.prototype.moveToLineTo_=function(e,t,r,o,n){var a=this.context_,p=ol.geom.flat.transform.transform2D(e,t,r,o,this.transform_,this.pixelCoordinates_);a.moveTo(p[0],p[1]);var l=p.length;if(n){l-=2}for(var s=2;s<l;s+=2){a.lineTo(p[s],p[s+1])}if(n){a.closePath()}return r};ol.render.canvas.Immediate.prototype.drawRings_=function(e,t,r,o){var n,a;for(n=0,a=r.length;n<a;++n){t=this.moveToLineTo_(e,t,r[n],o,!0)}return t};ol.render.canvas.Immediate.prototype.drawCircle=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=ol.geom.SimpleGeometry.transform2D(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],o=t[3]-t[1],i=Math.sqrt(r*r+o*o),n=this.context_;n.beginPath();n.arc(t[0],t[1],i,0,2*Math.PI);if(this.fillState_){n.fill()}if(this.strokeState_){n.stroke()}}if(""!==this.text_){this.drawText_(e.getCenter(),0,2,2)}};ol.render.canvas.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage());this.setTextStyle(e.getText())};ol.render.canvas.Immediate.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case ol.geom.GeometryType.POINT:this.drawPoint(e);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e);break;default:}};ol.render.canvas.Immediate.prototype.drawFeature=function(e,t){var r=t.getGeometryFunction()(e);if(!r||!ol.extent.intersects(this.extent_,r.getExtent())){return}this.setStyle(t);this.drawGeometry(r)};ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(e){var t=e.getGeometriesArray(),r,o;for(r=0,o=t.length;r<o;++r){this.drawGeometry(t[r])}};ol.render.canvas.Immediate.prototype.drawPoint=function(e){var t=e.getFlatCoordinates(),r=e.getStride();if(this.image_){this.drawImages_(t,0,t.length,r)}if(""!==this.text_){this.drawText_(t,0,t.length,r)}};ol.render.canvas.Immediate.prototype.drawMultiPoint=function(e){var t=e.getFlatCoordinates(),r=e.getStride();if(this.image_){this.drawImages_(t,0,t.length,r)}if(""!==this.text_){this.drawText_(t,0,t.length,r)}};ol.render.canvas.Immediate.prototype.drawLineString=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates();t.beginPath();this.moveToLineTo_(r,0,r.length,e.getStride(),!1);t.stroke()}if(""!==this.text_){var o=e.getFlatMidpoint();this.drawText_(o,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiLineString=function(e){var t=e.getExtent();if(!ol.extent.intersects(this.extent_,t)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,o=e.getFlatCoordinates(),n=0,a=e.getEnds(),p=e.getStride();r.beginPath();var l,s;for(l=0,s=a.length;l<s;++l){n=this.moveToLineTo_(o,n,a[l],p,!1)}r.stroke()}if(""!==this.text_){var y=e.getFlatMidpoints();this.drawText_(y,0,y.length,2)}};ol.render.canvas.Immediate.prototype.drawPolygon=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=this.context_;t.beginPath();this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride());if(this.fillState_){t.fill()}if(this.strokeState_){t.stroke()}}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=this.context_,r=e.getOrientedFlatCoordinates(),o=0,n=e.getEndss(),a=e.getStride(),p,l;t.beginPath();for(p=0,l=n.length;p<l;++p){var s=n[p];o=this.drawRings_(r,o,s,a)}if(this.fillState_){t.fill()}if(this.strokeState_){t.stroke()}}if(""!==this.text_){var y=e.getFlatInteriorPoints();this.drawText_(y,0,y.length,2)}};ol.render.canvas.Immediate.prototype.setContextFillState_=function(e){var t=this.context_,r=this.contextFillState_;if(!r){t.fillStyle=e.fillStyle;this.contextFillState_={fillStyle:e.fillStyle}}else{if(r.fillStyle!=e.fillStyle){r.fillStyle=t.fillStyle=e.fillStyle}}};ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(e){var t=this.context_,r=this.contextStrokeState_;if(!r){t.lineCap=e.lineCap;if(ol.has.CANVAS_LINE_DASH){t.setLineDash(e.lineDash);t.lineDashOffset=e.lineDashOffset}t.lineJoin=e.lineJoin;t.lineWidth=e.lineWidth;t.miterLimit=e.miterLimit;t.strokeStyle=e.strokeStyle;this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}}else{if(r.lineCap!=e.lineCap){r.lineCap=t.lineCap=e.lineCap}if(ol.has.CANVAS_LINE_DASH){if(!ol.array.equals(r.lineDash,e.lineDash)){t.setLineDash(r.lineDash=e.lineDash)}if(r.lineDashOffset!=e.lineDashOffset){r.lineDashOffset=t.lineDashOffset=e.lineDashOffset}}if(r.lineJoin!=e.lineJoin){r.lineJoin=t.lineJoin=e.lineJoin}if(r.lineWidth!=e.lineWidth){r.lineWidth=t.lineWidth=e.lineWidth}if(r.miterLimit!=e.miterLimit){r.miterLimit=t.miterLimit=e.miterLimit}if(r.strokeStyle!=e.strokeStyle){r.strokeStyle=t.strokeStyle=e.strokeStyle}}};ol.render.canvas.Immediate.prototype.setContextTextState_=function(e){var t=this.context_,r=this.contextTextState_,o=e.textAlign?e.textAlign:ol.render.canvas.defaultTextAlign;if(!r){t.font=e.font;t.textAlign=o;t.textBaseline=e.textBaseline;this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline}}else{if(r.font!=e.font){r.font=t.font=e.font}if(r.textAlign!=o){r.textAlign=o}if(r.textBaseline!=e.textBaseline){r.textBaseline=t.textBaseline=e.textBaseline}}};ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(e,t){if(!e){this.fillState_=null}else{var r=e.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(r?r:ol.render.canvas.defaultFillStyle)}}if(!t){this.strokeState_=null}else{var o=t.getColor(),i=t.getLineCap(),n=t.getLineDash(),a=t.getLineDashOffset(),p=t.getLineJoin(),l=t.getWidth(),s=t.getMiterLimit();this.strokeState_={lineCap:i!==void 0?i:ol.render.canvas.defaultLineCap,lineDash:n?n:ol.render.canvas.defaultLineDash,lineDashOffset:a?a:ol.render.canvas.defaultLineDashOffset,lineJoin:p!==void 0?p:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(l!==void 0?l:ol.render.canvas.defaultLineWidth),miterLimit:s!==void 0?s:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultStrokeStyle)}}};ol.render.canvas.Immediate.prototype.setImageStyle=function(e){if(!e){this.image_=null}else{var t=e.getAnchor(),r=e.getImage(1),o=e.getOrigin(),i=e.getSize();this.imageAnchorX_=t[0];this.imageAnchorY_=t[1];this.imageHeight_=i[1];this.image_=r;this.imageOpacity_=e.getOpacity();this.imageOriginX_=o[0];this.imageOriginY_=o[1];this.imageRotateWithView_=e.getRotateWithView();this.imageRotation_=e.getRotation();this.imageScale_=e.getScale()*this.pixelRatio_;this.imageSnapToPixel_=e.getSnapToPixel();this.imageWidth_=i[0]}};ol.render.canvas.Immediate.prototype.setTextStyle=function(e){if(!e){this.text_=""}else{var t=e.getFill();if(!t){this.textFillState_=null}else{var r=t.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(r?r:ol.render.canvas.defaultFillStyle)}}var o=e.getStroke();if(!o){this.textStrokeState_=null}else{var i=o.getColor(),n=o.getLineCap(),a=o.getLineDash(),p=o.getLineDashOffset(),l=o.getLineJoin(),s=o.getWidth(),y=o.getMiterLimit();this.textStrokeState_={lineCap:n!==void 0?n:ol.render.canvas.defaultLineCap,lineDash:a?a:ol.render.canvas.defaultLineDash,lineDashOffset:p?p:ol.render.canvas.defaultLineDashOffset,lineJoin:l!==void 0?l:ol.render.canvas.defaultLineJoin,lineWidth:s!==void 0?s:ol.render.canvas.defaultLineWidth,miterLimit:y!==void 0?y:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultStrokeStyle)}}var c=e.getFont(),d=e.getOffsetX(),g=e.getOffsetY(),m=e.getRotateWithView(),u=e.getRotation(),_=e.getScale(),f=e.getText(),S=e.getTextAlign(),x=e.getTextBaseline();this.textState_={font:c!==void 0?c:ol.render.canvas.defaultFont,textAlign:S!==void 0?S:ol.render.canvas.defaultTextAlign,textBaseline:x!==void 0?x:ol.render.canvas.defaultTextBaseline};this.text_=f!==void 0?f:"";this.textOffsetX_=d!==void 0?this.pixelRatio_*d:0;this.textOffsetY_=g!==void 0?this.pixelRatio_*g:0;this.textRotateWithView_=m!==void 0?m:!1;this.textRotation_=u!==void 0?u:0;this.textScale_=this.pixelRatio_*(_!==void 0?_:1)}};goog.provide("ol.ImageState");ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};goog.provide("ol.renderer.Layer");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.Observable");goog.require("ol.TileState");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.functions");goog.require("ol.source.State");ol.renderer.Layer=function(e){ol.Observable.call(this);this.layer_=e};ol.inherits(ol.renderer.Layer,ol.Observable);ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE;ol.renderer.Layer.prototype.createLoadedTileFinder=function(e,t,r){return function(o,i){return e.forEachLoadedTile(t,o,i,function(e){if(!r[o]){r[o]={}}r[o][e.tileCoord.toString()]=e})}};ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};ol.renderer.Layer.prototype.handleImageChange_=function(e){var t=e.target;if(t.getState()===ol.ImageState.LOADED){this.renderIfReadyAndVisible()}};ol.renderer.Layer.prototype.loadImage=function(e){var t=e.getState();if(t!=ol.ImageState.LOADED&&t!=ol.ImageState.ERROR){ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange_,this)}if(t==ol.ImageState.IDLE){e.load();t=e.getState()}return t==ol.ImageState.LOADED};ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();if(e.getVisible()&&e.getSourceState()==ol.source.State.READY){this.changed()}};ol.renderer.Layer.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var o=ol.getUid(e).toString();if(o in r.usedTiles){e.expireCache(r.viewState.projection,r.usedTiles[o])}}.bind(null,t);e.postRenderFunctions.push(r)}};ol.renderer.Layer.prototype.updateLogos=function(e,t){var r=t.getLogo();if(r!==void 0){if("string"==typeof r){e.logos[r]=""}else if(r){ol.asserts.assert("string"==typeof r.href,44);ol.asserts.assert("string"==typeof r.src,45);e.logos[r.src]=r.href}}};ol.renderer.Layer.prototype.updateUsedTiles=function(e,t,r,o){var i=ol.getUid(t).toString(),n=r.toString();if(i in e){if(n in e[i]){e[i][n].extend(o)}else{e[i][n]=o}}else{e[i]={};e[i][n]=o}};ol.renderer.Layer.prototype.manageTilePyramid=function(e,t,r,o,i,n,a,p,l,s){var c=ol.getUid(t).toString();if(!(c in e.wantedTiles)){e.wantedTiles[c]={}}var d=e.wantedTiles[c],g=e.tileQueue,m=r.getMinZoom(),u,_,f,S,P,T;for(T=m;T<=a;++T){_=r.getTileRangeForExtentAndZ(n,T,_);f=r.getResolution(T);for(S=_.minX;S<=_.maxX;++S){for(P=_.minY;P<=_.maxY;++P){if(a-T<=p){u=t.getTile(T,S,P,o,i);if(u.getState()==ol.TileState.IDLE){d[u.getKey()]=!0;if(!g.isKeyQueued(u.getKey())){g.enqueue([u,c,r.getTileCoordCenter(u.tileCoord),f])}}if(l!==void 0){l.call(s,u)}}else{t.useTile(T,S,P,i)}}}}};goog.provide("ol.renderer.canvas.Layer");goog.require("ol");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.transform");ol.renderer.canvas.Layer=function(e){ol.renderer.Layer.call(this,e);this.renderedResolution;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer);ol.renderer.canvas.Layer.prototype.clip=function(e,t,r){var o=t.pixelRatio,i=t.size[0]*o,n=t.size[1]*o,a=t.viewState.rotation,p=ol.extent.getTopLeft(r),l=ol.extent.getTopRight(r),s=ol.extent.getBottomRight(r),y=ol.extent.getBottomLeft(r);ol.transform.apply(t.coordinateToPixelTransform,p);ol.transform.apply(t.coordinateToPixelTransform,l);ol.transform.apply(t.coordinateToPixelTransform,s);ol.transform.apply(t.coordinateToPixelTransform,y);e.save();ol.render.canvas.rotateAtOffset(e,-a,i/2,n/2);e.beginPath();e.moveTo(p[0]*o,p[1]*o);e.lineTo(l[0]*o,l[1]*o);e.lineTo(s[0]*o,s[1]*o);e.lineTo(y[0]*o,y[1]*o);e.clip();ol.render.canvas.rotateAtOffset(e,a,i/2,n/2)};ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(e,t,r,o){var i=this.getLayer();if(i.hasListener(e)){var n=r.size[0]*r.pixelRatio,a=r.size[1]*r.pixelRatio,p=r.viewState.rotation;ol.render.canvas.rotateAtOffset(t,-p,n/2,a/2);var l=o!==void 0?o:this.getTransform(r,0),s=new ol.render.canvas.Immediate(t,r.pixelRatio,r.extent,l,r.viewState.rotation),y=new ol.render.Event(e,s,r,t,null);i.dispatchEvent(y);ol.render.canvas.rotateAtOffset(t,p,n/2,a/2)}};ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(e,t,r,o){var i=this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this);if(i){return r.call(o,this.getLayer(),null)}else{}};ol.renderer.canvas.Layer.prototype.postCompose=function(e,t,r,o){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e,t,o)};ol.renderer.canvas.Layer.prototype.preCompose=function(e,t,r){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e,t,r)};ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(e,t,r){this.dispatchComposeEvent_(ol.render.EventType.RENDER,e,t,r)};ol.renderer.canvas.Layer.prototype.getTransform=function(e,t){var r=e.viewState,o=e.pixelRatio,i=o*e.size[0]/2,n=o*e.size[1]/2,a=o/r.resolution,p=-r.rotation,l=-r.center[0]+t,s=-r.center[1];return ol.transform.compose(this.transform_,i,n,a,-a,p,l,s)};ol.renderer.canvas.Layer.prototype.composeFrame=function(){};ol.renderer.canvas.Layer.prototype.prepareFrame=function(){};goog.provide("ol.renderer.canvas.IntermediateCanvas");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.renderer.canvas.Layer");goog.require("ol.transform");ol.renderer.canvas.IntermediateCanvas=function(e){ol.renderer.canvas.Layer.call(this,e);this.coordinateToCanvasPixelTransform=ol.transform.create();this.hitCanvasContext_=null};ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer);ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(e,t,r){this.preCompose(r,e);var o=this.getImage();if(o){var i=t.extent,n=i!==void 0&&!ol.extent.containsExtent(i,e.extent)&&ol.extent.intersects(i,e.extent);if(n){this.clip(r,e,i)}var a=this.getImageTransform(),p=r.globalAlpha;r.globalAlpha=t.opacity;var l=a[4],s=a[5],y=o.width*a[0],c=o.height*a[3];r.drawImage(o,0,0,+o.width,+o.height,Math.round(l),Math.round(s),Math.round(y),Math.round(c));r.globalAlpha=p;if(n){r.restore()}}this.postCompose(r,e,t)};ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i){var n=this.getLayer(),a=n.getSource(),p=t.viewState.resolution,l=t.viewState.rotation,s=t.skippedFeatureUids;return a.forEachFeatureAtCoordinate(e,p,l,r,s,function(e){return o.call(i,e,n)})};ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(e,t,r,o){if(!this.getImage()){return}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments)}else{var i=ol.transform.apply(this.coordinateToCanvasPixelTransform,e.slice());ol.coordinate.scale(i,t.viewState.resolution/this.renderedResolution);if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var n=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(0<n[3]){return r.call(o,this.getLayer(),n)}else{}}};goog.provide("ol.renderer.canvas.ImageLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.extent");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.IntermediateCanvas");goog.require("ol.transform");ol.renderer.canvas.ImageLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e);this.image_=null;this.imageTransform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.ImageLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.IMAGE};ol.renderer.canvas.ImageLayer.create=function(e,t){return new ol.renderer.canvas.ImageLayer(t)};ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return!this.image_?null:this.image_.getImage()};ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_};ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(e,t){var r=e.pixelRatio,o=e.size,i=e.viewState,n=i.center,a=i.resolution,p,l=this.getLayer(),s=l.getSource(),y=e.viewHints,c=e.extent;if(t.extent!==void 0){c=ol.extent.getIntersection(c,t.extent)}if(!y[ol.ViewHint.ANIMATING]&&!y[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(c)){var d=i.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var g=s.getProjection();if(g){d=g}}p=s.getImage(c,a,r,d);if(p){var m=this.loadImage(p);if(m){this.image_=p}}}if(this.image_){p=this.image_;var u=p.getExtent(),_=p.getResolution(),f=p.getPixelRatio(),S=r*_/(a*f),x=ol.transform.compose(this.imageTransform_,r*o[0]/2,r*o[1]/2,S,S,0,f*(u[0]-n[0])/_,f*(n[1]-u[3])/_);ol.transform.compose(this.coordinateToCanvasPixelTransform,r*o[0]/2-x[4],r*o[1]/2-x[5],r/a,-r/a,0,-n[0],-n[1]);this.updateLogos(e,s);this.renderedResolution=_*r/f}return!!this.image_};goog.provide("ol.style.IconImageCache");goog.require("ol.color");ol.style.IconImageCache=function(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};ol.style.IconImageCache.getKey=function(e,t,r){var o=r?ol.color.asString(r):"null";return t+":"+e+":"+o};ol.style.IconImageCache.prototype.clear=function(){this.cache_={};this.cacheSize_=0};ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0,t,r;for(t in this.cache_){r=this.cache_[t];if(0==(3&e++)&&!r.hasListener()){delete this.cache_[t];--this.cacheSize_}}}};ol.style.IconImageCache.prototype.get=function(e,t,r){var o=ol.style.IconImageCache.getKey(e,t,r);return o in this.cache_?this.cache_[o]:null};ol.style.IconImageCache.prototype.set=function(e,t,r,o){var i=ol.style.IconImageCache.getKey(e,t,r);this.cache_[i]=o;++this.cacheSize_};goog.provide("ol.style");goog.require("ol.style.IconImageCache");ol.style.iconImageCache=new ol.style.IconImageCache;goog.provide("ol.renderer.Map");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.layer.Layer");goog.require("ol.plugins");goog.require("ol.style");goog.require("ol.transform");ol.renderer.Map=function(e,t){ol.Disposable.call(this);this.map_=t;this.layerRenderers_={};this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable);ol.renderer.Map.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;ol.transform.compose(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]);ol.transform.invert(ol.transform.setFromArray(o,r))};ol.renderer.Map.prototype.disposeInternal=function(){for(var e in this.layerRenderers_){this.layerRenderers_[e].dispose()}};ol.renderer.Map.expireIconCache_=function(){var e=ol.style.iconImageCache;e.expire()};ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,n,a,p){var s,y=t.viewState,c=y.resolution;function l(e,r){var i=ol.getUid(e).toString(),a=t.layerStates[ol.getUid(r)].managed;if(!(i in t.skippedFeatureUids&&!a)){return o.call(n,e,a?r:null)}}var d=y.projection,g=e;if(d.canWrapX()){var m=d.getExtent(),u=ol.extent.getWidth(m),_=e[0];if(_<m[0]||_>m[2]){var f=Math.ceil((m[0]-_)/u);g=[_+u*f,e[1]]}}var S=t.layerStatesArray,x=S.length,P;for(P=x-1;0<=P;--P){var T=S[P],E=T.layer;if(ol.layer.Layer.visibleAtResolution(T,c)&&a.call(p,E)){var h=this.getLayerRenderer(E);if(E.getSource()){s=h.forEachFeatureAtCoordinate(E.getSource().getWrapX()?g:e,t,r,l,n)}if(s){return s}}}};ol.renderer.Map.prototype.forEachLayerAtPixel=function(){};ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(e,t,r,o,i){var n=this.forEachFeatureAtCoordinate(e,t,r,ol.functions.TRUE,this,o,i);return n!==void 0};ol.renderer.Map.prototype.getLayerRenderer=function(e){var t=ol.getUid(e).toString();if(t in this.layerRenderers_){return this.layerRenderers_[t]}else{for(var r=ol.plugins.getLayerRendererPlugins(),o,n=this.getType(),a=0,p=r.length,l;a<p;++a){l=r[a];if(l.handles(n,e)){o=l.create(this,e);break}}if(o){this.layerRenderers_[t]=o;this.layerRendererListeners_[t]=ol.events.listen(o,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this)}else{throw new Error("Unable to create renderer for layer: "+e.getType())}return o}};ol.renderer.Map.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]};ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_};ol.renderer.Map.prototype.getMap=function(){return this.map_};ol.renderer.Map.prototype.getType=function(){};ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()};ol.renderer.Map.prototype.removeLayerRendererByKey_=function(e){var t=this.layerRenderers_[e];delete this.layerRenderers_[e];ol.events.unlistenByKey(this.layerRendererListeners_[e]);delete this.layerRendererListeners_[e];return t};ol.renderer.Map.prototype.renderFrame=ol.nullFunction;ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(e,t){for(var r in this.layerRenderers_){if(!t||!(r in t.layerStates)){this.removeLayerRendererByKey_(r).dispose()}}};ol.renderer.Map.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)};ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(e){for(var t in this.layerRenderers_){if(!(t in e.layerStates)){e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};ol.renderer.Map.sortByZIndex=function(e,t){return e.zIndex-t.zIndex};goog.provide("ol.renderer.canvas.Map");goog.require("ol.transform");goog.require("ol");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.layer.Layer");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.source.State");ol.renderer.canvas.Map=function(e,t){ol.renderer.Map.call(this,e,t);this.context_=ol.dom.createCanvasContext2D();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;e.insertBefore(this.canvas_,e.childNodes[0]||null);this.renderedVisible_=!0;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map);ol.renderer.canvas.Map.handles=function(e){return e===ol.renderer.Type.CANVAS};ol.renderer.canvas.Map.create=function(e,t){return new ol.renderer.canvas.Map(e,t)};ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(e,t){var r=this.getMap(),o=this.context_;if(r.hasListener(e)){var i=t.extent,n=t.pixelRatio,a=t.viewState,p=a.rotation,l=this.getTransform(t),s=new ol.render.canvas.Immediate(o,n,i,l,p),y=new ol.render.Event(e,s,t,o,null);r.dispatchEvent(y)}};ol.renderer.canvas.Map.prototype.getTransform=function(e){var t=e.viewState,r=this.canvas_.width/2,o=this.canvas_.height/2,i=e.pixelRatio/t.resolution,n=-t.rotation,a=-t.center[0],p=-t.center[1];return ol.transform.compose(this.transform_,r,o,i,-i,n,a,p)};ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS};ol.renderer.canvas.Map.prototype.renderFrame=function(e){if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=!1}return}var t=this.context_,r=e.pixelRatio,o=Math.round(e.size[0]*r),n=Math.round(e.size[1]*r);if(this.canvas_.width!=o||this.canvas_.height!=n){this.canvas_.width=o;this.canvas_.height=n}else{t.clearRect(0,0,o,n)}var a=e.viewState.rotation;this.calculateMatrices2D(e);this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var p=e.layerStatesArray;ol.array.stableSort(p,ol.renderer.Map.sortByZIndex);if(a){t.save();ol.render.canvas.rotateAtOffset(t,a,o/2,n/2)}var l=e.viewState.resolution,s,y,c,d,g;for(s=0,y=p.length;s<y;++s){g=p[s];c=g.layer;d=this.getLayerRenderer(c);if(!ol.layer.Layer.visibleAtResolution(g,l)||g.sourceState!=ol.source.State.READY){continue}if(d.prepareFrame(e,g)){d.composeFrame(e,g,t)}}if(a){t.restore()}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e);if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=!0}this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(e,t,r,o,n,a){var p,l=t.viewState,s=l.resolution,y=t.layerStatesArray,c=y.length,d=ol.transform.apply(t.pixelToCoordinateTransform,e.slice()),g;for(g=c-1;0<=g;--g){var m=y[g],u=m.layer;if(ol.layer.Layer.visibleAtResolution(m,s)&&n.call(a,u)){var _=this.getLayerRenderer(u);p=_.forEachLayerAtCoordinate(d,t,r,o);if(p){return p}}}};goog.provide("ol.renderer.canvas.TileLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.TileRange");goog.require("ol.TileState");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.IntermediateCanvas");goog.require("ol.transform");ol.renderer.canvas.TileLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e);this.context=null===this.context?null:ol.dom.createCanvasContext2D();this.oversampling_;this.renderedExtent_=null;this.renderedRevision;this.renderedTiles=[];this.tmpExtent=ol.extent.createEmpty();this.tmpTileRange_=new ol.TileRange(0,0,0,0);this.imageTransform_=ol.transform.create();this.zDirection=0};ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.TileLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.TILE};ol.renderer.canvas.TileLayer.create=function(e,t){return new ol.renderer.canvas.TileLayer(t)};ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(e){var t=e.getState(),r=this.getLayer().getUseInterimTilesOnError();return t==ol.TileState.LOADED||t==ol.TileState.EMPTY||t==ol.TileState.ERROR&&!r};ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(e,t){var r=e.pixelRatio,o=e.size,n=e.viewState,a=n.projection,p=n.resolution,l=n.center,s=this.getLayer(),c=s.getSource(),d=c.getRevision(),g=c.getTileGridForProjection(a),m=g.getZForResolution(p,this.zDirection),u=g.getResolution(m),_=Math.round(p/u)||1,f=e.extent;if(t.extent!==void 0){f=ol.extent.getIntersection(f,t.extent)}if(ol.extent.isEmpty(f)){return!1}var S=g.getTileRangeForExtentAndZ(f,m),P=g.getTileRangeExtent(m,S),T=c.getTilePixelRatio(r),E={};E[m]={};var v=this.createLoadedTileFinder(c,a,E),R=this.tmpExtent,C=this.tmpTileRange_,L=!1,M,I,b;for(I=S.minX;I<=S.maxX;++I){for(b=S.minY;b<=S.maxY;++b){M=c.getTile(m,I,b,r,a);if(M.getState()==ol.TileState.ERROR){if(!s.getUseInterimTilesOnError()){M.setState(ol.TileState.LOADED)}else if(0<s.getPreload()){L=!0}}if(!this.isDrawableTile_(M)){M=M.getInterimTile()}if(this.isDrawableTile_(M)){var A=ol.getUid(this);if(M.getState()==ol.TileState.LOADED){E[m][M.tileCoord.toString()]=M;var O=M.inTransition(A);if(!L&&(O||-1===this.renderedTiles.indexOf(M))){L=!0}}if(1===M.getAlpha(A,e.time)){continue}}var G=g.getTileCoordChildTileRange(M.tileCoord,C,R),F=!1;if(G){F=v(m+1,G)}if(!F){g.forEachTileCoordParentTileRange(M.tileCoord,v,null,C,R)}}}var N=u*r/T*_,D=e.viewHints,q=D[ol.ViewHint.ANIMATING]||D[ol.ViewHint.INTERACTING];if(!(this.renderedResolution&&16<Date.now()-e.time&&q)&&(L||!(this.renderedExtent_&&ol.extent.containsExtent(this.renderedExtent_,f))||this.renderedRevision!=d||_!=this.oversampling_||!q&&N!=this.renderedResolution)){var U=this.context;if(U){var k=c.getTilePixelSize(m,r,a),j=Math.round(S.getWidth()*k[0]/_),W=Math.round(S.getHeight()*k[1]/_),V=U.canvas;if(V.width!=j||V.height!=W){this.oversampling_=_;V.width=j;V.height=W}else{if(this.renderedExtent_&&!ol.extent.equals(P,this.renderedExtent_)){U.clearRect(0,0,j,W)}_=this.oversampling_}}this.renderedTiles.length=0;var B=Object.keys(E).map(Number);B.sort(function(e,t){if(e===m){return 1}else if(t===m){return-1}else{return e>t?1:e<t?-1:0}});var K,X,Z,Y,H,z,J,Q,$,ee,te;for(H=0,z=B.length;H<z;++H){Y=B[H];Z=c.getTilePixelSize(Y,r,a);K=g.getResolution(Y);X=K/u;Q=T*c.getGutter(a);$=E[Y];for(var re in $){M=$[re];J=g.getTileCoordExtent(M.getTileCoord(),R);I=(J[0]-P[0])/u*T/_;b=(P[3]-J[3])/u*T/_;ee=Z[0]*X/_;te=Z[1]*X/_;this.drawTileImage(M,e,t,I,b,ee,te,Q,m===Y);this.renderedTiles.push(M)}}this.renderedRevision=d;this.renderedResolution=u*r/T*_;this.renderedExtent_=P}var oe=this.renderedResolution/p,ie=ol.transform.compose(this.imageTransform_,r*o[0]/2,r*o[1]/2,oe,oe,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*r,(l[1]-this.renderedExtent_[3])/this.renderedResolution*r);ol.transform.compose(this.coordinateToCanvasPixelTransform,r*o[0]/2-ie[4],r*o[1]/2-ie[5],r/p,-r/p,0,-l[0],-l[1]);this.updateUsedTiles(e.usedTiles,c,m,S);this.manageTilePyramid(e,c,g,r,a,f,m,s.getPreload());this.scheduleExpireCache(e,c);this.updateLogos(e,c);return 0<this.renderedTiles.length};ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(e,t,r,o,i,n,a,p,l){var s=e.getImage(this.getLayer());if(!s){return}var y=ol.getUid(this),c=l?e.getAlpha(y,t.time):1;if(1===c&&!this.getLayer().getSource().getOpaque(t.viewState.projection)){this.context.clearRect(o,i,n,a)}var d=c!==this.context.globalAlpha;if(d){this.context.save();this.context.globalAlpha=c}this.context.drawImage(s,p,p,s.width-2*p,s.height-2*p,o,i,n,a);if(d){this.context.restore()}if(1!==c){t.animate=!0}else if(l){e.endTransition(y)}};ol.renderer.canvas.TileLayer.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};ol.renderer.canvas.TileLayer.prototype.getLayer;ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_};goog.provide("ol.ext.rbush");ol.ext.rbush=function(){};(function(){(function(e){'use strict';function t(e,a,p,l,y){p=p||0;l=l||e.length-1;y=y||o;while(l>p){if(600<l-p){var c=l-p+1,n=a-p+1,d=Math.log(c),g=.5*Math.exp(2*d/3),s=.5*Math.sqrt(d*g*(c-g)/c)*(0>n-c/2?-1:1),m=Math.max(p,Math.floor(a-n*g/c+s)),u=Math.min(l,Math.floor(a+(c-n)*g/c+s));t(e,a,m,u,y)}var _=e[a],f=p,S=l;r(e,p,a);if(0<y(e[l],_))r(e,p,l);while(f<S){r(e,f,S);f++;S--;while(0>y(e[f],_)){f++}while(0<y(e[S],_)){S--}}if(0===y(e[p],_))r(e,p,S);else{S++;r(e,S,l)}if(S<=a)p=S+1;if(a<=S)l=S-1}}function r(e,t,r){var o=e[t];e[t]=e[r];e[r]=o}function o(e,t){return e<t?-1:e>t?1:0}function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));if(t){this._initFormat(t)}this.clear()}i.prototype={all:function all(){return this._all(this.data,[])},search:function search(e){var t=this.data,r=[],o=this.toBBox;if(!_(e,t))return r;var n=[],a,p,l,s;while(t){for(a=0,p=t.children.length;a<p;a++){l=t.children[a];s=t.leaf?o(l):l;if(_(e,s)){if(t.leaf)r.push(l);else if(u(e,s))this._all(l,r);else n.push(l)}}t=n.pop()}return r},collides:function collides(e){var t=this.data,r=this.toBBox;if(!_(e,t))return!1;var o=[],n,a,p,l;while(t){for(n=0,a=t.children.length;n<a;n++){p=t.children[n];l=t.leaf?r(p):p;if(_(e,l)){if(t.leaf||u(e,l))return!0;o.push(p)}}t=o.pop()}return!1},load:function load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,r=e.length;t<r;t++){this.insert(e[t])}return this}var o=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length){this.data=o}else if(this.data.height===o.height){this._splitRoot(this.data,o)}else{if(this.data.height<o.height){var n=this.data;this.data=o;o=n}this._insert(o,this.data.height-o.height-1,!0)}return this},insert:function insert(e){if(e)this._insert(e,this.data.height-1);return this},clear:function clear(){this.data=f([]);return this},remove:function remove(e,t){if(!e)return this;var r=this.data,o=this.toBBox(e),a=[],p=[],l,s,y,c;while(r||a.length){if(!r){r=a.pop();s=a[a.length-1];l=p.pop();c=!0}if(r.leaf){y=n(e,r.children,t);if(-1!==y){r.children.splice(y,1);a.push(r);this._condense(a);return this}}if(!c&&!r.leaf&&u(r,o)){a.push(r);p.push(l);l=0;s=r;r=r.children[0]}else if(s){l++;r=s.children[l];c=!1}else r=null}return this},toBBox:function toBBox(e){return e},compareMinX:s,compareMinY:y,toJSON:function toJSON(){return this.data},fromJSON:function fromJSON(e){this.data=e;return this},_all:function _all(e,t){var r=[];while(e){if(e.leaf)t.push.apply(t,e.children);else r.push.apply(r,e.children);e=r.pop()}return t},_build:function _build(e,t,r,o){var n=r-t+1,p=this._maxEntries,l;if(n<=p){l=f(e.slice(t,r+1));a(l,this.toBBox);return l}if(!o){o=Math.ceil(Math.log(n)/Math.log(p));p=Math.ceil(n/Math.pow(p,o-1))}l=f([]);l.leaf=!1;l.height=o;var s=Math.ceil(n/p),y=s*Math.ceil(Math.sqrt(p)),c,d,g,m;S(e,t,r,y,this.compareMinX);for(c=t;c<=r;c+=y){g=Math.min(c+y-1,r);S(e,c,g,s,this.compareMinY);for(d=c;d<=g;d+=s){m=Math.min(d+s-1,g);l.children.push(this._build(e,d,m,o-1))}}a(l,this.toBBox);return l},_chooseSubtree:function _chooseSubtree(e,t,r,o){var n,a,p,l,s,y,d,m;while(!0){o.push(t);if(t.leaf||o.length-1===r)break;d=m=1/0;for(n=0,a=t.children.length;n<a;n++){p=t.children[n];s=c(p);y=g(e,p)-s;if(y<m){m=y;d=s<d?s:d;l=p}else if(y===m){if(s<d){d=s;l=p}}}t=l||t.children[0]}return t},_insert:function _insert(e,t,r){var o=this.toBBox,i=r?e:o(e),n=[],a=this._chooseSubtree(i,this.data,t,n);a.children.push(e);l(a,i);while(0<=t){if(n[t].children.length>this._maxEntries){this._split(n,t);t--}else break}this._adjustParentBBoxes(i,n,t)},_split:function _split(e,t){var r=e[t],o=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,o);var n=this._chooseSplitIndex(r,i,o),p=f(r.children.splice(n,r.children.length-n));p.height=r.height;p.leaf=r.leaf;a(r,this.toBBox);a(p,this.toBBox);if(t)e[t-1].children.push(p);else this._splitRoot(r,p)},_splitRoot:function _splitRoot(e,t){this.data=f([e,t]);this.data.height=e.height+1;this.data.leaf=!1;a(this.data,this.toBBox)},_chooseSplitIndex:function _chooseSplitIndex(e,t,r){var o,n,a,l,s,y,d,g;y=d=1/0;for(o=t;o<=r-t;o++){n=p(e,0,o,this.toBBox);a=p(e,o,r,this.toBBox);l=m(n,a);s=c(n)+c(a);if(l<y){y=l;g=o;d=s<d?s:d}else if(l===y){if(s<d){d=s;g=o}}}return g},_chooseSplitAxis:function _chooseSplitAxis(e,t,r){var o=e.leaf?this.compareMinX:s,i=e.leaf?this.compareMinY:y,n=this._allDistMargin(e,t,r,o),a=this._allDistMargin(e,t,r,i);if(n<a)e.children.sort(o)},_allDistMargin:function _allDistMargin(e,t,r,o){e.children.sort(o);var n=this.toBBox,a=p(e,0,t,n),s=p(e,r-t,r,n),y=d(a)+d(s),c,g;for(c=t;c<r-t;c++){g=e.children[c];l(a,e.leaf?n(g):g);y+=d(a)}for(c=r-t-1;c>=t;c--){g=e.children[c];l(s,e.leaf?n(g):g);y+=d(s)}return y},_adjustParentBBoxes:function _adjustParentBBoxes(e,t,r){for(var o=r;0<=o;o--){l(t[o],e)}},_condense:function _condense(e){for(var t=e.length-1,r;0<=t;t--){if(0===e[t].children.length){if(0<t){r=e[t-1].children;r.splice(r.indexOf(e[t]),1)}else this.clear()}else a(e[t],this.toBBox)}},_initFormat:function _initFormat(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0]));this.compareMinY=new Function("a","b",t.join(e[1]));this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function n(e,t,r){if(!r)return t.indexOf(e);for(var o=0;o<t.length;o++){if(r(e,t[o]))return o}return-1}function a(e,t){p(e,0,e.children.length,t,e)}function p(e,t,r,o,n){if(!n)n=f(null);n.minX=1/0;n.minY=1/0;n.maxX=-Infinity;n.maxY=-Infinity;for(var a=t,p;a<r;a++){p=e.children[a];l(n,e.leaf?o(p):p)}return n}function l(e,t){e.minX=Math.min(e.minX,t.minX);e.minY=Math.min(e.minY,t.minY);e.maxX=Math.max(e.maxX,t.maxX);e.maxY=Math.max(e.maxY,t.maxY);return e}function s(e,t){return e.minX-t.minX}function y(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function g(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function m(e,t){var r=Math.max(e.minX,t.minX),o=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),n=Math.min(e.maxY,t.maxY);return Math.max(0,i-r)*Math.max(0,n-o)}function u(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function _(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-Infinity,maxY:-Infinity}}function S(e,r,o,i,n){var a=[r,o],p;while(a.length){o=a.pop();r=a.pop();if(o-r<=i)continue;p=r+Math.ceil((o-r)/i/2)*i;t(e,p,r,o,n);a.push(r,p,p,o)}}e["default"]=i;return e.default})(this.rbush=this.rbush||{})}).call(ol.ext);ol.ext.rbush=ol.ext.rbush.default;goog.provide("ol.render.ReplayGroup");ol.render.ReplayGroup=function(){};ol.render.ReplayGroup.prototype.getReplay=function(){};ol.render.ReplayGroup.prototype.isEmpty=function(){};goog.provide("ol.render.ReplayType");ol.render.ReplayType={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};goog.provide("ol.geom.flat.length");ol.geom.flat.length.lineString=function(e,t,r,o){var n=e[t],a=e[t+1],p=0,l;for(l=t+o;l<r;l+=o){var s=e[l],y=e[l+1];p+=Math.sqrt((s-n)*(s-n)+(y-a)*(y-a));n=s;a=y}return p};ol.geom.flat.length.linearRing=function(e,t,r,o){var i=ol.geom.flat.length.lineString(e,t,r,o),n=e[r-o]-e[t],a=e[r-o+1]-e[t+1];i+=Math.sqrt(n*n+a*a);return i};goog.provide("ol.geom.flat.textpath");goog.require("ol.math");ol.geom.flat.textpath.lineString=function(e,t,r,o,n,a,p,l){var s=[],c=e[t]>e[r-o],d=n.length,g=e[t],m=e[t+1];t+=o;for(var u=e[t],_=e[t+1],f=0,S=Math.sqrt(Math.pow(u-g,2)+Math.pow(_-m,2)),P="",T=0,E,h,v,R=0;R<d;++R){h=c?d-R-1:R;var C=n.charAt(h);P=c?C+P:P+C;var L=a(P)-T;T+=L;var M=p+L/2;while(t<r-o&&f+S<M){g=u;m=_;t+=o;u=e[t];_=e[t+1];f+=S;S=Math.sqrt(Math.pow(u-g,2)+Math.pow(_-m,2))}var I=M-f,b=Math.atan2(_-m,u-g);if(c){b+=0<b?-Math.PI:Math.PI}if(v!==void 0){var A=b-v;A+=A>Math.PI?-2*Math.PI:A<-Math.PI?2*Math.PI:0;if(Math.abs(A)>l){return null}}var O=I/S,G=ol.math.lerp(g,u,O),x=ol.math.lerp(m,_,O);if(v==b){if(c){E[0]=G;E[1]=x;E[2]=L/2}E[4]=P}else{P=C;T=L;E=[G,x,L/2,b,P];if(c){s.unshift(E)}else{s.push(E)}v=b}p+=L}return s};goog.provide("ol.render.canvas.Instruction");ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};goog.provide("ol.render.canvas.Replay");goog.require("ol");goog.require("ol.array");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.extent.Relationship");goog.require("ol.geom.GeometryType");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.length");goog.require("ol.geom.flat.textpath");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.obj");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.transform");ol.render.canvas.Replay=function(e,t,r,o,i,n){ol.render.VectorContext.call(this);this.declutterTree=n;this.tmpExtent_=ol.extent.createEmpty();this.tolerance=e;this.maxExtent=t;this.overlaps=i;this.pixelRatio=o;this.maxLineWidth=0;this.resolution=r;this.fillOrigin_;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.bufferedMaxExtent_=null;this.instructions=[];this.coordinates=[];this.coordinateCache_={};this.renderedTransform_=ol.transform.create();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.state={};this.tmpLocalTransform_=ol.transform.create();this.resetTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext);ol.render.canvas.Replay.prototype.replayImage_=function(e,t,r,o,i,n,a,p,l,s,c,d,g,m,u){var _=this.tmpLocalTransform_;i*=g;n*=g;t-=i;r-=n;if(m){t=Math.round(t);r=Math.round(r)}var f=u+s>o.width?o.width-s:u,S=p+c>o.height?o.height-c:p,P=this.tmpExtent_,T=null;if(0!==d){var E=t+i,h=r+n;T=ol.transform.compose(_,E,h,1,1,d,-E,-h);ol.extent.createOrUpdateEmpty(P);ol.extent.extendCoordinate(P,ol.transform.apply(_,[t,r]));ol.extent.extendCoordinate(P,ol.transform.apply(_,[t+f,r]));ol.extent.extendCoordinate(P,ol.transform.apply(_,[t+f,r+S]));ol.extent.extendCoordinate(P,ol.transform.apply(_,[t,r+f]))}else{ol.extent.createOrUpdate(t,r,t+f*g,r+S*g,P)}var v=e.canvas,R=P[0]<=v.width&&0<=P[2]&&P[1]<=v.height&&0<=P[3];if(a){if(!R&&1==a[4]){return}ol.extent.extend(a,P);a.push(R?[e,T?T.slice(0):null,l,o,s,c,f,S,t,r,g]:null)}else if(R){ol.render.canvas.drawImage(e,T,l,o,s,c,f,S,t,r,g)}};ol.render.canvas.Replay.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})};ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(e,t,r,o,n,a){var p=this.coordinates.length,l=this.getBufferedMaxExtent();if(a){t+=o}var s=[e[t],e[t+1]],y=[NaN,NaN],c=!0,d,g,m;for(d=t+o;d<r;d+=o){y[0]=e[d];y[1]=e[d+1];m=ol.extent.coordinateRelationship(l,y);if(m!==g){if(c){this.coordinates[p++]=s[0];this.coordinates[p++]=s[1]}this.coordinates[p++]=y[0];this.coordinates[p++]=y[1];c=!1}else if(m===ol.extent.Relationship.INTERSECTING){this.coordinates[p++]=y[0];this.coordinates[p++]=y[1];c=!1}else{c=!0}s[0]=y[0];s[1]=y[1];g=m}if(n&&c||d===t+o){this.coordinates[p++]=s[0];this.coordinates[p++]=s[1]}return p};ol.render.canvas.Replay.prototype.drawCustomCoordinates_=function(e,t,r,o,n){for(var a=0,p=r.length;a<p;++a){var l=r[a],s=this.appendFlatCoordinates(e,t,l,o,!1,!1);n.push(s);t=l}return t};ol.render.canvas.Replay.prototype.drawCustom=function(e,t,r){this.beginGeometry(e,t);var o=e.getType(),n=e.getStride(),a=this.coordinates.length,p,l,s,y,c;if(o==ol.geom.GeometryType.MULTI_POLYGON){e=e;p=e.getOrientedFlatCoordinates();y=[];var d=e.getEndss();c=0;for(var g=0,m=d.length,u;g<m;++g){u=[];c=this.drawCustomCoordinates_(p,c,d[g],n,u);y.push(u)}this.instructions.push([ol.render.canvas.Instruction.CUSTOM,a,y,e,r,ol.geom.flat.inflate.coordinatesss])}else if(o==ol.geom.GeometryType.POLYGON||o==ol.geom.GeometryType.MULTI_LINE_STRING){s=[];p=o==ol.geom.GeometryType.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates();c=this.drawCustomCoordinates_(p,0,e.getEnds(),n,s);this.instructions.push([ol.render.canvas.Instruction.CUSTOM,a,s,e,r,ol.geom.flat.inflate.coordinatess])}else if(o==ol.geom.GeometryType.LINE_STRING||o==ol.geom.GeometryType.MULTI_POINT){p=e.getFlatCoordinates();l=this.appendFlatCoordinates(p,0,p.length,n,!1,!1);this.instructions.push([ol.render.canvas.Instruction.CUSTOM,a,l,e,r,ol.geom.flat.inflate.coordinates])}else if(o==ol.geom.GeometryType.POINT){p=e.getFlatCoordinates();this.coordinates.push(p[0],p[1]);l=this.coordinates.length;this.instructions.push([ol.render.canvas.Instruction.CUSTOM,a,l,e,r])}this.endGeometry(e,t)};ol.render.canvas.Replay.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};ol.render.canvas.Replay.prototype.fill_=function(e,t){if(this.fillOrigin_){var r=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());e.translate(r[0],r[1]);e.rotate(t)}e.fill();if(this.fillOrigin_){e.setTransform.apply(e,ol.render.canvas.resetTransform_)}};ol.render.canvas.Replay.prototype.renderDeclutter_=function(e){if(e&&5<e.length){var t=e[4];if(1==t||t==e.length-5){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var o=ol.render.canvas.drawImage,i=5,n=e.length;i<n;++i){if(e[i]){o.apply(void 0,e[i])}}}e.length=5;ol.extent.createOrUpdateEmpty(e)}}};ol.render.canvas.Replay.prototype.replay_=function(e,t,o,n,a,p,l){var s;if(this.pixelCoordinates_&&ol.array.equals(t,this.renderedTransform_)){s=this.pixelCoordinates_}else{if(!this.pixelCoordinates_){this.pixelCoordinates_=[]}s=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_);ol.transform.setFromArray(this.renderedTransform_,t)}var g=!ol.obj.isEmpty(n),m=0,u=a.length,_=0,f,S,P,T,E,h,v,R,C=0,L=0,M=this.coordinateCache_,I={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:o},b=this.instructions!=a||this.overlaps?0:200;while(m<u){var A=a[m],O=A[0],G,F,N;switch(O){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:G=A[1];if(g&&n[ol.getUid(G).toString()]||!G.getGeometry()){m=A[2]}else if(l!==void 0&&!ol.extent.intersects(l,G.getGeometry().getExtent())){m=A[2]+1}else{++m}break;case ol.render.canvas.Instruction.BEGIN_PATH:if(C>b){this.fill_(e,o);C=0}if(L>b){e.stroke();L=0}if(!C&&!L){e.beginPath();T=E=NaN}++m;break;case ol.render.canvas.Instruction.CIRCLE:_=A[1];var w=s[_],D=s[_+1],q=s[_+2],U=s[_+3],k=q-w,j=U-D,W=Math.sqrt(k*k+j*j);e.moveTo(w+W,D);e.arc(w,D,W,0,2*Math.PI,!0);++m;break;case ol.render.canvas.Instruction.CLOSE_PATH:e.closePath();++m;break;case ol.render.canvas.Instruction.CUSTOM:_=A[1];f=A[2];var r=A[3],V=A[4],B=6==A.length?A[5]:void 0;I.geometry=r;I.feature=G;if(!(m in M)){M[m]=[]}var K=M[m];if(B){B(s,_,f,2,K)}else{K[0]=s[_];K[1]=s[_+1];K.length=2}V(K,I);++m;break;case ol.render.canvas.Instruction.DRAW_IMAGE:_=A[1];f=A[2];var X=A[3];S=A[4];P=A[5];R=A[6];var Z=A[7],Y=A[8],H=A[9],z=A[10],J=A[11],Q=A[12],$=A[13],ee=A[14],te=A[15];if(J){Q+=o}for(;_<f;_+=2){this.replayImage_(e,s[_],s[_+1],X,S,P,R,Z,Y,H,z,Q,$,ee,te)}this.renderDeclutter_(R);++m;break;case ol.render.canvas.Instruction.DRAW_CHARS:var re=A[1],oe=A[2],ie=A[3];R=A[4];var ne=A[5],ae=A[6],pe=A[7],le=A[8],se=A[9],ye=A[10],ce=A[11],de=A[12],ge=A[13],me=A[14],ue=ol.geom.flat.length.lineString(s,re,oe,2),_e=le(de);if(ne||_e<=ue){var fe=ol.geom.flat.textpath.lineString(s,re,oe,2,de,le,(ue-_e)*ge,pe);if(fe){var Se,xe,Pe,Te,Ee;if(ye){for(Se=0,xe=fe.length;Se<xe;++Se){Ee=fe[Se];Pe=Ee[4];Te=this.getImage(Pe,!1,!0);S=Ee[2]+ce;P=ie*Te.height+2*(.5-ie)*ce-se;this.replayImage_(e,Ee[0],Ee[1],Te,S,P,R,Te.height,1,0,0,Ee[3],me,!1,Te.width)}}if(ae){for(Se=0,xe=fe.length;Se<xe;++Se){Ee=fe[Se];Pe=Ee[4];Te=this.getImage(Pe,!0,!1);S=Ee[2];P=ie*Te.height-se;this.replayImage_(e,Ee[0],Ee[1],Te,S,P,R,Te.height,1,0,0,Ee[3],me,!1,Te.width)}}}}this.renderDeclutter_(R);++m;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(p!==void 0){G=A[1];var he=p(G);if(he){return he}}++m;break;case ol.render.canvas.Instruction.FILL:if(b){C++}else{this.fill_(e,o)}++m;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:_=A[1];f=A[2];F=s[_];N=s[_+1];h=0|F+.5;v=0|N+.5;if(h!==T||v!==E){e.moveTo(F,N);T=h;E=v}for(_+=2;_<f;_+=2){F=s[_];N=s[_+1];h=0|F+.5;v=0|N+.5;if(_==f-2||h!==T||v!==E){e.lineTo(F,N);T=h;E=v}}++m;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:this.fillOrigin_=A[2];if(C){this.fill_(e,o);C=0;if(L){e.stroke();L=0}}e.fillStyle=A[1];++m;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:if(L){e.stroke();L=0}e.strokeStyle=A[1];e.lineWidth=A[2];e.lineCap=A[3];e.lineJoin=A[4];e.miterLimit=A[5];if(ol.has.CANVAS_LINE_DASH){e.lineDashOffset=A[7];e.setLineDash(A[6])}++m;break;case ol.render.canvas.Instruction.STROKE:if(b){L++}else{e.stroke()}++m;break;default:++m;break;}}if(C){this.fill_(e,o)}if(L){e.stroke()}};ol.render.canvas.Replay.prototype.replay=function(e,t,r,o){var i=this.instructions;this.replay_(e,t,r,o,i,void 0,void 0)};ol.render.canvas.Replay.prototype.replayHitDetection=function(e,t,r,o,i,n){var a=this.hitDetectionInstructions;return this.replay_(e,t,r,o,a,i,n)};ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var t,r=e.length,o,n,a=-1;for(t=0;t<r;++t){o=e[t];n=o[0];if(n==ol.render.canvas.Instruction.END_GEOMETRY){a=t}else if(n==ol.render.canvas.Instruction.BEGIN_GEOMETRY){o[2]=t;ol.array.reverseSubArray(this.hitDetectionInstructions,a,t);a=-1}}};ol.render.canvas.Replay.prototype.setFillStrokeStyle=function(e,t){var r=this.state;if(e){var o=e.getColor();r.fillStyle=ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultFillStyle)}else{r.fillStyle=void 0}if(t){var i=t.getColor();r.strokeStyle=ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultStrokeStyle);var n=t.getLineCap();r.lineCap=n!==void 0?n:ol.render.canvas.defaultLineCap;var a=t.getLineDash();r.lineDash=a?a.slice():ol.render.canvas.defaultLineDash;var p=t.getLineDashOffset();r.lineDashOffset=p?p:ol.render.canvas.defaultLineDashOffset;var l=t.getLineJoin();r.lineJoin=l!==void 0?l:ol.render.canvas.defaultLineJoin;var s=t.getWidth();r.lineWidth=s!==void 0?s:ol.render.canvas.defaultLineWidth;var y=t.getMiterLimit();r.miterLimit=y!==void 0?y:ol.render.canvas.defaultMiterLimit;if(r.lineWidth>this.maxLineWidth){this.maxLineWidth=r.lineWidth;this.bufferedMaxExtent_=null}}else{r.strokeStyle=void 0;r.lineCap=void 0;r.lineDash=null;r.lineDashOffset=void 0;r.lineJoin=void 0;r.lineWidth=void 0;r.miterLimit=void 0}};ol.render.canvas.Replay.prototype.updateStrokeStyle=function(e,t){var r=e.strokeStyle,o=e.lineCap,i=e.lineDash,n=e.lineDashOffset,a=e.lineJoin,p=e.lineWidth,l=e.miterLimit;if(e.currentStrokeStyle!=r||e.currentLineCap!=o||!ol.array.equals(e.currentLineDash,i)||e.currentLineDashOffset!=n||e.currentLineJoin!=a||e.currentLineWidth!=p||e.currentMiterLimit!=l){if(t){if(e.lastStroke!=void 0&&e.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE]);e.lastStroke=this.coordinates.length}e.lastStroke=0}this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r,p*this.pixelRatio,o,a,l,this.applyPixelRatio(i),n*this.pixelRatio]);if(t){this.instructions.push([ol.render.canvas.Instruction.BEGIN_PATH])}e.currentStrokeStyle=r;e.currentLineCap=o;e.currentLineDash=i;e.currentLineDashOffset=n;e.currentLineJoin=a;e.currentLineWidth=p;e.currentMiterLimit=l}};ol.render.canvas.Replay.prototype.endGeometry=function(e,t){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var r=[ol.render.canvas.Instruction.END_GEOMETRY,t];this.instructions.push(r);this.hitDetectionInstructions.push(r)};ol.render.canvas.Replay.prototype.finish=ol.nullFunction;ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(0<this.maxLineWidth){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};goog.provide("ol.render.canvas.ImageReplay");goog.require("ol");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.ImageReplay=function(e,t,r,o,i,n){ol.render.canvas.Replay.call(this,e,t,r,o,i,n);this.declutterGroup_=null;this.hitDetectionImage_=null;this.image_=null;this.anchorX_=void 0;this.anchorY_=void 0;this.height_=void 0;this.opacity_=void 0;this.originX_=void 0;this.originY_=void 0;this.rotateWithView_=void 0;this.rotation_=void 0;this.scale_=void 0;this.snapToPixel_=void 0;this.width_=void 0};ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay);ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(e,t,r,o){return this.appendFlatCoordinates(e,t,r,o,!1,!1)};ol.render.canvas.ImageReplay.prototype.drawPoint=function(e,t){if(!this.image_){return}this.beginGeometry(e,t);var r=e.getFlatCoordinates(),o=e.getStride(),i=this.coordinates.length,n=this.drawCoordinates_(r,0,r.length,o);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(e,t)};ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(e,t){if(!this.image_){return}this.beginGeometry(e,t);var r=e.getFlatCoordinates(),o=e.getStride(),i=this.coordinates.length,n=this.drawCoordinates_(r,0,r.length,o);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(e,t)};ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorX_=void 0;this.anchorY_=void 0;this.hitDetectionImage_=null;this.image_=null;this.height_=void 0;this.scale_=void 0;this.opacity_=void 0;this.originX_=void 0;this.originY_=void 0;this.rotateWithView_=void 0;this.rotation_=void 0;this.snapToPixel_=void 0;this.width_=void 0};ol.render.canvas.ImageReplay.prototype.setImageStyle=function(e,t){var r=e.getAnchor(),o=e.getSize(),i=e.getHitDetectionImage(1),n=e.getImage(1),a=e.getOrigin();this.anchorX_=r[0];this.anchorY_=r[1];this.declutterGroup_=t;this.hitDetectionImage_=i;this.image_=n;this.height_=o[1];this.opacity_=e.getOpacity();this.originX_=a[0];this.originY_=a[1];this.rotateWithView_=e.getRotateWithView();this.rotation_=e.getRotation();this.scale_=e.getScale();this.snapToPixel_=e.getSnapToPixel();this.width_=o[0]};goog.provide("ol.render.canvas.LineStringReplay");goog.require("ol");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.LineStringReplay=function(e,t,r,o,i,n){ol.render.canvas.Replay.call(this,e,t,r,o,i,n)};ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay);ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(e,t,r,o){var i=this.coordinates.length,n=this.appendFlatCoordinates(e,t,r,o,!1,!1),a=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,i,n];this.instructions.push(a);this.hitDetectionInstructions.push(a);return r};ol.render.canvas.LineStringReplay.prototype.drawLineString=function(e,t){var r=this.state,o=r.strokeStyle,i=r.lineWidth;if(o===void 0||i===void 0){return}this.updateStrokeStyle(r,!0);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var n=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(n,0,n.length,a);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(e,t)};ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(e,t){var r=this.state,o=r.strokeStyle,n=r.lineWidth;if(o===void 0||n===void 0){return}this.updateStrokeStyle(r,!0);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var a=e.getEnds(),p=e.getFlatCoordinates(),l=e.getStride(),s=0,y,c;for(y=0,c=a.length;y<c;++y){s=this.drawFlatCoordinates_(p,s,a[y],l)}this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(e,t)};ol.render.canvas.LineStringReplay.prototype.finish=function(){var e=this.state;if(e.lastStroke!=void 0&&e.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE])}this.reverseHitDetectionInstructions();this.state=null};goog.provide("ol.render.canvas.PolygonReplay");goog.require("ol");goog.require("ol.color");goog.require("ol.geom.flat.simplify");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.PolygonReplay=function(e,t,r,o,i,n){ol.render.canvas.Replay.call(this,e,t,r,o,i,n)};ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay);ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(e,t,r,o){var n=this.state,a=n.fillStyle!==void 0,p=n.strokeStyle!=void 0,l=r.length,s=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(s);this.hitDetectionInstructions.push(s);for(var y=0;y<l;++y){var c=r[y],d=this.coordinates.length,g=this.appendFlatCoordinates(e,t,c,o,!0,!p),m=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,d,g];this.instructions.push(m);this.hitDetectionInstructions.push(m);if(p){var u=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(u);this.hitDetectionInstructions.push(u)}t=c}var _=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(_);if(a){this.instructions.push(_)}if(p){var f=[ol.render.canvas.Instruction.STROKE];this.instructions.push(f);this.hitDetectionInstructions.push(f)}return t};ol.render.canvas.PolygonReplay.prototype.drawCircle=function(e,t){var r=this.state,o=r.fillStyle,i=r.strokeStyle;if(o===void 0&&i===void 0){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(r.strokeStyle!==void 0){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset])}var n=e.getFlatCoordinates(),a=e.getStride(),p=this.coordinates.length;this.appendFlatCoordinates(n,0,n.length,a,!1,!1);var l=[ol.render.canvas.Instruction.BEGIN_PATH],s=[ol.render.canvas.Instruction.CIRCLE,p];this.instructions.push(l,s);this.hitDetectionInstructions.push(l,s);var y=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(y);if(r.fillStyle!==void 0){this.instructions.push(y)}if(r.strokeStyle!==void 0){var c=[ol.render.canvas.Instruction.STROKE];this.instructions.push(c);this.hitDetectionInstructions.push(c)}this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(e,t){var r=this.state;this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(r.strokeStyle!==void 0){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset])}var o=e.getEnds(),i=e.getOrientedFlatCoordinates(),n=e.getStride();this.drawFlatCoordinatess_(i,0,o,n);this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var r=this.state,o=r.fillStyle,n=r.strokeStyle;if(o===void 0&&n===void 0){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(r.strokeStyle!==void 0){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset])}var a=e.getEndss(),p=e.getOrientedFlatCoordinates(),l=e.getStride(),s=0,y,c;for(y=0,c=a.length;y<c;++y){s=this.drawFlatCoordinatess_(p,s,a[y],l)}this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var e=this.tolerance;if(0!==e){var t=this.coordinates,r,o;for(r=0,o=t.length;r<o;++r){t[r]=ol.geom.flat.simplify.snap(t[r],e)}}};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(e){var t=this.state,r=t.fillStyle;if(r!==void 0&&("string"!=typeof r||t.currentFillStyle!=r)){var o=[ol.render.canvas.Instruction.SET_FILL_STYLE,r];if("string"!=typeof r){var i=e.getExtent();o.push([i[0],i[3]])}this.instructions.push(o);t.currentFillStyle=t.fillStyle}if(t.strokeStyle!==void 0){this.updateStrokeStyle(t,!1)}};goog.provide("ol.geom.flat.straightchunk");ol.geom.flat.straightchunk.lineString=function(e,t,r,o,n){var a=r,p=r,l=0,s=0,y=r,c,d,g,u,_,f,S,x,P,T;for(d=r;d<o;d+=n){var E=t[d],h=t[d+1];if(_!==void 0){P=E-_;T=h-f;u=Math.sqrt(P*P+T*T);if(S!==void 0){s+=g;c=Math.acos((S*P+x*T)/(g*u));if(c>e){if(s>l){l=s;a=y;p=d}s=0;y=d-n}}g=u;S=P;x=T}_=E;f=h}s+=u;return s>l?[y,d]:[a,p]};goog.provide("ol.render.replay");goog.require("ol.render.ReplayType");ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT];ol.render.replay.TEXT_ALIGN={};ol.render.replay.TEXT_ALIGN.left=0;ol.render.replay.TEXT_ALIGN.end=0;ol.render.replay.TEXT_ALIGN.center=.5;ol.render.replay.TEXT_ALIGN.right=1;ol.render.replay.TEXT_ALIGN.start=1;ol.render.replay.TEXT_ALIGN.top=0;ol.render.replay.TEXT_ALIGN.middle=.5;ol.render.replay.TEXT_ALIGN.hanging=.2;ol.render.replay.TEXT_ALIGN.alphabetic=.8;ol.render.replay.TEXT_ALIGN.ideographic=.8;ol.render.replay.TEXT_ALIGN.bottom=1;goog.provide("ol.style.TextPlacement");ol.style.TextPlacement={POINT:"point",LINE:"line"};goog.provide("ol.render.canvas.TextReplay");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.geom.flat.straightchunk");goog.require("ol.geom.GeometryType");goog.require("ol.has");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");goog.require("ol.render.replay");goog.require("ol.style.TextPlacement");ol.render.canvas.TextReplay=function(e,t,r,o,i,n){ol.render.canvas.Replay.call(this,e,t,r,o,i,n);this.declutterGroup_;this.labels_=null;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=void 0;this.textRotation_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_={};this.textKey_="";this.fillKey_="";this.strokeKey_="";this.widths_={}};ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay);ol.render.canvas.TextReplay.measureTextHeight=function(){var e,t={};return function(r){var o=t[r];if(o==void 0){if(!e){e=document.createElement("span");e.textContent="M";e.style.margin=e.style.padding="0 !important";e.style.position="absolute !important";e.style.left="-99999px !important"}e.style.font=r;document.body.appendChild(e);o=t[r]=e.offsetHeight;document.body.removeChild(e)}return o}}();ol.render.canvas.TextReplay.measureTextWidth=function(){var e,t;return function(r,o){if(!e){e=ol.dom.createCanvasContext2D(1,1)}if(r!=t){t=e.font=r}return e.measureText(o).width}}();ol.render.canvas.TextReplay.measureTextWidths=function(e,t,r){var o=t.length,n=0,a,p;for(p=0;p<o;++p){a=ol.render.canvas.TextReplay.measureTextWidth(e,t[p]);n=Math.max(n,a);r.push(a)}return n};ol.render.canvas.TextReplay.prototype.drawText=function(e,t){var r=this.textFillState_,n=this.textStrokeState_,a=this.textState_;if(""===this.text_||!a||!r&&!n){return}var p=this.coordinates.length,l=e.getType(),s=null,y=2,c=2,d,g;if(a.placement===ol.style.TextPlacement.LINE){if(!ol.extent.intersects(this.getBufferedMaxExtent(),e.getExtent())){return}var m;s=e.getFlatCoordinates();c=e.getStride();if(l==ol.geom.GeometryType.LINE_STRING){m=[s.length]}else if(l==ol.geom.GeometryType.MULTI_LINE_STRING){m=e.getEnds()}else if(l==ol.geom.GeometryType.POLYGON){m=e.getEnds().slice(0,1)}else if(l==ol.geom.GeometryType.MULTI_POLYGON){var u=e.getEndss();m=[];for(d=0,g=u.length;d<g;++d){m.push(u[d][0])}}this.beginGeometry(e,t);for(var _=a.textAlign,f=0,S,x=0,P=m.length;x<P;++x){if(_==void 0){var T=ol.geom.flat.straightchunk.lineString(a.maxAngle,s,f,m[x],c);f=T[0];S=T[1]}else{S=m[x]}for(d=f;d<S;d+=c){this.coordinates.push(s[d],s[d+1])}y=this.coordinates.length;f=m[x];this.drawChars_(p,y,this.declutterGroup_);p=y}this.endGeometry(e,t)}else{var E=this.getImage(this.text_,!!this.textFillState_,!!this.textStrokeState_),h=E.width/this.pixelRatio;switch(l){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:s=e.getFlatCoordinates();y=s.length;break;case ol.geom.GeometryType.LINE_STRING:s=e.getFlatMidpoint();break;case ol.geom.GeometryType.CIRCLE:s=e.getCenter();break;case ol.geom.GeometryType.MULTI_LINE_STRING:s=e.getFlatMidpoints();y=s.length;break;case ol.geom.GeometryType.POLYGON:s=e.getFlatInteriorPoint();if(!a.exceedLength&&s[2]/this.resolution<h){return}c=3;break;case ol.geom.GeometryType.MULTI_POLYGON:var v=e.getFlatInteriorPoints();s=[];for(d=0,g=v.length;d<g;d+=3){if(a.exceedLength||v[d+2]/this.resolution>=h){s.push(v[d],v[d+1])}}y=s.length;if(0==y){return}break;default:}y=this.appendFlatCoordinates(s,0,y,c,!1,!1);this.beginGeometry(e,t);this.drawTextImage_(E,p,y);this.endGeometry(e,t)}};ol.render.canvas.TextReplay.prototype.getImage=function(e,t,r){var o,n=(r?this.strokeKey_:"")+this.textKey_+e+(t?this.fillKey_:""),a=ol.render.canvas.labelCache;if(!a.containsKey(n)){var p=this.textStrokeState_,l=this.textFillState_,s=this.textState_,y=this.pixelRatio,c=s.scale*y,d=ol.render.replay.TEXT_ALIGN[s.textAlign||ol.render.canvas.defaultTextAlign],g=r&&p.lineWidth?p.lineWidth:0,m=e.split("\n"),u=m.length,_=[],f=ol.render.canvas.TextReplay.measureTextWidths(s.font,m,_),S=ol.render.canvas.TextReplay.measureTextHeight(s.font),P=ol.dom.createCanvasContext2D(Math.ceil((f+g)*c),Math.ceil((S*u+g)*c));o=P.canvas;a.pruneAndSet(n,o);if(1!=c){P.scale(c,c)}P.font=s.font;if(r){P.strokeStyle=p.strokeStyle;P.lineWidth=g*(ol.has.SAFARI?c:1);P.lineCap=p.lineCap;P.lineJoin=p.lineJoin;P.miterLimit=p.miterLimit;if(ol.has.CANVAS_LINE_DASH&&p.lineDash.length){P.setLineDash(p.lineDash);P.lineDashOffset=p.lineDashOffset}}if(t){P.fillStyle=l.fillStyle}P.textBaseline="top";P.textAlign="center";var T=.5-d,E=d*o.width/c+T*g,x;if(r){for(x=0;x<u;++x){P.strokeText(m[x],E+T*_[x],.5*g+x*S)}}if(t){for(x=0;x<u;++x){P.fillText(m[x],E+T*_[x],.5*g+x*S)}}}return a.get(n)};ol.render.canvas.TextReplay.prototype.drawTextImage_=function(e,t,r){var o=this.textState_,i=this.textStrokeState_,n=this.pixelRatio,a=ol.render.replay.TEXT_ALIGN[o.textAlign||ol.render.canvas.defaultTextAlign],p=ol.render.replay.TEXT_ALIGN[o.textBaseline],l=i&&i.lineWidth?i.lineWidth:0,s=a*e.width/n+2*(.5-a)*l,y=p*e.height/n+2*(.5-p)*l;this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,t,r,e,(s-this.textOffsetX_)*n,(y-this.textOffsetY_)*n,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,!0,e.width]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,t,r,e,(s-this.textOffsetX_)*n,(y-this.textOffsetY_)*n,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/n,!0,e.width])};ol.render.canvas.TextReplay.prototype.drawChars_=function(e,t,r){var o=this.pixelRatio,i=this.textStrokeState_,n=!!this.textFillState_,a=!!i,p=this.textState_,l=ol.render.replay.TEXT_ALIGN[p.textBaseline],s=this.textOffsetY_*o,y=ol.render.replay.TEXT_ALIGN[p.textAlign||ol.render.canvas.defaultTextAlign],c=this.text_,d=p.font,g=p.scale,m=i?i.lineWidth*g/2:0,u=this.widths_;this.instructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,t,l,r,p.exceedLength,n,p.maxAngle,function(e){var t=u[e];if(!t){t=u[e]=ol.render.canvas.TextReplay.measureTextWidth(d,e)}return t*g*o},s,a,m*o,c,y,1]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,t,l,r,p.exceedLength,n,p.maxAngle,function(e){var t=u[e];if(!t){t=u[e]=ol.render.canvas.TextReplay.measureTextWidth(d,e)}return t*g},s,a,m,c,y,1/o])};ol.render.canvas.TextReplay.prototype.setTextStyle=function(e,t){var r,o,i;if(!e){this.text_=""}else{this.declutterGroup_=t;var n=e.getFill();if(!n){o=this.textFillState_=null}else{o=this.textFillState_;if(!o){o=this.textFillState_={}}o.fillStyle=ol.colorlike.asColorLike(n.getColor()||ol.render.canvas.defaultFillStyle)}var a=e.getStroke();if(!a){i=this.textStrokeState_=null}else{i=this.textStrokeState_;if(!i){i=this.textStrokeState_={}}var p=a.getLineDash(),l=a.getLineDashOffset(),s=a.getWidth(),y=a.getMiterLimit();i.lineCap=a.getLineCap()||ol.render.canvas.defaultLineCap;i.lineDash=p?p.slice():ol.render.canvas.defaultLineDash;i.lineDashOffset=l===void 0?ol.render.canvas.defaultLineDashOffset:l;i.lineJoin=a.getLineJoin()||ol.render.canvas.defaultLineJoin;i.lineWidth=s===void 0?ol.render.canvas.defaultLineWidth:s;i.miterLimit=y===void 0?ol.render.canvas.defaultMiterLimit:y;i.strokeStyle=ol.colorlike.asColorLike(a.getColor()||ol.render.canvas.defaultStrokeStyle)}r=this.textState_;var c=e.getFont()||ol.render.canvas.defaultFont;ol.render.canvas.checkFont(c);var d=e.getScale();r.exceedLength=e.getExceedLength();r.font=c;r.maxAngle=e.getMaxAngle();r.placement=e.getPlacement();r.textAlign=e.getTextAlign();r.textBaseline=e.getTextBaseline()||ol.render.canvas.defaultTextBaseline;r.scale=d===void 0?1:d;var g=e.getOffsetX(),m=e.getOffsetY(),u=e.getRotateWithView(),_=e.getRotation();this.text_=e.getText()||"";this.textOffsetX_=g===void 0?0:g;this.textOffsetY_=m===void 0?0:m;this.textRotateWithView_=u===void 0?!1:u;this.textRotation_=_===void 0?0:_;this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:ol.getUid(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"";this.textKey_=r.font+(r.textAlign||"?")+r.scale;this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+ol.getUid(o.fillStyle):""}};goog.provide("ol.render.canvas.ReplayGroup");goog.require("ol");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.geom.flat.transform");goog.require("ol.obj");goog.require("ol.render.ReplayGroup");goog.require("ol.render.ReplayType");goog.require("ol.render.canvas.Replay");goog.require("ol.render.canvas.ImageReplay");goog.require("ol.render.canvas.LineStringReplay");goog.require("ol.render.canvas.PolygonReplay");goog.require("ol.render.canvas.TextReplay");goog.require("ol.render.replay");goog.require("ol.transform");ol.render.canvas.ReplayGroup=function(e,t,r,o,i,n,a){ol.render.ReplayGroup.call(this);this.declutterTree_=n;this.declutterGroup_=null;this.tolerance_=e;this.maxExtent_=t;this.overlaps_=i;this.pixelRatio_=o;this.resolution_=r;this.renderBuffer_=a;this.replaysByZIndex_={};this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1);this.hitDetectionTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup);ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[!0]]};ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(e,t,r){var o,n=Math.floor(e.length/2);if(t>=n){for(o=n;o<t;o++){e[o][r]=!0}}else if(t<n){for(o=t+1;o<n;o++){e[o][r]=!0}}};ol.render.canvas.ReplayGroup.getCircleArray_=function(e){if(ol.render.canvas.ReplayGroup.circleArrayCache_[e]!==void 0){return ol.render.canvas.ReplayGroup.circleArrayCache_[e]}for(var t=2*e+1,r=Array(t),o=0;o<t;o++){r[o]=Array(t)}var n=e,a=0,p=0;while(n>=a){ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e+n,e+a);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e+a,e+n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e-a,e+n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e-n,e+a);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e-n,e-a);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e-a,e-n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e+a,e-n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(r,e+n,e-a);a++;p+=1+2*a;if(0<2*(p-n)+1){n-=1;p+=1-2*n}}ol.render.canvas.ReplayGroup.circleArrayCache_[e]=r;return r};ol.render.canvas.ReplayGroup.replayDeclutter=function(e,t,r){for(var o=Object.keys(e).map(Number).sort(ol.array.numberSafeCompareFunction),n=0,a=o.length,p;n<a;++n){p=e[o[n].toString()];for(var l=0,s=p.length;l<s;){var y=p[l++],c=p[l++];y.replay(t,c,r,{})}}};ol.render.canvas.ReplayGroup.replayDeclutterHitDetection=function(e,t,r,o,n){for(var a=Object.keys(e).map(Number).sort(ol.array.numberSafeCompareFunction),p=0,l=a.length,s;p<l;++p){s=e[a[p].toString()];for(var y=s.length-1;0<=y;){var c=s[y--],d=s[y--],g=d.replayHitDetection(t,c,r,{},o,n);if(g){return g}}}};ol.render.canvas.ReplayGroup.prototype.addDeclutter=function(e){var t=null;if(this.declutterTree_){if(e){t=this.declutterGroup_;t[4]++}else{t=this.declutterGroup_=ol.extent.createEmpty();t.push(1)}}return t};ol.render.canvas.ReplayGroup.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath();e.moveTo(r[0],r[1]);e.lineTo(r[2],r[3]);e.lineTo(r[4],r[5]);e.lineTo(r[6],r[7]);e.clip()};ol.render.canvas.ReplayGroup.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_){for(var r=this.replaysByZIndex_[t],o=0,n=e.length;o<n;++o){if(e[o]in r){return!0}}}return!1};ol.render.canvas.ReplayGroup.prototype.finish=function(){for(var e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e],r;for(r in t){t[r].finish()}}};ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i,n,a){o=Math.round(o);var l=2*o+1,s=ol.transform.compose(this.hitDetectionTransform_,o+.5,o+.5,1/t,-1/t,-r,-e[0],-e[1]),y=this.hitDetectionContext_;if(y.canvas.width!==l||y.canvas.height!==l){y.canvas.width=l;y.canvas.height=l}else{y.clearRect(0,0,l,l)}var c;if(this.renderBuffer_!==void 0){c=ol.extent.createEmpty();ol.extent.extendCoordinate(c,e);ol.extent.buffer(c,t*(this.renderBuffer_+o),c)}var d=ol.render.canvas.ReplayGroup.getCircleArray_(o);function p(e){for(var t=y.getImageData(0,0,l,l).data,r=0;r<l;r++){for(var o=0;o<l;o++){if(d[r][o]){if(0<t[4*(o*l+r)+3]){var a=n(e);if(a){return a}else{y.clearRect(0,0,l,l);return}}}}}}var g=this.replayHitDetection_(y,s,r,i,p,c,a);if(!g&&a){g=ol.render.canvas.ReplayGroup.replayDeclutterHitDetection(a,y,r,p,c)}return g};ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(e){var t=this.maxExtent_,r=t[0],o=t[1],i=t[2],n=t[3],a=[r,o,r,n,i,n,i,o];ol.geom.flat.transform.transform2D(a,0,8,2,e,a);return a};ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,t){var r=e!==void 0?e.toString():"0",o=this.replaysByZIndex_[r];if(o===void 0){o={};this.replaysByZIndex_[r]=o}var i=o[t];if(i===void 0){var n=ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[t];i=new n(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_);o[t]=i}return i};ol.render.canvas.ReplayGroup.prototype.getReplays=function(){return this.replaysByZIndex_};ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.canvas.ReplayGroup.prototype.replay=function(e,t,r,o,n,a){var p=Object.keys(this.replaysByZIndex_).map(Number);p.sort(ol.array.numberSafeCompareFunction);e.save();this.clip(e,t);var l=n?n:ol.render.replay.ORDER,s,y,c,d,g,m;for(s=0,y=p.length;s<y;++s){var u=p[s].toString();g=this.replaysByZIndex_[u];for(c=0,d=l.length;c<d;++c){var _=l[c];m=g[_];if(m!==void 0){if(a&&(_==ol.render.ReplayType.IMAGE||_==ol.render.ReplayType.TEXT)){var f=a[u];if(!f){a[u]=[m,t.slice(0)]}else{f.push(m,t.slice(0))}}else{m.replay(e,t,r,o)}}}}e.restore()};ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(e,t,r,o,n,a,p){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(ol.array.numberSafeCompareFunction);var s,y,c,d,g;for(s=l.length-1;0<=s;--s){var m=l[s].toString();c=this.replaysByZIndex_[m];for(y=ol.render.replay.ORDER.length-1;0<=y;--y){var u=ol.render.replay.ORDER[y];d=c[u];if(d!==void 0){if(p&&(u==ol.render.ReplayType.IMAGE||u==ol.render.ReplayType.TEXT)){var _=p[m];if(!_){p[m]=[d,t.slice(0)]}else{_.push(d,t.slice(0))}}else{g=d.replayHitDetection(e,t,r,o,n,a);if(g){return g}}}}}};ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Default:ol.render.canvas.Replay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay};goog.provide("ol.renderer.vector");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.geom.GeometryType");goog.require("ol.render.ReplayType");ol.renderer.vector.defaultOrder=function(e,t){return ol.getUid(e)-ol.getUid(t)};ol.renderer.vector.getSquaredTolerance=function(e,t){var r=ol.renderer.vector.getTolerance(e,t);return r*r};ol.renderer.vector.getTolerance=function(e,t){return ol.SIMPLIFY_TOLERANCE*e/t};ol.renderer.vector.renderCircleGeometry_=function(e,t,r,o){var i=r.getFill(),n=r.getStroke();if(i||n){var a=e.getReplay(r.getZIndex(),ol.render.ReplayType.CIRCLE);a.setFillStrokeStyle(i,n);a.drawCircle(t,o)}var p=r.getText();if(p){var l=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(p,e.addDeclutter(!1));l.drawText(t,o)}};ol.renderer.vector.renderFeature=function(e,t,r,o,i,n){var a=!1,p,l;p=r.getImage();if(p){l=p.getImageState();if(l==ol.ImageState.LOADED||l==ol.ImageState.ERROR){p.unlistenImageChange(i,n)}else{if(l==ol.ImageState.IDLE){p.load()}l=p.getImageState();p.listenImageChange(i,n);a=!0}}ol.renderer.vector.renderFeature_(e,t,r,o);return a};ol.renderer.vector.renderFeature_=function(e,t,r,o){var i=r.getGeometryFunction()(t);if(!i){return}var n=i.getSimplifiedGeometry(o),a=r.getRenderer();if(a){ol.renderer.vector.renderGeometry_(e,n,r,t)}else{var p=ol.renderer.vector.GEOMETRY_RENDERERS_[n.getType()];p(e,n,r,t)}};ol.renderer.vector.renderGeometry_=function(e,t,r,o){if(t.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){for(var n=t.getGeometries(),a=0,p=n.length;a<p;++a){ol.renderer.vector.renderGeometry_(e,n[a],r,o)}return}var l=e.getReplay(r.getZIndex(),ol.render.ReplayType.DEFAULT);l.drawCustom(t,o,r.getRenderer())};ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,t,r,o){var n=t.getGeometriesArray(),a,p;for(a=0,p=n.length;a<p;++a){var l=ol.renderer.vector.GEOMETRY_RENDERERS_[n[a].getType()];l(e,n[a],r,o)}};ol.renderer.vector.renderLineStringGeometry_=function(e,t,r,o){var i=r.getStroke();if(i){var n=e.getReplay(r.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i);n.drawLineString(t,o)}var a=r.getText();if(a){var p=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);p.setTextStyle(a,e.addDeclutter(!1));p.drawText(t,o)}};ol.renderer.vector.renderMultiLineStringGeometry_=function(e,t,r,o){var i=r.getStroke();if(i){var n=e.getReplay(r.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i);n.drawMultiLineString(t,o)}var a=r.getText();if(a){var p=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);p.setTextStyle(a,e.addDeclutter(!1));p.drawText(t,o)}};ol.renderer.vector.renderMultiPolygonGeometry_=function(e,t,r,o){var i=r.getFill(),n=r.getStroke();if(n||i){var a=e.getReplay(r.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(i,n);a.drawMultiPolygon(t,o)}var p=r.getText();if(p){var l=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(p,e.addDeclutter(!1));l.drawText(t,o)}};ol.renderer.vector.renderPointGeometry_=function(e,t,r,o){var i=r.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED){return}var n=e.getReplay(r.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i,e.addDeclutter(!1));n.drawPoint(t,o)}var a=r.getText();if(a){var p=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);p.setTextStyle(a,e.addDeclutter(!!i));p.drawText(t,o)}};ol.renderer.vector.renderMultiPointGeometry_=function(e,t,r,o){var i=r.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED){return}var n=e.getReplay(r.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i,e.addDeclutter(!1));n.drawMultiPoint(t,o)}var a=r.getText();if(a){var p=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);p.setTextStyle(a,e.addDeclutter(!!i));p.drawText(t,o)}};ol.renderer.vector.renderPolygonGeometry_=function(e,t,r,o){var i=r.getFill(),n=r.getStroke();if(i||n){var a=e.getReplay(r.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(i,n);a.drawPolygon(t,o)}var p=r.getText();if(p){var l=e.getReplay(r.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(p,e.addDeclutter(!1));l.drawText(t,o)}};ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_};goog.provide("ol.renderer.canvas.VectorLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.Layer");goog.require("ol.renderer.vector");ol.renderer.canvas.VectorLayer=function(e){ol.renderer.canvas.Layer.call(this,e);this.declutterTree_=e.getDeclutter()?ol.ext.rbush(9):null;this.dirty_=!1;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.context_=ol.dom.createCanvasContext2D();ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)};ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.VectorLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.VECTOR};ol.renderer.canvas.VectorLayer.create=function(e,t){return new ol.renderer.canvas.VectorLayer(t)};ol.renderer.canvas.VectorLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this);ol.renderer.canvas.Layer.prototype.disposeInternal.call(this)};ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(e,t,r){var o=e.extent,i=e.pixelRatio,n=t.managed?e.skippedFeatureUids:{},a=e.viewState,p=a.projection,l=a.rotation,s=p.getExtent(),y=this.getLayer().getSource(),c=this.getTransform(e,0);this.preCompose(r,e,c);var d=t.extent,g=d!==void 0;if(g){this.clip(r,e,d)}var m=this.replayGroup_;if(m&&!m.isEmpty()){var u=this.getLayer(),_=0,f=0,S,x=1!==t.opacity,P=u.hasListener(ol.render.EventType.RENDER);if(x||P){var T=r.canvas.width,E=r.canvas.height;if(l){var h=Math.round(Math.sqrt(T*T+E*E));_=(h-T)/2;f=(h-E)/2;T=E=h}this.context_.canvas.width=T;this.context_.canvas.height=E;S=this.context_}else{S=r}var v=S.globalAlpha;if(!x){S.globalAlpha=t.opacity}if(S!=r){S.translate(_,f)}var R=e.size[0]*i,C=e.size[1]*i;ol.render.canvas.rotateAtOffset(S,-l,R/2,C/2);m.replay(S,c,l,n);if(y.getWrapX()&&p.canWrapX()&&!ol.extent.containsExtent(s,o)){var L=o[0],M=ol.extent.getWidth(s),I=0,b;while(L<s[0]){--I;b=M*I;c=this.getTransform(e,b);m.replay(S,c,l,n);L+=M}I=0;L=o[2];while(L>s[2]){++I;b=M*I;c=this.getTransform(e,b);m.replay(S,c,l,n);L-=M}c=this.getTransform(e,0)}ol.render.canvas.rotateAtOffset(S,l,R/2,C/2);if(S!=r){if(P){this.dispatchRenderEvent(S,e,c)}if(x){var A=r.globalAlpha;r.globalAlpha=t.opacity;r.drawImage(S.canvas,-_,-f);r.globalAlpha=A}else{r.drawImage(S.canvas,-_,-f)}S.translate(-_,-f)}if(!x){S.globalAlpha=v}}if(g){r.restore()}if(this.declutterTree_){this.declutterTree_.clear()}this.postCompose(r,e,t,c)};ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i){if(!this.replayGroup_){}else{var n=t.viewState.resolution,a=t.viewState.rotation,p=this.getLayer(),l={},s=p.getDeclutter()?{}:null,y=this.replayGroup_.forEachFeatureAtCoordinate(e,n,a,r,{},function(e){var t=ol.getUid(e).toString();if(!(t in l)){l[t]=!0;return o.call(i,e,p)}},s);if(this.declutterTree_){this.declutterTree_.clear()}return y}};ol.renderer.canvas.VectorLayer.prototype.handleFontsChanged_=function(){var e=this.getLayer();if(e.getVisible()&&this.replayGroup_){e.changed()}};ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource();this.updateLogos(e,r);var o=e.viewHints[ol.ViewHint.ANIMATING],n=e.viewHints[ol.ViewHint.INTERACTING],a=t.getUpdateWhileAnimating(),p=t.getUpdateWhileInteracting();if(!this.dirty_&&!a&&o||!p&&n){return!0}var l=e.extent,s=e.viewState,y=s.projection,c=s.resolution,d=e.pixelRatio,g=t.getRevision(),m=t.getRenderBuffer(),u=t.getRenderOrder();if(u===void 0){u=ol.renderer.vector.defaultOrder}var _=ol.extent.buffer(l,m*c),f=s.projection.getExtent();if(r.getWrapX()&&s.projection.canWrapX()&&!ol.extent.containsExtent(f,e.extent)){var S=ol.extent.getWidth(f),x=Math.max(ol.extent.getWidth(_)/2,S);_[0]=f[0]-x;_[2]=f[2]+x}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==g&&this.renderedRenderOrder_==u&&ol.extent.containsExtent(this.renderedExtent_,_)){return!0}this.replayGroup_=null;this.dirty_=!1;var P=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(c,d),_,c,d,r.getOverlaps(),this.declutterTree_,t.getRenderBuffer());r.loadFeatures(_,c,y);var T=function(e){var r,o=e.getStyleFunction();if(o){r=o.call(e,c)}else{o=t.getStyleFunction();if(o){r=o(e,c)}}if(r){var i=this.renderFeature(e,c,d,r,P);this.dirty_=this.dirty_||i}}.bind(this);if(u){var E=[];r.forEachFeatureInExtent(_,function(e){E.push(e)},this);E.sort(u);for(var h=0,v=E.length;h<v;++h){T(E[h])}}else{r.forEachFeatureInExtent(_,T,this)}P.finish();this.renderedResolution_=c;this.renderedRevision_=g;this.renderedRenderOrder_=u;this.renderedExtent_=_;this.replayGroup_=P;return!0};ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(e,t,r,o,n){if(!o){return!1}var a=!1;if(Array.isArray(o)){for(var p=0,l=o.length;p<l;++p){a=ol.renderer.vector.renderFeature(n,e,o[p],ol.renderer.vector.getSquaredTolerance(t,r),this.handleStyleImageChange_,this)||a}}else{a=ol.renderer.vector.renderFeature(n,e,o,ol.renderer.vector.getSquaredTolerance(t,r),this.handleStyleImageChange_,this)}return a};goog.provide("ol.layer.VectorTileRenderType");ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};goog.provide("ol.renderer.canvas.VectorTileLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.layer.VectorTileRenderType");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.render.ReplayType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.render.replay");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.vector");goog.require("ol.transform");ol.renderer.canvas.VectorTileLayer=function(e){this.context=null;ol.renderer.canvas.TileLayer.call(this,e);this.declutterTree_=e.getDeclutter()?ol.ext.rbush(9):null;this.dirty_=!1;this.renderedLayerRevision_;this.tmpTransform_=ol.transform.create();this.zDirection=e.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0;ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)};ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer);ol.renderer.canvas.VectorTileLayer.handles=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.VECTOR_TILE};ol.renderer.canvas.VectorTileLayer.create=function(e,t){return new ol.renderer.canvas.VectorTileLayer(t)};ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]};ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={image:[ol.render.ReplayType.DEFAULT],hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],vector:ol.render.replay.ORDER};ol.renderer.canvas.VectorTileLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this);ol.renderer.canvas.TileLayer.prototype.disposeInternal.call(this)};ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(){var e=this.getLayer(),t=e.getRevision();if(this.renderedLayerRevision_!=t){this.renderedTiles.length=0;var r=e.getRenderMode();if(!this.context&&r!=ol.layer.VectorTileRenderType.VECTOR){this.context=ol.dom.createCanvasContext2D()}if(this.context&&r==ol.layer.VectorTileRenderType.VECTOR){this.context=null}}this.renderedLayerRevision_=t;return ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(e,o){var n=this.getLayer(),a=o.pixelRatio,p=o.viewState.projection,l=n.getRevision(),s=n.getRenderOrder()||null,y=e.getReplayState(n);if(!y.dirty&&y.renderedRevision==l&&y.renderedRenderOrder==s){return}for(var c=n.getSource(),d=c.getTileGrid(),g=c.getTileGridForProjection(p),m=g.getResolution(e.tileCoord[0]),u=g.getTileCoordExtent(e.wrappedTileCoord),_={},f=0,S=e.tileKeys.length,x;f<S;++f){x=e.getTile(e.tileKeys[f]);if(x.getState()==ol.TileState.ERROR){continue}var P=x.tileCoord,T=d.getTileCoordExtent(P),E=ol.extent.getIntersection(u,T),h=ol.extent.equals(T,E)?null:ol.extent.buffer(E,n.getRenderBuffer()*m),v=x.getProjection(),R=!1;if(!ol.proj.equivalent(p,v)){R=!0;x.setProjection(p)}y.dirty=!1;var C=new ol.render.canvas.ReplayGroup(0,E,m,a,c.getOverlaps(),this.declutterTree_,n.getRenderBuffer()),L=ol.renderer.vector.getSquaredTolerance(m,a),M=function(e){var t,r=e.getStyleFunction();if(r){t=r.call(e,m)}else{r=n.getStyleFunction();if(r){t=r(e,m)}}if(t){var o=this.renderFeature(e,L,t,C);this.dirty_=this.dirty_||o;y.dirty=y.dirty||o}},I=x.getFeatures();if(s&&s!==y.renderedRenderOrder){I.sort(s)}for(var b,A=0,O=I.length;A<O;++A){b=I[A];if(R){if(v.getUnits()==ol.proj.Units.TILE_PIXELS){v.setWorldExtent(T);v.setExtent(x.getExtent())}b.getGeometry().transform(v,p)}if(!h||ol.extent.intersects(h,b.getExtent())){M.call(this,b)}}C.finish();for(var G in C.getReplays()){_[G]=!0}x.setReplayGroup(n,e.tileCoord.toString(),C)}y.renderedRevision=l;y.renderedRenderOrder=s};ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(e,t,r){var o=e;this.createReplayGroup_(o,t);if(this.context){this.renderTileImage_(o,t,r);ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments)}};ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(e,r,o,n,a){var p=r.viewState.resolution,l=r.viewState.rotation;o=o==void 0?0:o;var s=this.getLayer(),y=s.getDeclutter()?{}:null,c={},d=this.renderedTiles,g=s.getSource(),m=g.getTileGridForProjection(r.viewState.projection),u,_,f,S,x,P,T,E;for(f=0,S=d.length;f<S;++f){P=d[f];T=P.wrappedTileCoord;E=m.getTileCoordExtent(T,this.tmpExtent);u=ol.extent.buffer(E,o*p,u);if(!ol.extent.containsCoordinate(u,e)){continue}for(var h=0,v=P.tileKeys.length,R;h<v;++h){R=P.getTile(P.tileKeys[h]);if(R.getState()==ol.TileState.ERROR){continue}x=R.getReplayGroup(s,P.tileCoord.toString());_=_||x.forEachFeatureAtCoordinate(e,p,l,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in c)){c[t]=!0;return n.call(a,e,s)}},y)}}if(this.declutterTree_){this.declutterTree_.clear()}return _};ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(e,t){var r=this.getLayer(),o=r.getSource(),i=o.getTileGrid(),n=e.tileCoord,a=i.getResolution(n[0]),p=t.viewState,l=t.pixelRatio,s=p.resolution/l,y=i.getTileCoordExtent(n,this.tmpExtent),c=p.center,d=ol.extent.getTopLeft(y),g=t.size,m=Math.round(l*g[0]/2),u=Math.round(l*g[1]/2);return ol.transform.compose(this.tmpTransform_,m,u,a/s,a/s,p.rotation,(d[0]-c[0])/a,(c[1]-d[1])/a)};ol.renderer.canvas.VectorTileLayer.prototype.handleFontsChanged_=function(){var e=this.getLayer();if(e.getVisible()&&this.renderedLayerRevision_!==void 0){e.changed()}};ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(e,r,o){var n=this.getLayer(),a=n.getDeclutter()?{}:null,p=n.getSource(),l=n.getRenderMode(),s=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[l],y=r.pixelRatio,c=r.viewState.rotation,d=r.size,g=Math.round(y*d[0]/2),m=Math.round(y*d[1]/2);ol.render.canvas.rotateAtOffset(e,-c,g,m);for(var u=this.renderedTiles,_=p.getTileGridForProjection(r.viewState.projection),f=[],S=[],x=u.length-1,P;0<=x;--x){P=u[x];if(P.getState()==ol.TileState.ABORT){continue}for(var T=P.tileCoord,E=_.getTileCoordExtent(T)[0]-_.getTileCoordExtent(P.wrappedTileCoord)[0],h=void 0,v=0,R=P.tileKeys.length,C;v<R;++v){C=P.getTile(P.tileKeys[v]);if(C.getState()==ol.TileState.ERROR){continue}var L=C.getReplayGroup(n,T.toString());if(l!=ol.layer.VectorTileRenderType.VECTOR&&!L.hasReplays(s)){continue}if(!h){h=this.getTransform(r,E)}var M=C.tileCoord[0],I=L.getClipCoords(h);e.save();e.globalAlpha=o.opacity;for(var b=0,A=f.length,O;b<A;++b){O=f[b];if(M<S[b]){e.beginPath();e.moveTo(I[0],I[1]);e.lineTo(I[2],I[3]);e.lineTo(I[4],I[5]);e.lineTo(I[6],I[7]);e.moveTo(O[6],O[7]);e.lineTo(O[4],O[5]);e.lineTo(O[2],O[3]);e.lineTo(O[0],O[1]);e.clip()}}L.replay(e,h,c,{},s,a);e.restore();f.push(I);S.push(M)}}if(a){ol.render.canvas.ReplayGroup.replayDeclutter(a,e,c);this.declutterTree_.clear()}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(e,t,r,o){if(!r){return!1}var n=!1;if(Array.isArray(r)){for(var a=0,p=r.length;a<p;++a){n=ol.renderer.vector.renderFeature(o,e,r[a],t,this.handleStyleImageChange_,this)||n}}else{n=ol.renderer.vector.renderFeature(o,e,r,t,this.handleStyleImageChange_,this)}return n};ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(e,t){var r=this.getLayer(),o=e.getReplayState(r),n=r.getRevision(),a=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[r.getRenderMode()];if(a&&o.renderedTileRevision!==n){o.renderedTileRevision=n;var p=e.wrappedTileCoord,l=p[0],s=t.pixelRatio,y=r.getSource(),c=y.getTileGridForProjection(t.viewState.projection),d=c.getResolution(l),g=e.getContext(r),m=y.getTilePixelSize(l,s,t.viewState.projection);g.canvas.width=m[0];g.canvas.height=m[1];for(var u=c.getTileCoordExtent(p),_=0,f=e.tileKeys.length,S;_<f;++_){S=e.getTile(e.tileKeys[_]);if(S.getState()==ol.TileState.ERROR){continue}var x=s/d,P=ol.transform.reset(this.tmpTransform_);ol.transform.scale(P,x,-x);ol.transform.translate(P,-u[0],-u[3]);var T=S.getReplayGroup(r,e.tileCoord.toString());T.replay(g,P,0,{},a)}}};goog.provide("ol.CanvasMap");goog.require("ol");goog.require("ol.PluggableMap");goog.require("ol.PluginType");goog.require("ol.control");goog.require("ol.interaction");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer]);ol.CanvasMap=function(e){e=ol.obj.assign({},e);delete e.renderer;if(!e.controls){e.controls=ol.control.defaults()}if(!e.interactions){e.interactions=ol.interaction.defaults()}ol.PluggableMap.call(this,e)};ol.inherits(ol.CanvasMap,ol.PluggableMap);goog.provide("ol.control.FullScreen");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");ol.control.FullScreen=function(e){var t=e?e:{};this.cssClassName_=t.className!==void 0?t.className:"ol-full-screen";var r=t.label!==void 0?t.label:"\u2922";this.labelNode_="string"==typeof r?document.createTextNode(r):r;var o=t.labelActive!==void 0?t.labelActive:"\xD7";this.labelActiveNode_="string"==typeof o?document.createTextNode(o):o;var i=t.tipLabel?t.tipLabel:"Toggle full-screen",n=document.createElement("button");n.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen();n.setAttribute("type","button");n.title=i;n.appendChild(this.labelNode_);ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var a=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(!ol.control.FullScreen.isFullScreenSupported()?ol.css.CLASS_UNSUPPORTED:""),p=document.createElement("div");p.className=a;p.appendChild(n);ol.control.Control.call(this,{element:p,target:t.target});this.keys_=t.keys!==void 0?t.keys:!1;this.source_=t.source};ol.inherits(ol.control.FullScreen,ol.control.Control);ol.control.FullScreen.prototype.handleClick_=function(e){e.preventDefault();this.handleFullScreen_()};ol.control.FullScreen.prototype.handleFullScreen_=function(){if(!ol.control.FullScreen.isFullScreenSupported()){return}var e=this.getMap();if(!e){return}if(ol.control.FullScreen.isFullScreen()){ol.control.FullScreen.exitFullScreen()}else{var t;if(this.source_){t="string"==typeof this.source_?document.getElementById(this.source_):this.source_}else{t=e.getTargetElement()}if(this.keys_){ol.control.FullScreen.requestFullScreenWithKeys(t)}else{ol.control.FullScreen.requestFullScreen(t)}}};ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var e=this.element.firstElementChild,t=this.getMap();if(ol.control.FullScreen.isFullScreen()){e.className=this.cssClassName_+"-true";ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)}else{e.className=this.cssClassName_+"-false";ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)}if(t){t.updateSize()}};ol.control.FullScreen.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))}};ol.control.FullScreen.isFullScreenSupported=function(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)};ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)};ol.control.FullScreen.requestFullScreen=function(e){if(e.requestFullscreen){e.requestFullscreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}};ol.control.FullScreen.requestFullScreenWithKeys=function(e){if(e.mozRequestFullScreenWithKeys){e.mozRequestFullScreenWithKeys()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{ol.control.FullScreen.requestFullScreen(e)}};ol.control.FullScreen.exitFullScreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}};ol.control.FullScreen.getChangeType_=function(){var e;return function(){if(!e){var t=document.body;if(t.webkitRequestFullscreen){e="webkitfullscreenchange"}else if(t.mozRequestFullScreen){e="mozfullscreenchange"}else if(t.msRequestFullscreen){e="MSFullscreenChange"}else if(t.requestFullscreen){e="fullscreenchange"}}return e}}();goog.provide("ol.control.MousePosition");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.Object");goog.require("ol.control.Control");goog.require("ol.proj");ol.control.MousePosition=function(e){var t=e?e:{},r=document.createElement("DIV");r.className=t.className!==void 0?t.className:"ol-mouse-position";var o=t.render?t.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:r,render:o,target:t.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this);if(t.coordinateFormat){this.setCoordinateFormat(t.coordinateFormat)}if(t.projection){this.setProjection(t.projection)}this.undefinedHTML_=t.undefinedHTML!==void 0?t.undefinedHTML:"";this.renderedHTML_=r.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null};ol.inherits(ol.control.MousePosition,ol.control.Control);ol.control.MousePosition.render=function(e){var t=e.frameState;if(!t){this.mapProjection_=null}else{if(this.mapProjection_!=t.viewState.projection){this.mapProjection_=t.viewState.projection;this.transform_=null}}this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null};ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)};ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)};ol.control.MousePosition.prototype.handleMouseMove=function(e){var t=this.getMap();this.lastMouseMovePixel_=t.getEventPixel(e);this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleMouseOut=function(){this.updateHTML_(null);this.lastMouseMovePixel_=null};ol.control.MousePosition.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){var t=e.getViewport();this.listenerKeys.push(ol.events.listen(t,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(t,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}};ol.control.MousePosition.prototype.setCoordinateFormat=function(e){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,e)};ol.control.MousePosition.prototype.setProjection=function(e){this.set(ol.control.MousePosition.Property_.PROJECTION,ol.proj.get(e))};ol.control.MousePosition.prototype.updateHTML_=function(e){var t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();if(r){this.transform_=ol.proj.getTransformFromProjections(this.mapProjection_,r)}else{this.transform_=ol.proj.identityTransform}}var o=this.getMap(),i=o.getCoordinateFromPixel(e);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();if(n){t=n(i)}else{t=i.toString()}}}if(!this.renderedHTML_||t!=this.renderedHTML_){this.element.innerHTML=t;this.renderedHTML_=t}};ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"};goog.provide("ol.OverlayPositioning");ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};goog.provide("ol.Overlay");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.OverlayPositioning");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.extent");ol.Overlay=function(e){ol.Object.call(this);this.options=e;this.id=e.id;this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0;this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0;this.element=document.createElement("DIV");this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+ol.css.CLASS_SELECTABLE;this.element.style.position="absolute";this.autoPan=e.autoPan!==void 0?e.autoPan:!1;this.autoPanAnimation=e.autoPanAnimation||{};this.autoPanMargin=e.autoPanMargin!==void 0?e.autoPanMargin:20;this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0};this.mapPostrenderListenerKey=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.ELEMENT),this.handleElementChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.MAP),this.handleMapChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.OFFSET),this.handleOffsetChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITION),this.handlePositionChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITIONING),this.handlePositioningChanged,this);if(e.element!==void 0){this.setElement(e.element)}this.setOffset(e.offset!==void 0?e.offset:[0,0]);this.setPositioning(e.positioning!==void 0?e.positioning:ol.OverlayPositioning.TOP_LEFT);if(e.position!==void 0){this.setPosition(e.position)}};ol.inherits(ol.Overlay,ol.Object);ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property.ELEMENT)};ol.Overlay.prototype.getId=function(){return this.id};ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property.MAP)};ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property.OFFSET)};ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property.POSITION)};ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property.POSITIONING)};ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element);var e=this.getElement();if(e){this.element.appendChild(e)}};ol.Overlay.prototype.handleMapChanged=function(){if(this.mapPostrenderListenerKey){ol.dom.removeNode(this.element);ol.events.unlistenByKey(this.mapPostrenderListenerKey);this.mapPostrenderListenerKey=null}var e=this.getMap();if(e){this.mapPostrenderListenerKey=ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this);this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();if(this.insertFirst){t.insertBefore(this.element,t.childNodes[0]||null)}else{t.appendChild(this.element)}}};ol.Overlay.prototype.render=function(){this.updatePixelPosition()};ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition();if(this.get(ol.Overlay.Property.POSITION)&&this.autoPan){this.panIntoView()}};ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.setElement=function(e){this.set(ol.Overlay.Property.ELEMENT,e)};ol.Overlay.prototype.setMap=function(e){this.set(ol.Overlay.Property.MAP,e)};ol.Overlay.prototype.setOffset=function(e){this.set(ol.Overlay.Property.OFFSET,e)};ol.Overlay.prototype.setPosition=function(e){this.set(ol.Overlay.Property.POSITION,e)};ol.Overlay.prototype.panIntoView=function(){var e=this.getMap();if(!e||!e.getTargetElement()){return}var t=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),o=this.getRect(r,[ol.dom.outerWidth(r),ol.dom.outerHeight(r)]),i=this.autoPanMargin;if(!ol.extent.containsExtent(t,o)){var n=o[0]-t[0],a=t[2]-o[2],p=o[1]-t[1],l=t[3]-o[3],s=[0,0];if(0>n){s[0]=n-i}else if(0>a){s[0]=Math.abs(a)+i}if(0>p){s[1]=p-i}else if(0>l){s[1]=Math.abs(l)+i}if(0!==s[0]||0!==s[1]){var y=e.getView().getCenter(),c=e.getPixelFromCoordinate(y),d=[c[0]+s[0],c[1]+s[1]];e.getView().animate({center:e.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}};ol.Overlay.prototype.getRect=function(e,t){var r=e.getBoundingClientRect(),o=r.left+window.pageXOffset,i=r.top+window.pageYOffset;return[o,i,o+t[0],i+t[1]]};ol.Overlay.prototype.setPositioning=function(e){this.set(ol.Overlay.Property.POSITIONING,e)};ol.Overlay.prototype.setVisible=function(e){if(this.rendered.visible!==e){this.element.style.display=e?"":"none";this.rendered.visible=e}};ol.Overlay.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}var r=e.getPixelFromCoordinate(t),o=e.getSize();this.updateRenderedPosition(r,o)};ol.Overlay.prototype.updateRenderedPosition=function(e,t){var r=this.element.style,o=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var n=o[0],a=o[1];if(i==ol.OverlayPositioning.BOTTOM_RIGHT||i==ol.OverlayPositioning.CENTER_RIGHT||i==ol.OverlayPositioning.TOP_RIGHT){if(""!==this.rendered.left_){this.rendered.left_=r.left=""}var p=Math.round(t[0]-e[0]-n)+"px";if(this.rendered.right_!=p){this.rendered.right_=r.right=p}}else{if(""!==this.rendered.right_){this.rendered.right_=r.right=""}if(i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.CENTER_CENTER||i==ol.OverlayPositioning.TOP_CENTER){n-=this.element.offsetWidth/2}var l=Math.round(e[0]+n)+"px";if(this.rendered.left_!=l){this.rendered.left_=r.left=l}}if(i==ol.OverlayPositioning.BOTTOM_LEFT||i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.BOTTOM_RIGHT){if(""!==this.rendered.top_){this.rendered.top_=r.top=""}var s=Math.round(t[1]-e[1]-a)+"px";if(this.rendered.bottom_!=s){this.rendered.bottom_=r.bottom=s}}else{if(""!==this.rendered.bottom_){this.rendered.bottom_=r.bottom=""}if(i==ol.OverlayPositioning.CENTER_LEFT||i==ol.OverlayPositioning.CENTER_CENTER||i==ol.OverlayPositioning.CENTER_RIGHT){a-=this.element.offsetHeight/2}var y=Math.round(e[1]+a)+"px";if(this.rendered.top_!=y){this.rendered.top_=r.top=y}}};ol.Overlay.prototype.getOptions=function(){return this.options};ol.Overlay.Property={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};goog.provide("ol.control.OverviewMap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.PluggableMap");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.Overlay");goog.require("ol.OverlayPositioning");goog.require("ol.ViewProperty");goog.require("ol.control.Control");goog.require("ol.coordinate");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");ol.control.OverviewMap=function(e){var t=e?e:{};this.collapsed_=t.collapsed!==void 0?t.collapsed:!0;this.collapsible_=t.collapsible!==void 0?t.collapsible:!0;if(!this.collapsible_){this.collapsed_=!1}var r=t.className!==void 0?t.className:"ol-overviewmap",o=t.tipLabel!==void 0?t.tipLabel:"Overview map",i=t.collapseLabel!==void 0?t.collapseLabel:"\xAB";if("string"==typeof i){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var n=t.label!==void 0?t.label:"\xBB";if("string"==typeof n){this.label_=document.createElement("span");this.label_.textContent=n}else{this.label_=n}var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,p=document.createElement("button");p.setAttribute("type","button");p.title=o;p.appendChild(a);ol.events.listen(p,ol.events.EventType.CLICK,this.handleClick_,this);this.ovmapDiv_=document.createElement("DIV");this.ovmapDiv_.className="ol-overviewmap-map";this.ovmap_=new ol.PluggableMap({controls:new ol.Collection,interactions:new ol.Collection,view:t.view});var l=this.ovmap_;if(t.layers){t.layers.forEach(function(e){l.addLayer(e)},this)}var s=document.createElement("DIV");s.className="ol-overviewmap-box";s.style.boxSizing="border-box";this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:s});this.ovmap_.addOverlay(this.boxOverlay_);var y=r+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible"),c=document.createElement("div");c.className=y;c.appendChild(this.ovmapDiv_);c.appendChild(p);var d=t.render?t.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:c,render:d,target:t.target});var g=this,m=this.boxOverlay_,u=this.boxOverlay_.getElement(),_=function(e){return{clientX:e.clientX-u.offsetWidth/2,clientY:e.clientY+u.offsetHeight/2}},f=function(e){var t=l.getEventCoordinate(_(e));m.setPosition(t)},S=function(e){var t=l.getEventCoordinate(e);g.getMap().getView().setCenter(t);window.removeEventListener("mousemove",f);window.removeEventListener("mouseup",S)};u.addEventListener("mousedown",function(){window.addEventListener("mousemove",f);window.addEventListener("mouseup",S)})};ol.inherits(ol.control.OverviewMap,ol.control.Control);ol.control.OverviewMap.prototype.setMap=function(e){var t=this.getMap();if(e===t){return}if(t){var r=t.getView();if(r){this.unbindView_(r)}this.ovmap_.setTarget(null)}ol.control.Control.prototype.setMap.call(this,e);if(e){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push(ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(0===this.ovmap_.getLayers().getLength()){this.ovmap_.setLayerGroup(e.getLayerGroup())}var o=e.getView();if(o){this.bindView_(o);if(o.isDef()){this.ovmap_.updateSize();this.resetExtent_()}}}};ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(e){if(e.key===ol.MapProperty.VIEW){var t=e.oldValue;if(t){this.unbindView_(t)}var r=this.getMap().getView();this.bindView_(r)}};ol.control.OverviewMap.prototype.bindView_=function(e){ol.events.listen(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.unbindView_=function(e){ol.events.unlisten(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};ol.control.OverviewMap.render=function(){this.validateExtent_();this.updateBox_()};ol.control.OverviewMap.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered()){return}var r=e.getSize(),o=e.getView(),i=o.calculateExtent(r),n=t.getSize(),a=t.getView(),p=a.calculateExtent(n),l=t.getPixelFromCoordinate(ol.extent.getTopLeft(i)),s=t.getPixelFromCoordinate(ol.extent.getBottomRight(i)),y=Math.abs(l[0]-s[0]),c=Math.abs(l[1]-s[1]),d=n[0],g=n[1];if(y<d*ol.OVERVIEWMAP_MIN_RATIO||c<g*ol.OVERVIEWMAP_MIN_RATIO||y>d*ol.OVERVIEWMAP_MAX_RATIO||c>g*ol.OVERVIEWMAP_MAX_RATIO){this.resetExtent_()}else if(!ol.extent.containsExtent(p,i)){this.recenter_()}};ol.control.OverviewMap.prototype.resetExtent_=function(){if(0===ol.OVERVIEWMAP_MAX_RATIO||0===ol.OVERVIEWMAP_MIN_RATIO){return}var e=this.getMap(),t=this.ovmap_,r=e.getSize(),o=e.getView(),i=o.calculateExtent(r),n=t.getView(),a=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2,p=1/(Math.pow(2,a/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(i,p);n.fit(i)};ol.control.OverviewMap.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,r=e.getView(),o=t.getView();o.setCenter(r.getCenter())};ol.control.OverviewMap.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered()){return}var r=e.getSize(),o=e.getView(),i=t.getView(),n=o.getRotation(),a=this.boxOverlay_,p=this.boxOverlay_.getElement(),l=o.calculateExtent(r),s=i.getResolution(),y=ol.extent.getBottomLeft(l),c=ol.extent.getTopRight(l),d=this.calculateCoordinateRotate_(n,y);a.setPosition(d);if(p){p.style.width=Math.abs((y[0]-c[0])/s)+"px";p.style.height=Math.abs((c[1]-y[1])/s)+"px"}};ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(e,t){var r,o=this.getMap(),i=o.getView(),n=i.getCenter();if(n){r=[t[0]-n[0],t[1]-n[1]];ol.coordinate.rotate(r,e);ol.coordinate.add(r,n)}return r};ol.control.OverviewMap.prototype.handleClick_=function(e){e.preventDefault();this.handleToggle_()};ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_&&!e.isRendered()){e.updateSize();this.resetExtent_();ol.events.listenOnce(e,ol.MapEventType.POSTRENDER,function(){this.updateBox_()},this)}};ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_};ol.control.OverviewMap.prototype.setCollapsible=function(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};ol.control.OverviewMap.prototype.setCollapsed=function(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_};ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_};goog.provide("ol.control.ScaleLineUnits");ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};goog.provide("ol.control.ScaleLine");goog.require("ol");goog.require("ol.Object");goog.require("ol.asserts");goog.require("ol.control.Control");goog.require("ol.control.ScaleLineUnits");goog.require("ol.css");goog.require("ol.events");goog.require("ol.proj");goog.require("ol.proj.Units");ol.control.ScaleLine=function(e){var t=e?e:{},r=t.className!==void 0?t.className:"ol-scale-line";this.innerElement_=document.createElement("DIV");this.innerElement_.className=r+"-inner";this.element_=document.createElement("DIV");this.element_.className=r+" "+ol.css.CLASS_UNSELECTABLE;this.element_.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=t.minWidth!==void 0?t.minWidth:64;this.renderedVisible_=!1;this.renderedWidth_=void 0;this.renderedHTML_="";var o=t.render?t.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:o,target:t.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this);this.setUnits(t.units||ol.control.ScaleLineUnits.METRIC)};ol.inherits(ol.control.ScaleLine,ol.control.Control);ol.control.ScaleLine.LEADING_DIGITS=[1,2,5];ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)};ol.control.ScaleLine.render=function(e){var t=e.frameState;if(!t){this.viewState_=null}else{this.viewState_=t.viewState}this.updateElement_()};ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()};ol.control.ScaleLine.prototype.setUnits=function(e){this.set(ol.control.ScaleLine.Property_.UNITS,e)};ol.control.ScaleLine.prototype.updateElement_=function(){var e=this.viewState_;if(!e){if(this.renderedVisible_){this.element_.style.display="none";this.renderedVisible_=!1}return}var t=e.center,r=e.projection,o=this.getUnits(),n=o==ol.control.ScaleLineUnits.DEGREES?ol.proj.Units.DEGREES:ol.proj.Units.METERS,a=ol.proj.getPointResolution(r,e.resolution,t,n),p=this.minWidth_*a,l="";if(o==ol.control.ScaleLineUnits.DEGREES){var s=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];if(r.getUnits()==ol.proj.Units.DEGREES){p*=s}else{a/=s}if(p<s/60){l="\u2033";a*=3600}else if(p<s){l="\u2032";a*=60}else{l="\xB0"}}else if(o==ol.control.ScaleLineUnits.IMPERIAL){if(.9144>p){l="in";a/=.0254}else if(1609.344>p){l="ft";a/=.3048}else{l="mi";a/=1609.344}}else if(o==ol.control.ScaleLineUnits.NAUTICAL){a/=1852;l="nm"}else if(o==ol.control.ScaleLineUnits.METRIC){if(.001>p){l="\u03BCm";a*=1e6}else if(1>p){l="mm";a*=1e3}else if(1e3>p){l="m"}else{l="km";a/=1e3}}else if(o==ol.control.ScaleLineUnits.US){if(.9144>p){l="in";a*=39.37}else if(1609.344>p){l="ft";a/=.30480061}else{l="mi";a/=1609.3472}}else{ol.asserts.assert(!1,33)}var y=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10)),c,d;while(!0){c=ol.control.ScaleLine.LEADING_DIGITS[(y%3+3)%3]*Math.pow(10,Math.floor(y/3));d=Math.round(c/a);if(isNaN(d)){this.element_.style.display="none";this.renderedVisible_=!1;return}else if(d>=this.minWidth_){break}++y}var g=c+" "+l;if(this.renderedHTML_!=g){this.innerElement_.innerHTML=g;this.renderedHTML_=g}if(this.renderedWidth_!=d){this.innerElement_.style.width=d+"px";this.renderedWidth_=d}if(!this.renderedVisible_){this.element_.style.display="";this.renderedVisible_=!0}};ol.control.ScaleLine.Property_={UNITS:"units"};goog.provide("ol.control.ZoomSlider");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.math");goog.require("ol.pointer.EventType");goog.require("ol.pointer.PointerEventHandler");ol.control.ZoomSlider=function(e){var t=e?e:{};this.currentResolution_=void 0;this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.dragging_;this.heightLimit_=0;this.widthLimit_=0;this.previousX_;this.previousY_;this.thumbSize_=null;this.sliderInitialized_=!1;this.duration_=t.duration!==void 0?t.duration:200;var r=t.className!==void 0?t.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button");o.className=r+"-thumb "+ol.css.CLASS_UNSELECTABLE;var i=document.createElement("div");i.className=r+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;i.appendChild(o);this.dragger_=new ol.pointer.PointerEventHandler(i);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this);ol.events.listen(i,ol.events.EventType.CLICK,this.handleContainerClick_,this);ol.events.listen(o,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var n=t.render?t.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:i,render:n})};ol.inherits(ol.control.ZoomSlider,ol.control.Control);ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose();ol.control.Control.prototype.disposeInternal.call(this)};ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1};ol.control.ZoomSlider.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){e.render()}};ol.control.ZoomSlider.prototype.initSlider_=function(){var e=this.element,t={width:e.offsetWidth,height:e.offsetHeight},r=e.firstElementChild,o=getComputedStyle(r),i=r.offsetWidth+parseFloat(o.marginRight)+parseFloat(o.marginLeft),n=r.offsetHeight+parseFloat(o.marginTop)+parseFloat(o.marginBottom);this.thumbSize_=[i,n];if(t.width>t.height){this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL;this.widthLimit_=t.width-i}else{this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.heightLimit_=t.height-n}this.sliderInitialized_=!0};ol.control.ZoomSlider.render=function(e){if(!e.frameState){return}if(!this.sliderInitialized_){this.initSlider_()}var t=e.frameState.viewState.resolution;if(t!==this.currentResolution_){this.currentResolution_=t;this.setThumbPosition_(t)}};ol.control.ZoomSlider.prototype.handleContainerClick_=function(e){var t=this.getMap().getView(),r=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),o=this.getResolutionForPosition_(r);t.animate({resolution:t.constrainResolution(o),duration:this.duration_,easing:ol.easing.easeOut})};ol.control.ZoomSlider.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.originalEvent.target===this.element.firstElementChild){this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1);this.previousX_=e.clientX;this.previousY_=e.clientY;this.dragging_=!0}};ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var t=this.element.firstElementChild,r=e.clientX-this.previousX_+parseInt(t.style.left,10),o=e.clientY-this.previousY_+parseInt(t.style.top,10),i=this.getRelativePosition_(r,o);this.currentResolution_=this.getResolutionForPosition_(i);this.getMap().getView().setResolution(this.currentResolution_);this.setThumbPosition_(this.currentResolution_);this.previousX_=e.clientX;this.previousY_=e.clientY}};ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(){if(this.dragging_){var e=this.getMap().getView();e.setHint(ol.ViewHint.INTERACTING,-1);e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut});this.dragging_=!1;this.previousX_=void 0;this.previousY_=void 0}};ol.control.ZoomSlider.prototype.setThumbPosition_=function(e){var t=this.getPositionForResolution_(e),r=this.element.firstElementChild;if(this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL){r.style.left=this.widthLimit_*t+"px"}else{r.style.top=this.heightLimit_*t+"px"}};ol.control.ZoomSlider.prototype.getRelativePosition_=function(e,t){var r;if(this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL){r=e/this.widthLimit_}else{r=t/this.heightLimit_}return ol.math.clamp(r,0,1)};ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(e){var t=this.getMap().getView().getResolutionForValueFunction();return t(1-e)};ol.control.ZoomSlider.prototype.getPositionForResolution_=function(e){var t=this.getMap().getView().getValueForResolutionFunction();return 1-t(e)};goog.provide("ol.control.ZoomToExtent");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");ol.control.ZoomToExtent=function(e){var t=e?e:{};this.extent_=t.extent?t.extent:null;var r=t.className!==void 0?t.className:"ol-zoom-extent",o=t.label!==void 0?t.label:"E",i=t.tipLabel!==void 0?t.tipLabel:"Fit to extent",n=document.createElement("button");n.setAttribute("type","button");n.title=i;n.appendChild("string"==typeof o?document.createTextNode(o):o);ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var a=r+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL,p=document.createElement("div");p.className=a;p.appendChild(n);ol.control.Control.call(this,{element:p,target:t.target})};ol.inherits(ol.control.ZoomToExtent,ol.control.Control);ol.control.ZoomToExtent.prototype.handleClick_=function(e){e.preventDefault();this.handleZoomToExtent_()};ol.control.ZoomToExtent.prototype.handleZoomToExtent_=function(){var e=this.getMap(),t=e.getView(),r=!this.extent_?t.getProjection().getExtent():this.extent_;t.fit(r)};goog.provide("ol.DeviceOrientation");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.has");goog.require("ol.math");ol.DeviceOrientation=function(e){ol.Object.call(this);var t=e?e:{};this.listenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this);this.setTracking(t.tracking!==void 0?t.tracking:!1)};ol.inherits(ol.DeviceOrientation,ol.Object);ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(!1);ol.Object.prototype.disposeInternal.call(this)};ol.DeviceOrientation.prototype.orientationChange_=function(e){var t=e;if(null!==t.alpha){var r=ol.math.toRadians(t.alpha);this.set(ol.DeviceOrientation.Property_.ALPHA,r);if("boolean"==typeof t.absolute&&t.absolute){this.set(ol.DeviceOrientation.Property_.HEADING,r)}else if("number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy){var o=ol.math.toRadians(t.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,o)}}if(null!==t.beta){this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(t.beta))}if(null!==t.gamma){this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(t.gamma))}this.changed()};ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)};ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)};ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)};ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)};ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)};ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var e=this.getTracking();if(e&&!this.listenerKey_){this.listenerKey_=ol.events.listen(window,"deviceorientation",this.orientationChange_,this)}else if(!e&&null!==this.listenerKey_){ol.events.unlistenByKey(this.listenerKey_);this.listenerKey_=null}}};ol.DeviceOrientation.prototype.setTracking=function(e){this.set(ol.DeviceOrientation.Property_.TRACKING,e)};ol.DeviceOrientation.Property_={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"};goog.provide("ol.style.Image");ol.style.Image=function(e){this.opacity_=e.opacity;this.rotateWithView_=e.rotateWithView;this.rotation_=e.rotation;this.scale_=e.scale;this.snapToPixel_=e.snapToPixel};ol.style.Image.prototype.getOpacity=function(){return this.opacity_};ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Image.prototype.getRotation=function(){return this.rotation_};ol.style.Image.prototype.getScale=function(){return this.scale_};ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_};ol.style.Image.prototype.getAnchor=function(){};ol.style.Image.prototype.getImage=function(){};ol.style.Image.prototype.getHitDetectionImage=function(){};ol.style.Image.prototype.getImageState=function(){};ol.style.Image.prototype.getImageSize=function(){};ol.style.Image.prototype.getHitDetectionImageSize=function(){};ol.style.Image.prototype.getOrigin=function(){};ol.style.Image.prototype.getSize=function(){};ol.style.Image.prototype.setOpacity=function(e){this.opacity_=e};ol.style.Image.prototype.setRotateWithView=function(e){this.rotateWithView_=e};ol.style.Image.prototype.setRotation=function(e){this.rotation_=e};ol.style.Image.prototype.setScale=function(e){this.scale_=e};ol.style.Image.prototype.setSnapToPixel=function(e){this.snapToPixel_=e};ol.style.Image.prototype.listenImageChange=function(){};ol.style.Image.prototype.load=function(){};ol.style.Image.prototype.unlistenImageChange=function(){};goog.provide("ol.style.RegularShape");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.has");goog.require("ol.ImageState");goog.require("ol.render.canvas");goog.require("ol.style.Image");ol.style.RegularShape=function(e){this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=e.fill!==void 0?e.fill:null;this.origin_=[0,0];this.points_=e.points;this.radius_=e.radius!==void 0?e.radius:e.radius1;this.radius2_=e.radius2;this.angle_=e.angle!==void 0?e.angle:0;this.stroke_=e.stroke!==void 0?e.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.atlasManager_=e.atlasManager;this.render_(this.atlasManager_);var t=e.snapToPixel!==void 0?e.snapToPixel:!0,r=e.rotateWithView!==void 0?e.rotateWithView:!1;ol.style.Image.call(this,{opacity:1,rotateWithView:r,rotation:e.rotation!==void 0?e.rotation:0,scale:1,snapToPixel:t})};ol.inherits(ol.style.RegularShape,ol.style.Image);ol.style.RegularShape.prototype.clone=function(){var e=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_};ol.style.RegularShape.prototype.getAngle=function(){return this.angle_};ol.style.RegularShape.prototype.getFill=function(){return this.fill_};ol.style.RegularShape.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_};ol.style.RegularShape.prototype.getImage=function(){return this.canvas_};ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_};ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED};ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_};ol.style.RegularShape.prototype.getPoints=function(){return this.points_};ol.style.RegularShape.prototype.getRadius=function(){return this.radius_};ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_};ol.style.RegularShape.prototype.getSize=function(){return this.size_};ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_};ol.style.RegularShape.prototype.listenImageChange=function(){};ol.style.RegularShape.prototype.load=function(){};ol.style.RegularShape.prototype.unlistenImageChange=function(){};ol.style.RegularShape.prototype.render_=function(e){var t,r="",o="",i=0,n=null,a=0,p,l=0;if(this.stroke_){p=this.stroke_.getColor();if(null===p){p=ol.render.canvas.defaultStrokeStyle}p=ol.colorlike.asColorLike(p);l=this.stroke_.getWidth();if(l===void 0){l=ol.render.canvas.defaultLineWidth}n=this.stroke_.getLineDash();a=this.stroke_.getLineDashOffset();if(!ol.has.CANVAS_LINE_DASH){n=null;a=0}o=this.stroke_.getLineJoin();if(o===void 0){o=ol.render.canvas.defaultLineJoin}r=this.stroke_.getLineCap();if(r===void 0){r=ol.render.canvas.defaultLineCap}i=this.stroke_.getMiterLimit();if(i===void 0){i=ol.render.canvas.defaultMiterLimit}}var s=2*(this.radius_+l)+1,y={strokeStyle:p,strokeWidth:l,size:s,lineCap:r,lineDash:n,lineDashOffset:a,lineJoin:o,miterLimit:i};if(e===void 0){var c=ol.dom.createCanvasContext2D(s,s);this.canvas_=c.canvas;s=this.canvas_.width;t=s;this.draw_(y,c,0,0);this.createHitDetectionCanvas_(y)}else{s=Math.round(s);var d=!this.fill_,g;if(d){g=this.drawHitDetectionCanvas_.bind(this,y)}var m=this.getChecksum(),u=e.add(m,s,s,this.draw_.bind(this,y),g);this.canvas_=u.image;this.origin_=[u.offsetX,u.offsetY];t=u.image.width;if(d){this.hitDetectionCanvas_=u.hitImage;this.hitDetectionImageSize_=[u.hitImage.width,u.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[t,t]}}this.anchor_=[s/2,s/2];this.size_=[s,s];this.imageSize_=[t,t]};ol.style.RegularShape.prototype.draw_=function(e,t,r,o){var n,a,p;t.setTransform(1,0,0,1,0,0);t.translate(r,o);t.beginPath();var l=this.points_;if(l===1/0){t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0)}else{var s=this.radius2_!==void 0?this.radius2_:this.radius_;if(s!==this.radius_){l=2*l}for(n=0;n<=l;n++){a=2*n*Math.PI/l-Math.PI/2+this.angle_;p=0==n%2?this.radius_:s;t.lineTo(e.size/2+p*Math.cos(a),e.size/2+p*Math.sin(a))}}if(this.fill_){var y=this.fill_.getColor();if(null===y){y=ol.render.canvas.defaultFillStyle}t.fillStyle=ol.colorlike.asColorLike(y);t.fill()}if(this.stroke_){t.strokeStyle=e.strokeStyle;t.lineWidth=e.strokeWidth;if(e.lineDash){t.setLineDash(e.lineDash);t.lineDashOffset=e.lineDashOffset}t.lineCap=e.lineCap;t.lineJoin=e.lineJoin;t.miterLimit=e.miterLimit;t.stroke()}t.closePath()};ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(e){this.hitDetectionImageSize_=[e.size,e.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var t=ol.dom.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=t.canvas;this.drawHitDetectionCanvas_(e,t,0,0)};ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(e,t,r,o){t.setTransform(1,0,0,1,0,0);t.translate(r,o);t.beginPath();var n=this.points_;if(n===1/0){t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0)}else{var a=this.radius2_!==void 0?this.radius2_:this.radius_;if(a!==this.radius_){n=2*n}var p,l,s;for(p=0;p<=n;p++){s=2*p*Math.PI/n-Math.PI/2+this.angle_;l=0==p%2?this.radius_:a;t.lineTo(e.size/2+l*Math.cos(s),e.size/2+l*Math.sin(s))}}t.fillStyle=ol.render.canvas.defaultFillStyle;t.fill();if(this.stroke_){t.strokeStyle=e.strokeStyle;t.lineWidth=e.strokeWidth;if(e.lineDash){t.setLineDash(e.lineDash);t.lineDashOffset=e.lineDashOffset}t.stroke()}t.closePath()};ol.style.RegularShape.prototype.getChecksum=function(){var e=this.stroke_?this.stroke_.getChecksum():"-",t=this.fill_?this.fill_.getChecksum():"-",r=!this.checksums_||e!=this.checksums_[1]||t!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(r){var o="r"+e+t+(this.radius_!==void 0?this.radius_.toString():"-")+(this.radius2_!==void 0?this.radius2_.toString():"-")+(this.angle_!==void 0?this.angle_.toString():"-")+(this.points_!==void 0?this.points_.toString():"-");this.checksums_=[o,e,t,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};goog.provide("ol.style.Circle");goog.require("ol");goog.require("ol.style.RegularShape");ol.style.Circle=function(e){var t=e||{};ol.style.RegularShape.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})};ol.inherits(ol.style.Circle,ol.style.RegularShape);ol.style.Circle.prototype.clone=function(){var e=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};ol.style.Circle.prototype.setRadius=function(e){this.radius_=e;this.render_(this.atlasManager_)};goog.provide("ol.style.Fill");goog.require("ol");goog.require("ol.color");ol.style.Fill=function(e){var t=e||{};this.color_=t.color!==void 0?t.color:null;this.checksum_=void 0};ol.style.Fill.prototype.clone=function(){var e=this.getColor();return new ol.style.Fill({color:e&&e.slice?e.slice():e||void 0})};ol.style.Fill.prototype.getColor=function(){return this.color_};ol.style.Fill.prototype.setColor=function(e){this.color_=e;this.checksum_=void 0};ol.style.Fill.prototype.getChecksum=function(){if(this.checksum_===void 0){if(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient){this.checksum_=ol.getUid(this.color_).toString()}else{this.checksum_="f"+(this.color_?ol.color.asString(this.color_):"-")}}return this.checksum_};goog.provide("ol.style.Stroke");goog.require("ol");ol.style.Stroke=function(e){var t=e||{};this.color_=t.color!==void 0?t.color:null;this.lineCap_=t.lineCap;this.lineDash_=t.lineDash!==void 0?t.lineDash:null;this.lineDashOffset_=t.lineDashOffset;this.lineJoin_=t.lineJoin;this.miterLimit_=t.miterLimit;this.width_=t.width;this.checksum_=void 0};ol.style.Stroke.prototype.clone=function(){var e=this.getColor();return new ol.style.Stroke({color:e&&e.slice?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};ol.style.Stroke.prototype.getColor=function(){return this.color_};ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_};ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_};ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_};ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_};ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_};ol.style.Stroke.prototype.getWidth=function(){return this.width_};ol.style.Stroke.prototype.setColor=function(e){this.color_=e;this.checksum_=void 0};ol.style.Stroke.prototype.setLineCap=function(e){this.lineCap_=e;this.checksum_=void 0};ol.style.Stroke.prototype.setLineDash=function(e){this.lineDash_=e;this.checksum_=void 0};ol.style.Stroke.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e;this.checksum_=void 0};ol.style.Stroke.prototype.setLineJoin=function(e){this.lineJoin_=e;this.checksum_=void 0};ol.style.Stroke.prototype.setMiterLimit=function(e){this.miterLimit_=e;this.checksum_=void 0};ol.style.Stroke.prototype.setWidth=function(e){this.width_=e;this.checksum_=void 0};ol.style.Stroke.prototype.getChecksum=function(){if(this.checksum_===void 0){this.checksum_="s";if(this.color_){if("string"==typeof this.color_){this.checksum_+=this.color_}else{this.checksum_+=ol.getUid(this.color_).toString()}}else{this.checksum_+="-"}this.checksum_+=","+(this.lineCap_!==void 0?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(this.lineDashOffset_!==void 0?this.lineDashOffset_:"-")+","+(this.lineJoin_!==void 0?this.lineJoin_:"-")+","+(this.miterLimit_!==void 0?this.miterLimit_.toString():"-")+","+(this.width_!==void 0?this.width_.toString():"-")}return this.checksum_};goog.provide("ol.style.Style");goog.require("ol.asserts");goog.require("ol.geom.GeometryType");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Stroke");ol.style.Style=function(e){var t=e||{};this.geometry_=null;this.geometryFunction_=ol.style.Style.defaultGeometryFunction;if(t.geometry!==void 0){this.setGeometry(t.geometry)}this.fill_=t.fill!==void 0?t.fill:null;this.image_=t.image!==void 0?t.image:null;this.renderer_=t.renderer!==void 0?t.renderer:null;this.stroke_=t.stroke!==void 0?t.stroke:null;this.text_=t.text!==void 0?t.text:null;this.zIndex_=t.zIndex};ol.style.Style.prototype.clone=function(){var e=this.getGeometry();if(e&&e.clone){e=e.clone()}return new ol.style.Style({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};ol.style.Style.prototype.getRenderer=function(){return this.renderer_};ol.style.Style.prototype.setRenderer=function(e){this.renderer_=e};ol.style.Style.prototype.getGeometry=function(){return this.geometry_};ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_};ol.style.Style.prototype.getFill=function(){return this.fill_};ol.style.Style.prototype.setFill=function(e){this.fill_=e};ol.style.Style.prototype.getImage=function(){return this.image_};ol.style.Style.prototype.setImage=function(e){this.image_=e};ol.style.Style.prototype.getStroke=function(){return this.stroke_};ol.style.Style.prototype.setStroke=function(e){this.stroke_=e};ol.style.Style.prototype.getText=function(){return this.text_};ol.style.Style.prototype.setText=function(e){this.text_=e};ol.style.Style.prototype.getZIndex=function(){return this.zIndex_};ol.style.Style.prototype.setGeometry=function(e){if("function"==typeof e){this.geometryFunction_=e}else if("string"==typeof e){this.geometryFunction_=function(t){return t.get(e)}}else if(!e){this.geometryFunction_=ol.style.Style.defaultGeometryFunction}else if(e!==void 0){this.geometryFunction_=function(){return e}}this.geometry_=e};ol.style.Style.prototype.setZIndex=function(e){this.zIndex_=e};ol.style.Style.createFunction=function(e){var t;if("function"==typeof e){t=e}else{var r;if(Array.isArray(e)){r=e}else{ol.asserts.assert(e instanceof ol.style.Style,41);r=[e]}t=function(){return r}}return t};ol.style.Style.default_=null;ol.style.Style.defaultFunction=function(){if(!ol.style.Style.default_){var e=new ol.style.Fill({color:"rgba(255,255,255,0.4)"}),t=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return ol.style.Style.default_};ol.style.Style.createDefaultEditing=function(){var e={},t=[255,255,255,1],r=[0,153,255,1],o=3;e[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];e[ol.geom.GeometryType.MULTI_POLYGON]=e[ol.geom.GeometryType.POLYGON];e[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:o+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:r,width:o})})];e[ol.geom.GeometryType.MULTI_LINE_STRING]=e[ol.geom.GeometryType.LINE_STRING];e[ol.geom.GeometryType.CIRCLE]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING]);e[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:2*o,fill:new ol.style.Fill({color:r}),stroke:new ol.style.Stroke({color:t,width:o/2})}),zIndex:1/0})];e[ol.geom.GeometryType.MULTI_POINT]=e[ol.geom.GeometryType.POINT];e[ol.geom.GeometryType.GEOMETRY_COLLECTION]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.POINT]);return e};ol.style.Style.defaultGeometryFunction=function(e){return e.getGeometry()};goog.provide("ol.Feature");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.geom.Geometry");goog.require("ol.style.Style");ol.Feature=function(e){ol.Object.call(this);this.id_=void 0;this.geometryName_="geometry";this.style_=null;this.styleFunction_=void 0;this.geometryChangeKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);if(e!==void 0){if(e instanceof ol.geom.Geometry||!e){this.setGeometry(e)}else{this.setProperties(e)}}};ol.inherits(ol.Feature,ol.Object);ol.Feature.prototype.clone=function(){var e=new ol.Feature(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();if(t){e.setGeometry(t.clone())}var r=this.getStyle();if(r){e.setStyle(r)}return e};ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)};ol.Feature.prototype.getId=function(){return this.id_};ol.Feature.prototype.getGeometryName=function(){return this.geometryName_};ol.Feature.prototype.getStyle=function(){return this.style_};ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_};ol.Feature.prototype.handleGeometryChange_=function(){this.changed()};ol.Feature.prototype.handleGeometryChanged_=function(){if(this.geometryChangeKey_){ol.events.unlistenByKey(this.geometryChangeKey_);this.geometryChangeKey_=null}var e=this.getGeometry();if(e){this.geometryChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)}this.changed()};ol.Feature.prototype.setGeometry=function(e){this.set(this.geometryName_,e)};ol.Feature.prototype.setStyle=function(e){this.style_=e;this.styleFunction_=!e?void 0:ol.Feature.createStyleFunction(e);this.changed()};ol.Feature.prototype.setId=function(e){this.id_=e;this.changed()};ol.Feature.prototype.setGeometryName=function(e){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=e;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};ol.Feature.createStyleFunction=function(e){var t;if("function"==typeof e){if(2==e.length){t=function(t){return e(this,t)}}else{t=e}}else{var r;if(Array.isArray(e)){r=e}else{ol.asserts.assert(e instanceof ol.style.Style,41);r=[e]}t=function(){return r}}return t};goog.provide("ol.format.FormatType");ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};goog.provide("ol.xml");goog.require("ol.array");ol.xml.DOCUMENT=document.implementation.createDocument("","",null);ol.xml.createElementNS=function(e,t){return ol.xml.DOCUMENT.createElementNS(e,t)};ol.xml.getAllTextContent=function(e,t){return ol.xml.getAllTextContent_(e,t,[]).join("")};ol.xml.getAllTextContent_=function(e,t,r){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE){if(t){r.push((e.nodeValue+"").replace(/(\r\n|\r|\n)/g,""))}else{r.push(e.nodeValue)}}else{var o;for(o=e.firstChild;o;o=o.nextSibling){ol.xml.getAllTextContent_(o,t,r)}}return r};ol.xml.isDocument=function(e){return e instanceof Document};ol.xml.isNode=function(e){return e instanceof Node};ol.xml.getAttributeNS=function(e,t,r){return e.getAttributeNS(t,r)||""};ol.xml.setAttributeNS=function(e,t,r,o){e.setAttributeNS(t,r,o)};ol.xml.parse=function(e){return new DOMParser().parseFromString(e,"application/xml")};ol.xml.makeArrayExtender=function(e,t){return function(r,o){var i=e.call(t,r,o);if(i!==void 0){var n=o[o.length-1];ol.array.extend(n,i)}}};ol.xml.makeArrayPusher=function(e,t){return function(r,o){var i=e.call(t!==void 0?t:this,r,o);if(i!==void 0){var n=o[o.length-1];n.push(i)}}};ol.xml.makeReplacer=function(e,t){return function(r,o){var i=e.call(t!==void 0?t:this,r,o);if(i!==void 0){o[o.length-1]=i}}};ol.xml.makeObjectPropertyPusher=function(e,t,r){return function(o,i){var n=e.call(r!==void 0?r:this,o,i);if(n!==void 0){var a=i[i.length-1],p=t!==void 0?t:o.localName,l;if(p in a){l=a[p]}else{l=a[p]=[]}l.push(n)}}};ol.xml.makeObjectPropertySetter=function(e,t,r){return function(o,i){var n=e.call(r!==void 0?r:this,o,i);if(n!==void 0){var a=i[i.length-1],p=t!==void 0?t:o.localName;a[p]=n}}};ol.xml.makeChildAppender=function(e,t){return function(r,o,i){e.call(t!==void 0?t:this,r,o,i);var n=i[i.length-1],a=n.node;a.appendChild(r)}};ol.xml.makeArraySerializer=function(e){var t,r;return function(o,i,n){if(t===void 0){t={};var a={};a[o.localName]=e;t[o.namespaceURI]=a;r=ol.xml.makeSimpleNodeFactory(o.localName)}ol.xml.serialize(t,r,i,n)}};ol.xml.makeSimpleNodeFactory=function(e,t){var r=e;return function(e,o,i){var n=o[o.length-1],a=n.node,p=r;if(p===void 0){p=i}var l=t;if(t===void 0){l=a.namespaceURI}return ol.xml.createElementNS(l,p)}};ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory();ol.xml.makeSequence=function(e,t){for(var r=t.length,o=Array(r),n=0;n<r;++n){o[n]=e[t[n]]}return o};ol.xml.makeStructureNS=function(e,t,r){var o=r!==void 0?r:{},n,a;for(n=0,a=e.length;n<a;++n){o[e[n]]=t}return o};ol.xml.parseNode=function(e,t,r,o){var i;for(i=t.firstElementChild;i;i=i.nextElementSibling){var a=e[i.namespaceURI];if(a!==void 0){var p=a[i.localName];if(p!==void 0){p.call(o,i,r)}}}};ol.xml.pushParseAndPop=function(e,t,r,o,i){o.push(e);ol.xml.parseNode(t,r,o,i);return o.pop()};ol.xml.serialize=function(e,t,r,o,n,a){for(var p=(n!==void 0?n:r).length,l,s,y=0;y<p;++y){l=r[y];if(l!==void 0){s=t.call(a,l,o,n!==void 0?n[y]:void 0);if(s!==void 0){e[s.namespaceURI][s.localName].call(a,s,l,o)}}}};ol.xml.pushSerializeAndPop=function(e,t,r,o,i,n,a){i.push(e);ol.xml.serialize(t,r,o,i,n,a);return i.pop()};goog.provide("ol.featureloader");goog.require("ol");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.featureloader.loadFeaturesXhr=function(e,t,r,o){return function(i,n,a){var p=new XMLHttpRequest;p.open("GET","function"==typeof e?e(i,n,a):e,!0);if(t.getType()==ol.format.FormatType.ARRAY_BUFFER){p.responseType="arraybuffer"}p.onload=function(){if(!p.status||200<=p.status&&300>p.status){var e=t.getType(),i;if(e==ol.format.FormatType.JSON||e==ol.format.FormatType.TEXT){i=p.responseText}else if(e==ol.format.FormatType.XML){i=p.responseXML;if(!i){i=ol.xml.parse(p.responseText)}}else if(e==ol.format.FormatType.ARRAY_BUFFER){i=p.response}if(i){r.call(this,t.readFeatures(i,{featureProjection:a}),t.readProjection(i),t.getLastExtent())}else{o.call(this)}}else{o.call(this)}}.bind(this);p.onerror=function(){o.call(this)}.bind(this);p.send()}};ol.featureloader.xhr=function(e,t){return ol.featureloader.loadFeaturesXhr(e,t,function(e){this.addFeatures(e)},ol.nullFunction)};goog.provide("ol.format.Feature");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");ol.format.Feature=function(){this.defaultDataProjection=null;this.defaultFeatureProjection=null};ol.format.Feature.prototype.getReadOptions=function(e,t){var r;if(t){r={dataProjection:t.dataProjection?t.dataProjection:this.readProjection(e),featureProjection:t.featureProjection}}return this.adaptOptions(r)};ol.format.Feature.prototype.adaptOptions=function(e){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)};ol.format.Feature.prototype.getLastExtent=function(){return null};ol.format.Feature.prototype.getType=function(){};ol.format.Feature.prototype.readFeature=function(){};ol.format.Feature.prototype.readFeatures=function(){};ol.format.Feature.prototype.readGeometry=function(){};ol.format.Feature.prototype.readProjection=function(){};ol.format.Feature.prototype.writeFeature=function(){};ol.format.Feature.prototype.writeFeatures=function(){};ol.format.Feature.prototype.writeGeometry=function(){};ol.format.Feature.transformWithOptions=function(e,t,r){var o=r?ol.proj.get(r.featureProjection):null,i=r?ol.proj.get(r.dataProjection):null,n;if(o&&i&&!ol.proj.equivalent(o,i)){if(e instanceof ol.geom.Geometry){n=(t?e.clone():e).transform(t?o:i,t?i:o)}else{n=ol.proj.transformExtent(e,i,o)}}else{n=e}if(t&&r&&r.decimals!==void 0){var a=Math.pow(10,r.decimals),p=function(e){for(var t=0,r=e.length;t<r;++t){e[t]=Math.round(e[t]*a)/a}return e};if(n===e){n=n.clone()}n.applyTransform(p)}return n};goog.provide("ol.format.JSONFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.JSONFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.JSONFeature,ol.format.Feature);ol.format.JSONFeature.prototype.getObject_=function(e){if("string"==typeof e){var t=JSON.parse(e);return t?t:null}else if(null!==e){return e}else{return null}};ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON};ol.format.JSONFeature.prototype.readFeature=function(e,t){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readFeatureFromObject=function(){};ol.format.JSONFeature.prototype.readFeaturesFromObject=function(){};ol.format.JSONFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readGeometryFromObject=function(){};ol.format.JSONFeature.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))};ol.format.JSONFeature.prototype.readProjectionFromObject=function(){};ol.format.JSONFeature.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))};ol.format.JSONFeature.prototype.writeFeatureObject=function(){};ol.format.JSONFeature.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))};ol.format.JSONFeature.prototype.writeFeaturesObject=function(){};ol.format.JSONFeature.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))};ol.format.JSONFeature.prototype.writeGeometryObject=function(){};goog.provide("ol.geom.flat.interpolate");goog.require("ol.array");goog.require("ol.math");ol.geom.flat.interpolate.lineString=function(e,r,a,p,l,s){var y=NaN,c=NaN,d=(a-r)/p;if(1===d){y=e[r];c=e[r+1]}else if(2==d){y=(1-l)*e[r]+l*e[r+p];c=(1-l)*e[r+1]+l*e[r+p+1]}else if(0!==d){var n=e[r],g=e[r+1],m=0,u=[0],_;for(_=r+p;_<a;_+=p){var f=e[_],S=e[_+1];m+=Math.sqrt((f-n)*(f-n)+(S-g)*(S-g));u.push(m);n=f;g=S}var x=l*m,P=ol.array.binarySearch(u,x);if(0>P){var T=(x-u[-P-2])/(u[-P-1]-u[-P-2]),t=r+(-P-2)*p;y=ol.math.lerp(e[t],e[t+p],T);c=ol.math.lerp(e[t+1],e[t+p+1],T)}else{y=e[r+P*p];c=e[r+P*p+1]}}if(s){s[0]=y;s[1]=c;return s}else{return[y,c]}};ol.geom.flat.interpolate.lineStringCoordinateAtM=function(e,t,r,o,n,a){if(r==t){return null}var p;if(n<e[t+o-1]){if(a){p=e.slice(t,t+o);p[o-1]=n;return p}else{return null}}else if(e[r-1]<n){if(a){p=e.slice(r-o,r);p[o-1]=n;return p}else{return null}}if(n==e[t+o-1]){return e.slice(t,t+o)}var l=t/o,s=r/o;while(l<s){var y=l+s>>1;if(n<e[(y+1)*o-1]){s=y}else{l=y+1}}var c=e[l*o-1];if(n==c){return e.slice((l-1)*o,(l-1)*o+o)}var d=e[(l+1)*o-1];p=[];var g;for(g=0;g<o-1;++g){p.push(ol.math.lerp(e[(l-1)*o+g],e[l*o+g],(n-c)/(d-c)))}p.push(n);return p};ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(e,t,r,o,n,a,p){if(p){return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,r[r.length-1],o,n,a)}var l;if(n<e[o-1]){if(a){l=e.slice(0,o);l[o-1]=n;return l}else{return null}}if(e[e.length-1]<n){if(a){l=e.slice(e.length-o);l[o-1]=n;return l}else{return null}}var s,y;for(s=0,y=r.length;s<y;++s){var c=r[s];if(t==c){continue}if(n<e[t+o-1]){return null}else if(n<=e[c-1]){return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,c,o,n,!1)}t=c}return null};goog.provide("ol.geom.LineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.length");goog.require("ol.geom.flat.segments");goog.require("ol.geom.flat.simplify");ol.geom.LineString=function(e,t){ol.geom.SimpleGeometry.call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry);ol.geom.LineString.prototype.appendCoordinate=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.slice()}else{ol.array.extend(this.flatCoordinates,e)}this.changed()};ol.geom.LineString.prototype.clone=function(){var e=new ol.geom.LineString(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.LineString.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,o)};ol.geom.LineString.prototype.forEachSegment=function(e,t){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)};ol.geom.LineString.prototype.getCoordinateAtM=function(e,t){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM){return null}var r=t!==void 0?t:!1;return ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r)};ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getCoordinateAt=function(e,t){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)};ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getFlatMidpoint=function(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var r=new ol.geom.LineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t);return r};ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING};ol.geom.LineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};ol.geom.LineString.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.LineString.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.MultiLineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.simplify");ol.geom.MultiLineString=function(e,t){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry);ol.geom.MultiLineString.prototype.appendLineString=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.MultiLineString.prototype.clone=function(){var e=new ol.geom.MultiLineString(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return e};ol.geom.MultiLineString.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,o)};ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,t,r){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||0===this.flatCoordinates.length){return null}var o=t!==void 0?t:!1,i=r!==void 0?r:!1;return ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,o,i)};ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)};ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(e){if(0>e||this.ends_.length<=e){return null}var t=new ol.geom.LineString(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]));return t};ol.geom.MultiLineString.prototype.getLineStrings=function(){var e=this.flatCoordinates,t=this.ends_,r=this.layout,o=[],n=0,a,p;for(a=0,p=t.length;a<p;++a){var l=t[a],s=new ol.geom.LineString(null);s.setFlatCoordinates(r,e.slice(n,l));o.push(s);n=l}return o};ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var e=[],t=this.flatCoordinates,r=0,o=this.ends_,n=this.stride,a,p;for(a=0,p=o.length;a<p;++a){var l=o[a],s=ol.geom.flat.interpolate.lineString(t,r,l,n,.5);ol.array.extend(e,s);r=l}return e};ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[],r=[];t.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,r);var o=new ol.geom.MultiLineString(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,r);return o};ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING};ol.geom.MultiLineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)};ol.geom.MultiLineString.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(t,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1];this.changed()}};ol.geom.MultiLineString.prototype.setFlatCoordinates=function(e,t,r){this.setFlatCoordinatesInternal(e,t);this.ends_=r;this.changed()};ol.geom.MultiLineString.prototype.setLineStrings=function(e){var t=this.getLayout(),r=[],o=[],n,a;for(n=0,a=e.length;n<a;++n){var p=e[n];if(0===n){t=p.getLayout()}ol.array.extend(r,p.getFlatCoordinates());o.push(r.length)}this.setFlatCoordinates(t,r,o)};goog.provide("ol.geom.MultiPoint");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.math");ol.geom.MultiPoint=function(e,t){ol.geom.SimpleGeometry.call(this);this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry);ol.geom.MultiPoint.prototype.appendPoint=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates())}this.changed()};ol.geom.MultiPoint.prototype.clone=function(){var e=new ol.geom.MultiPoint(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.MultiPoint.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}var n=this.flatCoordinates,a=this.stride,p,l,s;for(p=0,l=n.length;p<l;p+=a){var y=ol.math.squaredDistance(e,t,n[p],n[p+1]);if(y<o){o=y;for(s=0;s<a;++s){r[s]=n[p+s]}r.length=a}}return o};ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.MultiPoint.prototype.getPoint=function(e){var t=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;if(0>e||t<=e){return null}var r=new ol.geom.Point(null);r.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride));return r};ol.geom.MultiPoint.prototype.getPoints=function(){var e=this.flatCoordinates,t=this.layout,r=this.stride,o=[],n,a;for(n=0,a=e.length;n<a;n+=r){var p=new ol.geom.Point(null);p.setFlatCoordinates(t,e.slice(n,n+r));o.push(p)}return o};ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT};ol.geom.MultiPoint.prototype.intersectsExtent=function(e){var t=this.flatCoordinates,r=this.stride,o,n,a,p;for(o=0,n=t.length;o<n;o+=r){a=t[o];p=t[o+1];if(ol.extent.containsXY(e,a,p)){return!0}}return!1};ol.geom.MultiPoint.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.MultiPoint.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.flat.center");goog.require("ol.extent");ol.geom.flat.center.linearRingss=function(e,t,r,o){var n=[],a,p,l=ol.extent.createEmpty();for(a=0,p=r.length;a<p;++a){var s=r[a];l=ol.extent.createOrUpdateFromFlatCoordinates(e,t,s[0],o);n.push((l[0]+l[2])/2,(l[1]+l[3])/2);t=s[s.length-1]}return n};goog.provide("ol.geom.MultiPolygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.center");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");ol.geom.MultiPolygon=function(e,t){ol.geom.SimpleGeometry.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry);ol.geom.MultiPolygon.prototype.appendPolygon=function(e){var t;if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice();t=e.getEnds().slice();this.endss_.push()}else{var r=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,e.getFlatCoordinates());t=e.getEnds().slice();var o,n;for(o=0,n=t.length;o<n;++o){t[o]+=r}}this.endss_.push(t);this.changed()};ol.geom.MultiPolygon.prototype.clone=function(){for(var e=new ol.geom.MultiPolygon(null),t=this.endss_.length,r=Array(t),o=0;o<t;++o){r[o]=this.endss_[o].slice()}e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),r);return e};ol.geom.MultiPolygon.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,o)};ol.geom.MultiPolygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)};ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getCoordinates=function(e){var t;if(e!==void 0){t=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRingss(t,0,this.endss_,this.stride,e)}else{t=this.flatCoordinates}return ol.geom.flat.inflate.coordinatesss(t,0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_};ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var e=new ol.geom.MultiPoint(null);e.setFlatCoordinates(ol.geom.GeometryLayout.XYM,this.getFlatInteriorPoints().slice());return e};ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(ol.geom.flat.orient.linearRingssAreOriented(e,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[],r=[];t.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,r);var o=new ol.geom.MultiPolygon(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,r);return o};ol.geom.MultiPolygon.prototype.getPolygon=function(e){if(0>e||this.endss_.length<=e){return null}var t;if(0===e){t=0}else{var r=this.endss_[e-1];t=r[r.length-1]}var o=this.endss_[e].slice(),n=o[o.length-1];if(0!==t){var a,p;for(a=0,p=o.length;a<p;++a){o[a]-=t}}var l=new ol.geom.Polygon(null);l.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,n),o);return l};ol.geom.MultiPolygon.prototype.getPolygons=function(){var e=this.layout,t=this.flatCoordinates,r=this.endss_,o=[],n=0,a,p,l,s;for(a=0,p=r.length;a<p;++a){var y=r[a].slice(),c=y[y.length-1];if(0!==n){for(l=0,s=y.length;l<s;++l){y[l]-=n}}var d=new ol.geom.Polygon(null);d.setFlatCoordinates(e,t.slice(n,c),y);o.push(d);n=c}return o};ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON};ol.geom.MultiPolygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)};ol.geom.MultiPolygon.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)}else{this.setLayout(t,e,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length){this.flatCoordinates.length=0}else{var o=r[r.length-1];this.flatCoordinates.length=0===o.length?0:o[o.length-1]}this.changed()}};ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(e,t,r){this.setFlatCoordinatesInternal(e,t);this.endss_=r;this.changed()};ol.geom.MultiPolygon.prototype.setPolygons=function(e){var t=this.getLayout(),r=[],o=[],n,a,p;for(n=0,a=e.length;n<a;++n){var l=e[n];if(0===n){t=l.getLayout()}var s=r.length;p=l.getEnds();var y,c;for(y=0,c=p.length;y<c;++y){p[y]+=s}ol.array.extend(r,l.getFlatCoordinates());o.push(p)}this.setFlatCoordinates(t,r,o)};goog.provide("ol.format.EsriJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.orient");goog.require("ol.obj");goog.require("ol.proj");ol.format.EsriJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.geometryName_=t.geometryName};ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature);ol.format.EsriJSON.readGeometry_=function(e,t){if(!e){return null}var r;if("number"==typeof e.x&&"number"==typeof e.y){r=ol.geom.GeometryType.POINT}else if(e.points){r=ol.geom.GeometryType.MULTI_POINT}else if(e.paths){if(1===e.paths.length){r=ol.geom.GeometryType.LINE_STRING}else{r=ol.geom.GeometryType.MULTI_LINE_STRING}}else if(e.rings){var o=ol.format.EsriJSON.getGeometryLayout_(e),i=ol.format.EsriJSON.convertRings_(e.rings,o);e=ol.obj.assign({},e);if(1===i.length){r=ol.geom.GeometryType.POLYGON;e.rings=i[0]}else{r=ol.geom.GeometryType.MULTI_POLYGON;e.rings=i}}var n=ol.format.EsriJSON.GEOMETRY_READERS_[r];return ol.format.Feature.transformWithOptions(n(e),!1,t)};ol.format.EsriJSON.convertRings_=function(e,t){var r=[],o=[],n=[],a,p;for(a=0,p=e.length;a<p;++a){r.length=0;ol.geom.flat.deflate.coordinates(r,0,e[a],t.length);var l=ol.geom.flat.orient.linearRingIsClockwise(r,0,r.length,t.length);if(l){o.push([e[a]])}else{n.push(e[a])}}while(n.length){var s=n.shift(),y=!1;for(a=o.length-1;0<=a;a--){var c=o[a][0],d=ol.extent.containsExtent(new ol.geom.LinearRing(c).getExtent(),new ol.geom.LinearRing(s).getExtent());if(d){o[a].push(s);y=!0;break}}if(!y){o.push([s.reverse()])}}return o};ol.format.EsriJSON.readPointGeometry_=function(e){var t;if(e.m!==void 0&&e.z!==void 0){t=new ol.geom.Point([e.x,e.y,e.z,e.m],ol.geom.GeometryLayout.XYZM)}else if(e.z!==void 0){t=new ol.geom.Point([e.x,e.y,e.z],ol.geom.GeometryLayout.XYZ)}else if(e.m!==void 0){t=new ol.geom.Point([e.x,e.y,e.m],ol.geom.GeometryLayout.XYM)}else{t=new ol.geom.Point([e.x,e.y])}return t};ol.format.EsriJSON.readLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.LineString(e.paths[0],t)};ol.format.EsriJSON.readMultiLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiLineString(e.paths,t)};ol.format.EsriJSON.getGeometryLayout_=function(e){var t=ol.geom.GeometryLayout.XY;if(!0===e.hasZ&&!0===e.hasM){t=ol.geom.GeometryLayout.XYZM}else if(!0===e.hasZ){t=ol.geom.GeometryLayout.XYZ}else if(!0===e.hasM){t=ol.geom.GeometryLayout.XYM}return t};ol.format.EsriJSON.readMultiPointGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPoint(e.points,t)};ol.format.EsriJSON.readMultiPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPolygon(e.rings,t)};ol.format.EsriJSON.readPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.Polygon(e.rings,t)};ol.format.EsriJSON.writePointGeometry_=function(e){var t=e.getCoordinates(),r,o=e.getLayout();if(o===ol.geom.GeometryLayout.XYZ){r={x:t[0],y:t[1],z:t[2]}}else if(o===ol.geom.GeometryLayout.XYM){r={x:t[0],y:t[1],m:t[2]}}else if(o===ol.geom.GeometryLayout.XYZM){r={x:t[0],y:t[1],z:t[2],m:t[3]}}else if(o===ol.geom.GeometryLayout.XY){r={x:t[0],y:t[1]}}else{ol.asserts.assert(!1,34)}return r};ol.format.EsriJSON.getHasZM_=function(e){var t=e.getLayout();return{hasZ:t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM,hasM:t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM}};ol.format.EsriJSON.writeLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:[e.getCoordinates()]}};ol.format.EsriJSON.writePolygonGeometry_=function(e){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,rings:e.getCoordinates(!1)}};ol.format.EsriJSON.writeMultiLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,paths:e.getCoordinates()}};ol.format.EsriJSON.writeMultiPointGeometry_=function(e){var t=ol.format.EsriJSON.getHasZM_(e);return{hasZ:t.hasZ,hasM:t.hasM,points:e.getCoordinates()}};ol.format.EsriJSON.writeMultiPolygonGeometry_=function(e){for(var t=ol.format.EsriJSON.getHasZM_(e),r=e.getCoordinates(!1),o=[],n=0;n<r.length;n++){for(var a=r[n].length-1;0<=a;a--){o.push(r[n][a])}}return{hasZ:t.hasZ,hasM:t.hasM,rings:o}};ol.format.EsriJSON.GEOMETRY_READERS_={};ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_={};ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_;ol.format.EsriJSON.prototype.readFeature;ol.format.EsriJSON.prototype.readFeatures;ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,t){var r=e,o=ol.format.EsriJSON.readGeometry_(r.geometry,t),i=new ol.Feature;if(this.geometryName_){i.setGeometryName(this.geometryName_)}i.setGeometry(o);if(t&&t.idField&&r.attributes[t.idField]){i.setId(r.attributes[t.idField])}if(r.attributes){i.setProperties(r.attributes)}return i};ol.format.EsriJSON.prototype.readFeaturesFromObject=function(e,t){var r=t?t:{};if(e.features){var o=[],n=e.features,a,p;r.idField=e.objectIdFieldName;for(a=0,p=n.length;a<p;++a){o.push(this.readFeatureFromObject(n[a],r))}return o}else{return[this.readFeatureFromObject(e,r)]}};ol.format.EsriJSON.prototype.readGeometry;ol.format.EsriJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.EsriJSON.readGeometry_(e,t)};ol.format.EsriJSON.prototype.readProjection;ol.format.EsriJSON.prototype.readProjectionFromObject=function(e){var t=e;if(t.spatialReference&&t.spatialReference.wkid){var r=t.spatialReference.wkid;return ol.proj.get("EPSG:"+r)}else{return null}};ol.format.EsriJSON.writeGeometry_=function(e,t){var r=ol.format.EsriJSON.GEOMETRY_WRITERS_[e.getType()];return r(ol.format.Feature.transformWithOptions(e,!0,t),t)};ol.format.EsriJSON.prototype.writeGeometry;ol.format.EsriJSON.prototype.writeGeometryObject=function(e,t){return ol.format.EsriJSON.writeGeometry_(e,this.adaptOptions(t))};ol.format.EsriJSON.prototype.writeFeature;ol.format.EsriJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={},o=e.getGeometry();if(o){r.geometry=ol.format.EsriJSON.writeGeometry_(o,t);if(t&&t.featureProjection){r.geometry.spatialReference={wkid:ol.proj.get(t.featureProjection).getCode().split(":").pop()}}}var i=e.getProperties();delete i[e.getGeometryName()];if(!ol.obj.isEmpty(i)){r.attributes=i}else{r.attributes={}}return r};ol.format.EsriJSON.prototype.writeFeatures;ol.format.EsriJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var r=[],o,n;for(o=0,n=e.length;o<n;++o){r.push(this.writeFeatureObject(e[o],t))}return{features:r}};goog.provide("ol.format.filter.Filter");ol.format.filter.Filter=function(e){this.tagName_=e};ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_};goog.provide("ol.format.filter.LogicalNary");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.filter.Filter");ol.format.filter.LogicalNary=function(e){ol.format.filter.Filter.call(this,e);this.conditions=Array.prototype.slice.call(arguments,1);ol.asserts.assert(2<=this.conditions.length,57)};ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter);goog.provide("ol.format.filter.And");goog.require("ol");goog.require("ol.format.filter.LogicalNary");ol.format.filter.And=function(){var e=["And"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,e)};ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary);goog.provide("ol.format.filter.Bbox");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Bbox=function(e,t,r){ol.format.filter.Filter.call(this,"BBOX");this.geometryName=e;this.extent=t;this.srsName=r};ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter);goog.provide("ol.format.filter.Spatial");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Spatial=function(e,t,r,o){ol.format.filter.Filter.call(this,e);this.geometryName=t||"the_geom";this.geometry=r;this.srsName=o};ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter);goog.provide("ol.format.filter.Contains");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Contains=function(e,t,r){ol.format.filter.Spatial.call(this,"Contains",e,t,r)};ol.inherits(ol.format.filter.Contains,ol.format.filter.Spatial);goog.provide("ol.format.filter.Comparison");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Comparison=function(e,t){ol.format.filter.Filter.call(this,e);this.propertyName=t};ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter);goog.provide("ol.format.filter.During");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.During=function(e,t,r){ol.format.filter.Comparison.call(this,"During",e);this.begin=t;this.end=r};ol.inherits(ol.format.filter.During,ol.format.filter.Comparison);goog.provide("ol.format.filter.ComparisonBinary");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.ComparisonBinary=function(e,t,r,o){ol.format.filter.Comparison.call(this,e,t);this.expression=r;this.matchCase=o};ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison);goog.provide("ol.format.filter.EqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.EqualTo=function(e,t,r){ol.format.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",e,t,r)};ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.GreaterThan");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.GreaterThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",e,t)};ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.GreaterThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",e,t)};ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Intersects");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Intersects=function(e,t,r){ol.format.filter.Spatial.call(this,"Intersects",e,t,r)};ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial);goog.provide("ol.format.filter.IsBetween");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsBetween=function(e,t,r){ol.format.filter.Comparison.call(this,"PropertyIsBetween",e);this.lowerBoundary=t;this.upperBoundary=r};ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison);goog.provide("ol.format.filter.IsLike");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsLike=function(e,t,r,o,i,n){ol.format.filter.Comparison.call(this,"PropertyIsLike",e);this.pattern=t;this.wildCard=r!==void 0?r:"*";this.singleChar=o!==void 0?o:".";this.escapeChar=i!==void 0?i:"!";this.matchCase=n};ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison);goog.provide("ol.format.filter.IsNull");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsNull=function(e){ol.format.filter.Comparison.call(this,"PropertyIsNull",e)};ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison);goog.provide("ol.format.filter.LessThan");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.LessThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThan",e,t)};ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.LessThanOrEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.LessThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",e,t)};ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Not");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Not=function(e){ol.format.filter.Filter.call(this,"Not");this.condition=e};ol.inherits(ol.format.filter.Not,ol.format.filter.Filter);goog.provide("ol.format.filter.NotEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.NotEqualTo=function(e,t,r){ol.format.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",e,t,r)};ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Or");goog.require("ol");goog.require("ol.format.filter.LogicalNary");ol.format.filter.Or=function(){var e=["Or"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,e)};ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary);goog.provide("ol.format.filter.Within");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Within=function(e,t,r){ol.format.filter.Spatial.call(this,"Within",e,t,r)};ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial);goog.provide("ol.format.filter");goog.require("ol.format.filter.And");goog.require("ol.format.filter.Bbox");goog.require("ol.format.filter.Contains");goog.require("ol.format.filter.During");goog.require("ol.format.filter.EqualTo");goog.require("ol.format.filter.GreaterThan");goog.require("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol.format.filter.Intersects");goog.require("ol.format.filter.IsBetween");goog.require("ol.format.filter.IsLike");goog.require("ol.format.filter.IsNull");goog.require("ol.format.filter.LessThan");goog.require("ol.format.filter.LessThanOrEqualTo");goog.require("ol.format.filter.Not");goog.require("ol.format.filter.NotEqualTo");goog.require("ol.format.filter.Or");goog.require("ol.format.filter.Within");ol.format.filter.and=function(){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.And,e))};ol.format.filter.or=function(){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.Or,e))};ol.format.filter.not=function(e){return new ol.format.filter.Not(e)};ol.format.filter.bbox=function(e,t,r){return new ol.format.filter.Bbox(e,t,r)};ol.format.filter.contains=function(e,t,r){return new ol.format.filter.Contains(e,t,r)};ol.format.filter.intersects=function(e,t,r){return new ol.format.filter.Intersects(e,t,r)};ol.format.filter.within=function(e,t,r){return new ol.format.filter.Within(e,t,r)};ol.format.filter.equalTo=function(e,t,r){return new ol.format.filter.EqualTo(e,t,r)};ol.format.filter.notEqualTo=function(e,t,r){return new ol.format.filter.NotEqualTo(e,t,r)};ol.format.filter.lessThan=function(e,t){return new ol.format.filter.LessThan(e,t)};ol.format.filter.lessThanOrEqualTo=function(e,t){return new ol.format.filter.LessThanOrEqualTo(e,t)};ol.format.filter.greaterThan=function(e,t){return new ol.format.filter.GreaterThan(e,t)};ol.format.filter.greaterThanOrEqualTo=function(e,t){return new ol.format.filter.GreaterThanOrEqualTo(e,t)};ol.format.filter.isNull=function(e){return new ol.format.filter.IsNull(e)};ol.format.filter.between=function(e,t,r){return new ol.format.filter.IsBetween(e,t,r)};ol.format.filter.like=function(e,t,r,o,i,n){return new ol.format.filter.IsLike(e,t,r,o,i,n)};ol.format.filter.during=function(e,t,r){return new ol.format.filter.During(e,t,r)};goog.provide("ol.geom.GeometryCollection");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryType");goog.require("ol.obj");ol.geom.GeometryCollection=function(e){ol.geom.Geometry.call(this);this.geometries_=e?e:null;this.listenGeometriesChange_()};ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry);ol.geom.GeometryCollection.cloneGeometries_=function(e){var t=[],r,o;for(r=0,o=e.length;r<o;++r){t.push(e[r].clone())}return t};ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var e,t;if(!this.geometries_){return}for(e=0,t=this.geometries_.length;e<t;++e){ol.events.unlisten(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var e,t;if(!this.geometries_){return}for(e=0,t=this.geometries_.length;e<t;++e){ol.events.listen(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.clone=function(){var e=new ol.geom.GeometryCollection(null);e.setGeometries(this.geometries_);return e};ol.geom.GeometryCollection.prototype.closestPointXY=function(e,t,r,o){if(o<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return o}var n=this.geometries_,a,p;for(a=0,p=n.length;a<p;++a){o=n[a].closestPointXY(e,t,r,o)}return o};ol.geom.GeometryCollection.prototype.containsXY=function(e,t){var r=this.geometries_,o,n;for(o=0,n=r.length;o<n;++o){if(r[o].containsXY(e,t)){return!0}}return!1};ol.geom.GeometryCollection.prototype.computeExtent=function(e){ol.extent.createOrUpdateEmpty(e);for(var t=this.geometries_,r=0,o=t.length;r<o;++r){ol.extent.extend(e,t[r].getExtent())}return e};ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)};ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_};ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t)){return this.simplifiedGeometryCache[t]}else{var r=[],o=this.geometries_,n=!1,a,p;for(a=0,p=o.length;a<p;++a){var l=o[a],s=l.getSimplifiedGeometry(e);r.push(s);if(s!==l){n=!0}}if(n){var y=new ol.geom.GeometryCollection(null);y.setGeometriesArray(r);this.simplifiedGeometryCache[t]=y;return y}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION};ol.geom.GeometryCollection.prototype.intersectsExtent=function(e){var t=this.geometries_,r,o;for(r=0,o=t.length;r<o;++r){if(t[r].intersectsExtent(e)){return!0}}return!1};ol.geom.GeometryCollection.prototype.isEmpty=function(){return 0===this.geometries_.length};ol.geom.GeometryCollection.prototype.rotate=function(e,t){for(var r=this.geometries_,o=0,n=r.length;o<n;++o){r[o].rotate(e,t)}this.changed()};ol.geom.GeometryCollection.prototype.scale=function(e,t,r){var o=r;if(!o){o=ol.extent.getCenter(this.getExtent())}for(var n=this.geometries_,a=0,p=n.length;a<p;++a){n[a].scale(e,t,o)}this.changed()};ol.geom.GeometryCollection.prototype.setGeometries=function(e){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(e))};ol.geom.GeometryCollection.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_();this.geometries_=e;this.listenGeometriesChange_();this.changed()};ol.geom.GeometryCollection.prototype.applyTransform=function(e){var t=this.geometries_,r,o;for(r=0,o=t.length;r<o;++r){t[r].applyTransform(e)}this.changed()};ol.geom.GeometryCollection.prototype.translate=function(e,t){var r=this.geometries_,o,n;for(o=0,n=r.length;o<n;++o){r[o].translate(e,t)}this.changed()};ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();ol.geom.Geometry.prototype.disposeInternal.call(this)};goog.provide("ol.format.GeoJSON");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");ol.format.GeoJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326");if(t.featureProjection){this.defaultFeatureProjection=ol.proj.get(t.featureProjection)}this.geometryName_=t.geometryName;this.extractGeometryName_=t.extractGeometryName};ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature);ol.format.GeoJSON.readGeometry_=function(e,t){if(!e){return null}var r=ol.format.GeoJSON.GEOMETRY_READERS_[e.type];return ol.format.Feature.transformWithOptions(r(e),!1,t)};ol.format.GeoJSON.readGeometryCollectionGeometry_=function(e,t){var r=e.geometries.map(function(e){return ol.format.GeoJSON.readGeometry_(e,t)});return new ol.geom.GeometryCollection(r)};ol.format.GeoJSON.readPointGeometry_=function(e){return new ol.geom.Point(e.coordinates)};ol.format.GeoJSON.readLineStringGeometry_=function(e){return new ol.geom.LineString(e.coordinates)};ol.format.GeoJSON.readMultiLineStringGeometry_=function(e){return new ol.geom.MultiLineString(e.coordinates)};ol.format.GeoJSON.readMultiPointGeometry_=function(e){return new ol.geom.MultiPoint(e.coordinates)};ol.format.GeoJSON.readMultiPolygonGeometry_=function(e){return new ol.geom.MultiPolygon(e.coordinates)};ol.format.GeoJSON.readPolygonGeometry_=function(e){return new ol.geom.Polygon(e.coordinates)};ol.format.GeoJSON.writeGeometry_=function(e,t){var r=ol.format.GeoJSON.GEOMETRY_WRITERS_[e.getType()];return r(ol.format.Feature.transformWithOptions(e,!0,t),t)};ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(){return{type:"GeometryCollection",geometries:[]}};ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(e,t){var r=e.getGeometriesArray().map(function(e){var r=ol.obj.assign({},t);delete r.featureProjection;return ol.format.GeoJSON.writeGeometry_(e,r)});return{type:"GeometryCollection",geometries:r}};ol.format.GeoJSON.writeLineStringGeometry_=function(e){return{type:"LineString",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiLineStringGeometry_=function(e){return{type:"MultiLineString",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiPointGeometry_=function(e){return{type:"MultiPoint",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiPolygonGeometry_=function(e,t){var r;if(t){r=t.rightHanded}return{type:"MultiPolygon",coordinates:e.getCoordinates(r)}};ol.format.GeoJSON.writePointGeometry_=function(e){return{type:"Point",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writePolygonGeometry_=function(e,t){var r;if(t){r=t.rightHanded}return{type:"Polygon",coordinates:e.getCoordinates(r)}};ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_};ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_};ol.format.GeoJSON.prototype.readFeature;ol.format.GeoJSON.prototype.readFeatures;ol.format.GeoJSON.prototype.readFeatureFromObject=function(e,t){var r=null;if("Feature"===e.type){r=e}else{r={type:"Feature",geometry:e}}var o=ol.format.GeoJSON.readGeometry_(r.geometry,t),i=new ol.Feature;if(this.geometryName_){i.setGeometryName(this.geometryName_)}else if(this.extractGeometryName_&&r.geometry_name!==void 0){i.setGeometryName(r.geometry_name)}i.setGeometry(o);if(r.id!==void 0){i.setId(r.id)}if(r.properties){i.setProperties(r.properties)}return i};ol.format.GeoJSON.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];var o=e.features,n,a;for(n=0,a=o.length;n<a;++n){r.push(this.readFeatureFromObject(o[n],t))}}else{r=[this.readFeatureFromObject(e,t)]}return r};ol.format.GeoJSON.prototype.readGeometry;ol.format.GeoJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.GeoJSON.readGeometry_(e,t)};ol.format.GeoJSON.prototype.readProjection;ol.format.GeoJSON.prototype.readProjectionFromObject=function(e){var t=e.crs,r;if(t){if("name"==t.type){r=ol.proj.get(t.properties.name)}else{ol.asserts.assert(!1,36)}}else{r=this.defaultDataProjection}return r};ol.format.GeoJSON.prototype.writeFeature;ol.format.GeoJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature"},o=e.getId();if(o!==void 0){r.id=o}var i=e.getGeometry();if(i){r.geometry=ol.format.GeoJSON.writeGeometry_(i,t)}else{r.geometry=null}var n=e.getProperties();delete n[e.getGeometryName()];if(!ol.obj.isEmpty(n)){r.properties=n}else{r.properties=null}return r};ol.format.GeoJSON.prototype.writeFeatures;ol.format.GeoJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var r=[],o,n;for(o=0,n=e.length;o<n;++o){r.push(this.writeFeatureObject(e[o],t))}return{type:"FeatureCollection",features:r}};ol.format.GeoJSON.prototype.writeGeometry;ol.format.GeoJSON.prototype.writeGeometryObject=function(e,t){return ol.format.GeoJSON.writeGeometry_(e,this.adaptOptions(t))};goog.provide("ol.format.XMLFeature");goog.require("ol");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer;ol.format.Feature.call(this)};ol.inherits(ol.format.XMLFeature,ol.format.Feature);ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML};ol.format.XMLFeature.prototype.readFeature=function(e,t){if(ol.xml.isDocument(e)){return this.readFeatureFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readFeatureFromNode(e,t)}else if("string"==typeof e){var r=ol.xml.parse(e);return this.readFeatureFromDocument(r,t)}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromDocument=function(e,t){var r=this.readFeaturesFromDocument(e,t);if(0<r.length){return r[0]}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromNode=function(){return null};ol.format.XMLFeature.prototype.readFeatures=function(e,t){if(ol.xml.isDocument(e)){return this.readFeaturesFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readFeaturesFromNode(e,t)}else if("string"==typeof e){var r=ol.xml.parse(e);return this.readFeaturesFromDocument(r,t)}else{return[]}};ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(e,t){var r=[],o;for(o=e.firstChild;o;o=o.nextSibling){if(o.nodeType==Node.ELEMENT_NODE){ol.array.extend(r,this.readFeaturesFromNode(o,t))}}return r};ol.format.XMLFeature.prototype.readFeaturesFromNode=function(){};ol.format.XMLFeature.prototype.readGeometry=function(e,t){if(ol.xml.isDocument(e)){return this.readGeometryFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readGeometryFromNode(e,t)}else if("string"==typeof e){var r=ol.xml.parse(e);return this.readGeometryFromDocument(r,t)}else{return null}};ol.format.XMLFeature.prototype.readGeometryFromDocument=function(){return null};ol.format.XMLFeature.prototype.readGeometryFromNode=function(){return null};ol.format.XMLFeature.prototype.readProjection=function(e){if(ol.xml.isDocument(e)){return this.readProjectionFromDocument(e)}else if(ol.xml.isNode(e)){return this.readProjectionFromNode(e)}else if("string"==typeof e){var t=ol.xml.parse(e);return this.readProjectionFromDocument(t)}else{return null}};ol.format.XMLFeature.prototype.readProjectionFromDocument=function(){return this.defaultDataProjection};ol.format.XMLFeature.prototype.readProjectionFromNode=function(){return this.defaultDataProjection};ol.format.XMLFeature.prototype.writeFeature=function(e,t){var r=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(r)};ol.format.XMLFeature.prototype.writeFeatureNode=function(){return null};ol.format.XMLFeature.prototype.writeFeatures=function(e,t){var r=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(r)};ol.format.XMLFeature.prototype.writeFeaturesNode=function(){return null};ol.format.XMLFeature.prototype.writeGeometry=function(e,t){var r=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(r)};ol.format.XMLFeature.prototype.writeGeometryNode=function(){return null};goog.provide("ol.format.GMLBase");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GMLBase=function(e){var t=e?e:{};this.featureType=t.featureType;this.featureNS=t.featureNS;this.srsName=t.srsName;this.schemaLocation="";this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)};ol.format.XMLFeature.call(this)};ol.inherits(ol.format.GMLBase,ol.format.XMLFeature);ol.format.GMLBase.GMLNS="http://www.opengis.net/gml";ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/;ol.format.GMLBase.prototype.readFeaturesInternal=function(e,t){var r=e.localName,o=null;if("FeatureCollection"==r){if("http://www.opengis.net/wfs"===e.namespaceURI){o=ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,e,t,this)}else{o=ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,e,t,this)}}else if("featureMembers"==r||"featureMember"==r){var n=t[0],a=n.featureType,l=n.featureNS,s,y,c="p0";if(!a&&e.childNodes){a=[],l={};for(s=0,y=e.childNodes.length;s<y;++s){var d=e.childNodes[s];if(1===d.nodeType){var g=d.nodeName.split(":").pop();if(-1===a.indexOf(g)){var m="",u=0,_=d.namespaceURI;for(var f in l){if(l[f]===_){m=f;break}++u}if(!m){m="p"+u;l[m]=_}a.push(m+":"+g)}}}if("featureMember"!=r){n.featureType=a;n.featureNS=l}}if("string"==typeof l){var S=l;l={};l[c]=S}var x={},P=Array.isArray(a)?a:[a];for(var T in l){var p={};for(s=0,y=P.length;s<y;++s){var E=-1===P[s].indexOf(":")?c:P[s].split(":")[0];if(E===T){p[P[s].split(":").pop()]="featureMembers"==r?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this)}}x[l[T]]=p}if("featureMember"==r){o=ol.xml.pushParseAndPop(void 0,x,e,t)}else{o=ol.xml.pushParseAndPop([],x,e,t)}}if(null===o){o=[]}return o};ol.format.GMLBase.prototype.readGeometryElement=function(e,t){var r=t[0];r.srsName=e.firstElementChild.getAttribute("srsName");r.srsDimension=e.firstElementChild.getAttribute("srsDimension");var o=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,e,t,this);if(o){return ol.format.Feature.transformWithOptions(o,!1,r)}else{}};ol.format.GMLBase.prototype.readFeatureElement=function(e,t){var r,o=e.getAttribute("fid")||ol.xml.getAttributeNS(e,ol.format.GMLBase.GMLNS,"id"),i={},a;for(r=e.firstElementChild;r;r=r.nextElementSibling){var p=r.localName;if(0===r.childNodes.length||1===r.childNodes.length&&(3===r.firstChild.nodeType||4===r.firstChild.nodeType)){var l=ol.xml.getAllTextContent(r,!1);if(ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(l)){l=void 0}i[p]=l}else{if("boundedBy"!==p){a=p}i[p]=this.readGeometryElement(r,t)}}var s=new ol.Feature(i);if(a){s.setGeometryName(a)}if(o){s.setId(o)}return s};ol.format.GMLBase.prototype.readPoint=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r){var o=new ol.geom.Point(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);return o}};ol.format.GMLBase.prototype.readMultiPoint=function(e,t){var r=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,e,t,this);if(r){return new ol.geom.MultiPoint(r)}else{}};ol.format.GMLBase.prototype.readMultiLineString=function(e,t){var r=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,e,t,this);if(r){var o=new ol.geom.MultiLineString(null);o.setLineStrings(r);return o}else{}};ol.format.GMLBase.prototype.readMultiPolygon=function(e,t){var r=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(r){var o=new ol.geom.MultiPolygon(null);o.setPolygons(r);return o}else{}};ol.format.GMLBase.prototype.pointMemberParser_=function(e,t){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.lineStringMemberParser_=function(e,t){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.polygonMemberParser_=function(e,t){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.readLineString=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r){var o=new ol.geom.LineString(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);return o}else{}};ol.format.GMLBase.prototype.readFlatLinearRing_=function(e,t){var r=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this);if(r){return r}else{}};ol.format.GMLBase.prototype.readLinearRing=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r){var o=new ol.geom.LinearRing(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);return o}else{}};ol.format.GMLBase.prototype.readPolygon=function(e,t){var r=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this);if(r&&r[0]){var o=new ol.geom.Polygon(null),n=r[0],a=[n.length],p,l;for(p=1,l=r.length;p<l;++p){ol.array.extend(n,r[p]);a.push(n.length)}o.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,n,a);return o}else{}};ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}};ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}};ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}};ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}};ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}};ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}};ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}};ol.format.GMLBase.prototype.readGeometryFromNode=function(e,t){var r=this.readGeometryElement(e,[this.getReadOptions(e,t?t:{})]);return r?r:null};ol.format.GMLBase.prototype.readFeatures;ol.format.GMLBase.prototype.readFeaturesFromNode=function(e,t){var r={featureType:this.featureType,featureNS:this.featureNS};if(t){ol.obj.assign(r,this.getReadOptions(e,t))}var o=this.readFeaturesInternal(e,[r]);return o||[]};ol.format.GMLBase.prototype.readProjectionFromNode=function(e){return ol.proj.get(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))};goog.provide("ol.format.XSD");goog.require("ol.xml");goog.require("ol.string");ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";ol.format.XSD.readBoolean=function(e){var t=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readBooleanString(t)};ol.format.XSD.readBooleanString=function(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t){return t[1]!==void 0||!1}else{}};ol.format.XSD.readDateTime=function(e){var t=ol.xml.getAllTextContent(e,!1),r=Date.parse(t);return isNaN(r)?void 0:r/1e3};ol.format.XSD.readDecimal=function(e){var t=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readDecimalString(t)};ol.format.XSD.readDecimalString=function(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t){return parseFloat(t[1])}else{}};ol.format.XSD.readNonNegativeInteger=function(e){var t=ol.xml.getAllTextContent(e,!1);return ol.format.XSD.readNonNegativeIntegerString(t)};ol.format.XSD.readNonNegativeIntegerString=function(e){var t=/^\s*(\d+)\s*$/.exec(e);if(t){return parseInt(t[1],10)}else{}};ol.format.XSD.readString=function(e){return ol.xml.getAllTextContent(e,!1).trim()};ol.format.XSD.writeBooleanTextNode=function(e,t){ol.format.XSD.writeStringTextNode(e,t?"1":"0")};ol.format.XSD.writeCDATASection=function(e,t){e.appendChild(ol.xml.DOCUMENT.createCDATASection(t))};ol.format.XSD.writeDateTimeTextNode=function(e,t){var r=new Date(1e3*t),o=r.getUTCFullYear()+"-"+ol.string.padNumber(r.getUTCMonth()+1,2)+"-"+ol.string.padNumber(r.getUTCDate(),2)+"T"+ol.string.padNumber(r.getUTCHours(),2)+":"+ol.string.padNumber(r.getUTCMinutes(),2)+":"+ol.string.padNumber(r.getUTCSeconds(),2)+"Z";e.appendChild(ol.xml.DOCUMENT.createTextNode(o))};ol.format.XSD.writeDecimalTextNode=function(e,t){var r=t.toPrecision();e.appendChild(ol.xml.DOCUMENT.createTextNode(r))};ol.format.XSD.writeNonNegativeIntegerTextNode=function(e,t){var r=t.toString();e.appendChild(ol.xml.DOCUMENT.createTextNode(r))};ol.format.XSD.writeStringTextNode=function(e,t){e.appendChild(ol.xml.DOCUMENT.createTextNode(t))};goog.provide("ol.format.GML3");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML3=function(e){var t=e?e:{};ol.format.GMLBase.call(this,t);this.surface_=t.surface!==void 0?t.surface:!1;this.curve_=t.curve!==void 0?t.curve:!1;this.multiCurve_=t.multiCurve!==void 0?t.multiCurve:!0;this.multiSurface_=t.multiSurface!==void 0?t.multiSurface:!0;this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML3.schemaLocation_;this.hasZ=t.hasZ!==void 0?t.hasZ:!1};ol.inherits(ol.format.GML3,ol.format.GMLBase);ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd";ol.format.GML3.prototype.readMultiCurve_=function(e,t){var r=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,e,t,this);if(r){var o=new ol.geom.MultiLineString(null);o.setLineStrings(r);return o}else{}};ol.format.GML3.prototype.readMultiSurface_=function(e,t){var r=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,e,t,this);if(r){var o=new ol.geom.MultiPolygon(null);o.setPolygons(r);return o}else{}};ol.format.GML3.prototype.curveMemberParser_=function(e,t){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,e,t,this)};ol.format.GML3.prototype.surfaceMemberParser_=function(e,t){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,e,t,this)};ol.format.GML3.prototype.readPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,e,t,this)};ol.format.GML3.prototype.readSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,e,t,this)};ol.format.GML3.prototype.readPolygonPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this)};ol.format.GML3.prototype.readLineStringSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)};ol.format.GML3.prototype.interiorParser_=function(e,t){var r=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);if(r){var o=t[t.length-1];o.push(r)}};ol.format.GML3.prototype.exteriorParser_=function(e,t){var r=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);if(r){var o=t[t.length-1];o[0]=r}};ol.format.GML3.prototype.readSurface_=function(e,t){var r=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,e,t,this);if(r&&r[0]){var o=new ol.geom.Polygon(null),n=r[0],a=[n.length],p,l;for(p=1,l=r.length;p<l;++p){ol.array.extend(n,r[p]);a.push(n.length)}o.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,n,a);return o}else{}};ol.format.GML3.prototype.readCurve_=function(e,t){var r=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,e,t,this);if(r){var o=new ol.geom.LineString(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);return o}else{}};ol.format.GML3.prototype.readEnvelope_=function(e,t){var r=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,e,t,this);return ol.extent.createOrUpdate(r[1][0],r[1][1],r[2][0],r[2][1])};ol.format.GML3.prototype.readFlatPos_=function(e,t){var r=ol.xml.getAllTextContent(e,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,n=[],a;while(a=o.exec(r)){n.push(parseFloat(a[1]));r=r.substr(a[0].length)}if(""!==r){return}var p=t[0],l=p.srsName,c="enu";if(l){var d=ol.proj.get(l);c=d.getAxisOrientation()}if("neu"===c){var g,u;for(g=0,u=n.length;g<u;g+=3){var _=n[g],y=n[g+1];n[g]=y;n[g+1]=_}}var f=n.length;if(2==f){n.push(0)}if(0===f){return}return n};ol.format.GML3.prototype.readFlatPosList_=function(e,t){var r=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),o=t[0],n=o.srsName,a=o.srsDimension,p="enu";if(n){var l=ol.proj.get(n);p=l.getAxisOrientation()}var s=r.split(/\s+/),c=2;if(e.getAttribute("srsDimension")){c=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension"))}else if(e.getAttribute("dimension")){c=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension"))}else if(e.parentNode.getAttribute("srsDimension")){c=ol.format.XSD.readNonNegativeIntegerString(e.parentNode.getAttribute("srsDimension"))}else if(a){c=ol.format.XSD.readNonNegativeIntegerString(a)}for(var d,g,m,u=[],_=0,f=s.length;_<f;_+=c){d=parseFloat(s[_]);g=parseFloat(s[_+1]);m=3===c?parseFloat(s[_+2]):0;if("en"===p.substr(0,2)){u.push(d,g,m)}else{u.push(g,d,m)}}return u};ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}};ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}};ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}};ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}};ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}};ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}};ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}};ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}};ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}};ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}};ol.format.GML3.prototype.writePos_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=i?3:2;e.setAttribute("srsDimension",n);var a=o.srsName,p="enu";if(a){p=ol.proj.get(a).getAxisOrientation()}var l=t.getCoordinates(),s;if("en"===p.substr(0,2)){s=l[0]+" "+l[1]}else{s=l[1]+" "+l[0]}if(i){var y=l[2]||0;s+=" "+y}ol.format.XSD.writeStringTextNode(e,s)};ol.format.GML3.prototype.getCoords_=function(e,t,r){var o="enu";if(t){o=ol.proj.get(t).getAxisOrientation()}var i="en"===o.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];if(r){var n=e[2]||0;i+=" "+n}return i};ol.format.GML3.prototype.writePosList_=function(e,t,r){var o=r[r.length-1],n=o.hasZ,a=n?3:2;e.setAttribute("srsDimension",a);for(var p=o.srsName,l=t.getCoordinates(),s=l.length,y=Array(s),c,d=0;d<s;++d){c=l[d];y[d]=this.getCoords_(c,p,n)}ol.format.XSD.writeStringTextNode(e,y.join(" "))};ol.format.GML3.prototype.writePoint_=function(e,t,r){var o=r[r.length-1],i=o.srsName;if(i){e.setAttribute("srsName",i)}var n=ol.xml.createElementNS(e.namespaceURI,"pos");e.appendChild(n);this.writePos_(n,t,r)};ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.GML3.prototype.writeEnvelope=function(e,t,r){var o=r[r.length-1],i=o.srsName;if(i){e.setAttribute("srsName",i)}var n=[t[0]+" "+t[1],t[2]+" "+t[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,n,r,["lowerCorner","upperCorner"],this)};ol.format.GML3.prototype.writeLinearRing_=function(e,t,r){var o=r[r.length-1],i=o.srsName;if(i){e.setAttribute("srsName",i)}var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n);this.writePosList_(n,t,r)};ol.format.GML3.prototype.RING_NODE_FACTORY_=function(e,t){var r=t[t.length-1],o=r.node,i=r.exteriorWritten;if(i===void 0){r.exteriorWritten=!0}return ol.xml.createElementNS(o.namespaceURI,i!==void 0?"interior":"exterior")};ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName;if("PolygonPatch"!==e.nodeName&&n){e.setAttribute("srsName",n)}if("Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===e.nodeName){var p=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(p);this.writeSurfacePatches_(p,t,r)}};ol.format.GML3.prototype.writeCurveOrLineString_=function(e,t,r){var o=r[r.length-1],i=o.srsName;if("LineStringSegment"!==e.nodeName&&i){e.setAttribute("srsName",i)}if("LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n);this.writePosList_(n,t,r)}else if("Curve"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(a);this.writeCurveSegments_(a,t,r)}};ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName,a=o.surface;if(n){e.setAttribute("srsName",n)}var p=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,surface:a},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)};ol.format.GML3.prototype.writeMultiPoint_=function(e,t,r){var o=r[r.length-1],i=o.srsName,n=o.hasZ;if(i){e.setAttribute("srsName",i)}var a=t.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),a,r,void 0,this)};ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName,a=o.curve;if(n){e.setAttribute("srsName",n)}var p=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,curve:a},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)};ol.format.GML3.prototype.writeRing_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(o);this.writeLinearRing_(o,t,r)};ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var o=this.GEOMETRY_NODE_FACTORY_(t,r);if(o){e.appendChild(o);this.writeSurfaceOrPolygon_(o,t,r)}};ol.format.GML3.prototype.writePointMember_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(o);this.writePoint_(o,t,r)};ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(e,t,r){var o=this.GEOMETRY_NODE_FACTORY_(t,r);if(o){e.appendChild(o);this.writeCurveOrLineString_(o,t,r)}};ol.format.GML3.prototype.writeSurfacePatches_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(o);this.writeSurfaceOrPolygon_(o,t,r)};ol.format.GML3.prototype.writeCurveSegments_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(o);this.writeCurveOrLineString_(o,t,r)};ol.format.GML3.prototype.writeGeometryElement=function(e,t,r){var o=r[r.length-1],i=ol.obj.assign({},o);i.node=e;var n;if(Array.isArray(t)){if(o.dataProjection){n=ol.proj.transformExtent(t,o.featureProjection,o.dataProjection)}else{n=t}}else{n=ol.format.Feature.transformWithOptions(t,!0,o)}ol.xml.pushSerializeAndPop(i,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)};ol.format.GML3.prototype.writeFeatureElement=function(e,t,r){var o=t.getId();if(o){e.setAttribute("fid",o)}var i=r[r.length-1],n=i.featureNS,a=t.getGeometryName();if(!i.serializers){i.serializers={};i.serializers[n]={}}var p=t.getProperties(),l=[],s=[];for(var y in p){var c=p[y];if(null!==c){l.push(y);s.push(c);if(y==a||c instanceof ol.geom.Geometry){if(!(y in i.serializers[n])){i.serializers[n][y]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else{if(!(y in i.serializers[n])){i.serializers[n][y]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var d=ol.obj.assign({},i);d.node=e;ol.xml.pushSerializeAndPop(d,i.serializers,ol.xml.makeSimpleNodeFactory(void 0,n),s,r,l)};ol.format.GML3.prototype.writeFeatureMembers_=function(e,t,r){var o=r[r.length-1],i=o.featureType,n=o.featureNS,a={};a[n]={};a[n][i]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var p=ol.obj.assign({},o);p.node=e;ol.xml.pushSerializeAndPop(p,a,ol.xml.makeSimpleNodeFactory(i,n),t,r)};ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}};ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}};ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}};ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}};ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t){var r=t[t.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])};ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(e,t){var r=t[t.length-1],o=r.multiSurface,i=r.surface,n=r.curve,a=r.multiCurve,p;if(!Array.isArray(e)){p=e.getType();if("MultiPolygon"===p&&!0===o){p="MultiSurface"}else if("Polygon"===p&&!0===i){p="Surface"}else if("LineString"===p&&!0===n){p="Curve"}else if("MultiLineString"===p&&!0===a){p="MultiCurve"}}else{p="Envelope"}return ol.xml.createElementNS("http://www.opengis.net/gml",p)};ol.format.GML3.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var r=ol.xml.createElementNS("http://www.opengis.net/gml","geom"),o={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(t){ol.obj.assign(o,t)}this.writeGeometryElement(r,e,[o]);return r};ol.format.GML3.prototype.writeFeatures;ol.format.GML3.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(r,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(t){ol.obj.assign(o,t)}this.writeFeatureMembers_(r,e,[o]);return r};goog.provide("ol.format.GML");goog.require("ol.format.GML3");ol.format.GML=ol.format.GML3;ol.format.GML.prototype.writeFeatures;ol.format.GML.prototype.writeFeaturesNode;goog.provide("ol.format.GML2");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML2=function(e){var t=e?e:{};ol.format.GMLBase.call(this,t);this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML2.schemaLocation_};ol.inherits(ol.format.GML2,ol.format.GMLBase);ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd";ol.format.GML2.prototype.readFlatCoordinates_=function(e,t){var r=ol.xml.getAllTextContent(e,!1).replace(/^\s*|\s*$/g,""),o=t[0],n=o.srsName,a="enu";if(n){var p=ol.proj.get(n);if(p){a=p.getAxisOrientation()}}for(var l=r.trim().split(/\s+/),s,c,d,g=[],m=0,u=l.length,_;m<u;m++){_=l[m].split(/,+/);s=parseFloat(_[0]);c=parseFloat(_[1]);d=3===_.length?parseFloat(_[2]):0;if("en"===a.substr(0,2)){g.push(s,c,d)}else{g.push(c,s,d)}}return g};ol.format.GML2.prototype.readBox_=function(e,t){var r=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,e,t,this);return ol.extent.createOrUpdate(r[1][0],r[1][1],r[1][3],r[1][4])};ol.format.GML2.prototype.innerBoundaryIsParser_=function(e,t){var r=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);if(r){var o=t[t.length-1];o.push(r)}};ol.format.GML2.prototype.outerBoundaryIsParser_=function(e,t){var r=ol.xml.pushParseAndPop(void 0,this.RING_PARSERS,e,t,this);if(r){var o=t[t.length-1];o[0]=r}};ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}};ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}};ol.format.GML2.prototype.GEOMETRY_NODE_FACTORY_=function(e,t){var r=t[t.length-1],o=r.multiSurface,i=r.surface,n=r.multiCurve,a;if(!Array.isArray(e)){a=e.getType();if("MultiPolygon"===a&&!0===o){a="MultiSurface"}else if("Polygon"===a&&!0===i){a="Surface"}else if("MultiLineString"===a&&!0===n){a="MultiCurve"}}else{a="Envelope"}return ol.xml.createElementNS("http://www.opengis.net/gml",a)};ol.format.GML2.prototype.writeFeatureElement=function(e,t,r){var o=t.getId();if(o){e.setAttribute("fid",o)}var i=r[r.length-1],n=i.featureNS,a=t.getGeometryName();if(!i.serializers){i.serializers={};i.serializers[n]={}}var p=t.getProperties(),l=[],s=[];for(var y in p){var c=p[y];if(null!==c){l.push(y);s.push(c);if(y==a||c instanceof ol.geom.Geometry){if(!(y in i.serializers[n])){i.serializers[n][y]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else{if(!(y in i.serializers[n])){i.serializers[n][y]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var d=ol.obj.assign({},i);d.node=e;ol.xml.pushSerializeAndPop(d,i.serializers,ol.xml.makeSimpleNodeFactory(void 0,n),s,r,l)};ol.format.GML2.prototype.writeGeometryElement=function(e,t,r){var o=r[r.length-1],i=ol.obj.assign({},o);i.node=e;var n;if(Array.isArray(t)){if(o.dataProjection){n=ol.proj.transformExtent(t,o.featureProjection,o.dataProjection)}else{n=t}}else{n=ol.format.Feature.transformWithOptions(t,!0,o)}ol.xml.pushSerializeAndPop(i,ol.format.GML2.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)};ol.format.GML2.prototype.writeCurveOrLineString_=function(e,t,r){var o=r[r.length-1],i=o.srsName;if("LineStringSegment"!==e.nodeName&&i){e.setAttribute("srsName",i)}if("LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n);this.writeCoordinates_(n,t,r)}else if("Curve"===e.nodeName){var a=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(a);this.writeCurveSegments_(a,t,r)}};ol.format.GML2.prototype.createCoordinatesNode_=function(e){var t=ol.xml.createElementNS(e,"coordinates");t.setAttribute("decimal",".");t.setAttribute("cs",",");t.setAttribute("ts"," ");return t};ol.format.GML2.prototype.writeCoordinates_=function(e,t,r){for(var o=r[r.length-1],n=o.hasZ,a=o.srsName,p=t.getCoordinates(),l=p.length,s=Array(l),y,c=0;c<l;++c){y=p[c];s[c]=this.getCoords_(y,a,n)}ol.format.XSD.writeStringTextNode(e,s.join(" "))};ol.format.GML2.prototype.writeCurveSegments_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(o);this.writeCurveOrLineString_(o,t,r)};ol.format.GML2.prototype.writeSurfaceOrPolygon_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName;if("PolygonPatch"!==e.nodeName&&n){e.setAttribute("srsName",n)}if("Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML2.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===e.nodeName){var p=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(p);this.writeSurfacePatches_(p,t,r)}};ol.format.GML2.prototype.RING_NODE_FACTORY_=function(e,t){var r=t[t.length-1],o=r.node,i=r.exteriorWritten;if(i===void 0){r.exteriorWritten=!0}return ol.xml.createElementNS(o.namespaceURI,i!==void 0?"innerBoundaryIs":"outerBoundaryIs")};ol.format.GML2.prototype.writeSurfacePatches_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(o);this.writeSurfaceOrPolygon_(o,t,r)};ol.format.GML2.prototype.writeRing_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(o);this.writeLinearRing_(o,t,r)};ol.format.GML2.prototype.getCoords_=function(e,t,r){var o="enu";if(t){o=ol.proj.get(t).getAxisOrientation()}var i="en"===o.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];if(r){var n=e[2]||0;i+=","+n}return i};ol.format.GML2.prototype.writeMultiCurveOrLineString_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName,a=o.curve;if(n){e.setAttribute("srsName",n)}var p=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,curve:a},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)};ol.format.GML2.prototype.writePoint_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName;if(n){e.setAttribute("srsName",n)}var a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a);var p=t.getCoordinates(),l=this.getCoords_(p,n,i);ol.format.XSD.writeStringTextNode(a,l)};ol.format.GML2.prototype.writeMultiPoint_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName;if(n){e.setAttribute("srsName",n)}var a=t.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML2.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),a,r,void 0,this)};ol.format.GML2.prototype.writePointMember_=function(e,t,r){var o=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(o);this.writePoint_(o,t,r)};ol.format.GML2.prototype.writeLineStringOrCurveMember_=function(e,t,r){var o=this.GEOMETRY_NODE_FACTORY_(t,r);if(o){e.appendChild(o);this.writeCurveOrLineString_(o,t,r)}};ol.format.GML2.prototype.writeLinearRing_=function(e,t,r){var o=r[r.length-1],i=o.srsName;if(i){e.setAttribute("srsName",i)}var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n);this.writeCoordinates_(n,t,r)};ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var o=r[r.length-1],i=o.hasZ,n=o.srsName,a=o.surface;if(n){e.setAttribute("srsName",n)}var p=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,surface:a},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,p,r,void 0,this)};ol.format.GML2.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var o=this.GEOMETRY_NODE_FACTORY_(t,r);if(o){e.appendChild(o);this.writeSurfaceOrPolygon_(o,t,r)}};ol.format.GML2.prototype.writeEnvelope=function(e,t,r){var o=r[r.length-1],i=o.srsName;if(i){e.setAttribute("srsName",i)}var n=[t[0]+" "+t[1],t[2]+" "+t[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML2.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,n,r,["lowerCorner","upperCorner"],this)};ol.format.GML2.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeEnvelope)}};ol.format.GML2.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_)}};ol.format.GML2.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePointMember_)}};ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_)}};ol.format.GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t){var r=t[t.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])};ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML2.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};goog.provide("ol.format.GPX");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.Point");goog.require("ol.proj");goog.require("ol.xml");ol.format.GPX=function(e){var t=e?e:{};ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.readExtensions_=t.readExtensions};ol.inherits(ol.format.GPX,ol.format.XMLFeature);ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd";ol.format.GPX.appendCoordinate_=function(e,t,r,o){e.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat")));if("ele"in o){e.push(o.ele);delete o.ele;t.hasZ=!0}else{e.push(0)}if("time"in o){e.push(o.time);delete o.time;t.hasM=!0}else{e.push(0)}return e};ol.format.GPX.applyLayoutOptions_=function(e,t,r){var o=ol.geom.GeometryLayout.XY,n=2;if(e.hasZ&&e.hasM){o=ol.geom.GeometryLayout.XYZM;n=4}else if(e.hasZ){o=ol.geom.GeometryLayout.XYZ;n=3}else if(e.hasM){o=ol.geom.GeometryLayout.XYM;n=3}if(4!==n){var a,p;for(a=0,p=t.length/4;a<p;a++){t[a*n]=t[4*a];t[a*n+1]=t[4*a+1];if(e.hasZ){t[a*n+2]=t[4*a+2]}if(e.hasM){t[a*n+2]=t[4*a+3]}}t.length=t.length/4*n;if(r){for(a=0,p=r.length;a<p;a++){r[a]=r[a]/4*n}}}return o};ol.format.GPX.parseLink_=function(e,t){var r=t[t.length-1],o=e.getAttribute("href");if(null!==o){r.link=o}ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,e,t)};ol.format.GPX.parseExtensions_=function(e,t){var r=t[t.length-1];r.extensionsNode_=e};ol.format.GPX.parseRtePt_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,e,t);if(r){var o=t[t.length-1],i=o.flatCoordinates,n=o.layoutOptions;ol.format.GPX.appendCoordinate_(i,n,e,r)}};ol.format.GPX.parseTrkPt_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,e,t);if(r){var o=t[t.length-1],i=o.flatCoordinates,n=o.layoutOptions;ol.format.GPX.appendCoordinate_(i,n,e,r)}};ol.format.GPX.parseTrkSeg_=function(e,t){var r=t[t.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,t);var o=r.flatCoordinates,i=r.ends;i.push(o.length)};ol.format.GPX.readRte_=function(e,t){var r=t[0],o=ol.xml.pushParseAndPop({flatCoordinates:[],layoutOptions:{}},ol.format.GPX.RTE_PARSERS_,e,t);if(!o){return}var i=o.flatCoordinates;delete o.flatCoordinates;var n=o.layoutOptions;delete o.layoutOptions;var a=ol.format.GPX.applyLayoutOptions_(n,i),p=new ol.geom.LineString(null);p.setFlatCoordinates(a,i);ol.format.Feature.transformWithOptions(p,!1,r);var l=new ol.Feature(p);l.setProperties(o);return l};ol.format.GPX.readTrk_=function(e,t){var r=t[0],o=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},ol.format.GPX.TRK_PARSERS_,e,t);if(!o){return}var i=o.flatCoordinates;delete o.flatCoordinates;var n=o.ends;delete o.ends;var a=o.layoutOptions;delete o.layoutOptions;var p=ol.format.GPX.applyLayoutOptions_(a,i,n),l=new ol.geom.MultiLineString(null);l.setFlatCoordinates(p,i,n);ol.format.Feature.transformWithOptions(l,!1,r);var s=new ol.Feature(l);s.setProperties(o);return s};ol.format.GPX.readWpt_=function(e,t){var r=t[0],o=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,e,t);if(!o){return}var i={},n=ol.format.GPX.appendCoordinate_([],i,e,o),a=ol.format.GPX.applyLayoutOptions_(i,n),p=new ol.geom.Point(n,a);ol.format.Feature.transformWithOptions(p,!1,r);var l=new ol.Feature(p);l.setProperties(o);return l};ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_};ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)});ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")});ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_});ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_});ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_});ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_});ol.format.GPX.prototype.handleReadExtensions_=function(e){if(!e){e=[]}for(var t=0,r=e.length,o;t<r;++t){o=e[t];if(this.readExtensions_){var n=o.get("extensionsNode_")||null;this.readExtensions_(o,n)}o.set("extensionsNode_",void 0)}};ol.format.GPX.prototype.readFeature;ol.format.GPX.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI)){return null}var r=ol.format.GPX.FEATURE_READER_[e.localName];if(!r){return null}var o=r(e,[this.getReadOptions(e,t)]);if(!o){return null}this.handleReadExtensions_([o]);return o};ol.format.GPX.prototype.readFeatures;ol.format.GPX.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI)){return[]}if("gpx"==e.localName){var r=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,e,[this.getReadOptions(e,t)]);if(r){this.handleReadExtensions_(r);return r}else{return[]}}return[]};ol.format.GPX.prototype.readProjection;ol.format.GPX.writeLink_=function(e,t,r){e.setAttribute("href",t);var o=r[r.length-1],i=o.properties,n=[i.linkText,i.linkType];ol.xml.pushSerializeAndPop({node:e},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,n,r,ol.format.GPX.LINK_SEQUENCE_)};ol.format.GPX.writeWptType_=function(e,t,r){var o=r[r.length-1],i=o.node,n=i.namespaceURI,a=o.properties;ol.xml.setAttributeNS(e,null,"lat",t[1]);ol.xml.setAttributeNS(e,null,"lon",t[0]);var p=o.geometryLayout;switch(p){case ol.geom.GeometryLayout.XYZM:if(0!==t[3]){a.time=t[3]}case ol.geom.GeometryLayout.XYZ:if(0!==t[2]){a.ele=t[2]}break;case ol.geom.GeometryLayout.XYM:if(0!==t[2]){a.time=t[2]}break;default:}var l="rtept"==e.nodeName?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[n]:ol.format.GPX.WPT_TYPE_SEQUENCE_[n],s=ol.xml.makeSequence(a,l);ol.xml.pushSerializeAndPop({node:e,properties:a},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,r,l)};ol.format.GPX.writeRte_=function(e,t,r){var o=r[0],i=t.getProperties(),n={node:e,properties:i},a=t.getGeometry();if(a){a=ol.format.Feature.transformWithOptions(a,!0,o);n.geometryLayout=a.getLayout();i.rtept=a.getCoordinates()}var p=r[r.length-1].node,l=ol.format.GPX.RTE_SEQUENCE_[p.namespaceURI],s=ol.xml.makeSequence(i,l);ol.xml.pushSerializeAndPop(n,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,r,l)};ol.format.GPX.writeTrk_=function(e,t,r){var o=r[0],i=t.getProperties(),n=t.getGeometry();if(n){n=ol.format.Feature.transformWithOptions(n,!0,o);i.trkseg=n.getLineStrings()}var a=r[r.length-1].node,p=ol.format.GPX.TRK_SEQUENCE_[a.namespaceURI],l=ol.xml.makeSequence(i,p);ol.xml.pushSerializeAndPop({node:e,properties:i},ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,r,p)};ol.format.GPX.writeTrkSeg_=function(e,t,r){var o={node:e,geometryLayout:t.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(o,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,t.getCoordinates(),r)};ol.format.GPX.writeWpt_=function(e,t,r){var o=r[0],i=r[r.length-1];i.properties=t.getProperties();var n=t.getGeometry();if(n){n=ol.format.Feature.transformWithOptions(n,!0,o);i.geometryLayout=n.getLayout();ol.format.GPX.writeWptType_(e,n.getCoordinates(),r)}};ol.format.GPX.LINK_SEQUENCE_=["text","type"];ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)});ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]);ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))});ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]);ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]);ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))});ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt");ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)});ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]);ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)});ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"};ol.format.GPX.GPX_NODE_FACTORY_=function(e,t){var r=e.getGeometry();if(r){var o=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[r.getType()];if(o){var i=t[t.length-1].node;return ol.xml.createElementNS(i.namespaceURI,o)}}};ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)});ol.format.GPX.prototype.writeFeatures;ol.format.GPX.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx"),o="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(r,"http://www.w3.org/2000/xmlns/","xmlns:xsi",o);ol.xml.setAttributeNS(r,o,"xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_);r.setAttribute("version","1.1");r.setAttribute("creator","OpenLayers");ol.xml.pushSerializeAndPop({node:r},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,e,[t]);return r};goog.provide("ol.format.IGCZ");ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"};goog.provide("ol.format.TextFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.TextFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.TextFeature,ol.format.Feature);ol.format.TextFeature.prototype.getText_=function(e){if("string"==typeof e){return e}else{return""}};ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT};ol.format.TextFeature.prototype.readFeature=function(e,t){return this.readFeatureFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readFeatureFromText=function(){};ol.format.TextFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readFeaturesFromText=function(){};ol.format.TextFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readGeometryFromText=function(){};ol.format.TextFeature.prototype.readProjection=function(e){return this.readProjectionFromText(this.getText_(e))};ol.format.TextFeature.prototype.readProjectionFromText=function(){return this.defaultDataProjection};ol.format.TextFeature.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeFeatureText=function(){};ol.format.TextFeature.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeFeaturesText=function(){};ol.format.TextFeature.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeGeometryText=function(){};goog.provide("ol.format.IGC");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.IGCZ");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.proj");ol.format.IGC=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.altitudeMode_=t.altitudeMode?t.altitudeMode:ol.format.IGCZ.NONE};ol.inherits(ol.format.IGC,ol.format.TextFeature);ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/;ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/;ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/;ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/;ol.format.IGC.prototype.readFeature;ol.format.IGC.prototype.readFeatureFromText=function(e,t){var r=this.altitudeMode_,o=e.split(ol.format.IGC.NEWLINE_RE_),n={},a=[],p=2e3,l=0,s=1,c=-1,d,g;for(d=0,g=o.length;d<g;++d){var u=o[d],_;if("B"==u.charAt(0)){_=ol.format.IGC.B_RECORD_RE_.exec(u);if(_){var f=parseInt(_[1],10),S=parseInt(_[2],10),P=parseInt(_[3],10),T=parseInt(_[4],10)+parseInt(_[5],10)/6e4;if("S"==_[6]){T=-T}var E=parseInt(_[7],10)+parseInt(_[8],10)/6e4;if("W"==_[9]){E=-E}a.push(E,T);if(r!=ol.format.IGCZ.NONE){var h;if(r==ol.format.IGCZ.GPS){h=parseInt(_[11],10)}else if(r==ol.format.IGCZ.BAROMETRIC){h=parseInt(_[12],10)}else{h=0}a.push(h)}var v=Date.UTC(p,l,s,f,S,P);if(v<c){v=Date.UTC(p,l,s+1,f,S,P)}a.push(v/1e3);c=v}}else if("H"==u.charAt(0)){_=ol.format.IGC.HFDTE_RECORD_RE_.exec(u);if(_){s=parseInt(_[1],10);l=parseInt(_[2],10)-1;p=2e3+parseInt(_[3],10)}else{_=ol.format.IGC.H_RECORD_RE_.exec(u);if(_){n[_[1]]=_[2].trim()}}}}if(0===a.length){return null}var R=new ol.geom.LineString(null),C=r==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;R.setFlatCoordinates(C,a);var L=new ol.Feature(ol.format.Feature.transformWithOptions(R,!1,t));L.setProperties(n);return L};ol.format.IGC.prototype.readFeatures;ol.format.IGC.prototype.readFeaturesFromText=function(e,t){var r=this.readFeatureFromText(e,t);if(r){return[r]}else{return[]}};ol.format.IGC.prototype.readProjection;ol.format.IGC.prototype.writeFeatureText=function(){};ol.format.IGC.prototype.writeFeaturesText=function(){};ol.format.IGC.prototype.writeGeometryText=function(){};ol.format.IGC.prototype.readGeometryFromText=function(){};goog.provide("ol.style.IconAnchorUnits");ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"};goog.provide("ol.style.IconImage");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");goog.require("ol.ImageState");goog.require("ol.style");ol.style.IconImage=function(e,t,r,o,i,n){ol.events.EventTarget.call(this);this.hitDetectionImage_=null;this.image_=!e?new Image:e;if(null!==o){this.image_.crossOrigin=o}this.canvas_=n?document.createElement("CANVAS"):null;this.color_=n;this.imageListenerKeys_=null;this.imageState_=i;this.size_=r;this.src_=t;this.tainting_=!1;if(this.imageState_==ol.ImageState.LOADED){this.determineTainting_()}};ol.inherits(ol.style.IconImage,ol.events.EventTarget);ol.style.IconImage.get=function(e,t,r,o,i,n){var a=ol.style.iconImageCache,p=a.get(t,o,n);if(!p){p=new ol.style.IconImage(e,t,r,o,i,n);a.set(t,o,n,p)}return p};ol.style.IconImage.prototype.determineTainting_=function(){var e=ol.dom.createCanvasContext2D(1,1);try{e.drawImage(this.image_,0,0);e.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}};ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.getImage=function(){return this.canvas_?this.canvas_:this.image_};ol.style.IconImage.prototype.getImageState=function(){return this.imageState_};ol.style.IconImage.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_){if(this.tainting_){var e=this.size_[0],t=this.size_[1],r=ol.dom.createCanvasContext2D(e,t);r.fillRect(0,0,e,t);this.hitDetectionImage_=r.canvas}else{this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};ol.style.IconImage.prototype.getSize=function(){return this.size_};ol.style.IconImage.prototype.getSrc=function(){return this.src_};ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING;this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}};ol.style.IconImage.prototype.replaceColor_=function(){if(this.tainting_||null===this.color_){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),o=t.data,n=this.color_[0]/255,r=this.color_[1]/255,a=this.color_[2]/255,p=0,l=o.length;p<l;p+=4){o[p]*=n;o[p+1]*=r;o[p+2]*=a}e.putImageData(t,0,0)};ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.style.IconOrigin");ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};goog.provide("ol.style.Icon");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconImage");goog.require("ol.style.IconOrigin");goog.require("ol.style.Image");ol.style.Icon=function(e){var t=e||{};this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:ol.style.IconOrigin.TOP_LEFT;this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:ol.style.IconAnchorUnits.FRACTION;this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;var r=t.img!==void 0?t.img:null,o=t.imgSize!==void 0?t.imgSize:null,i=t.src;ol.asserts.assert(!(i!==void 0&&r),4);ol.asserts.assert(!r||r&&o,5);if((i===void 0||0===i.length)&&r){i=r.src||ol.getUid(r).toString()}ol.asserts.assert(i!==void 0&&0<i.length,6);var n=t.src!==void 0?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=t.color!==void 0?ol.color.asArray(t.color):null;this.iconImage_=ol.style.IconImage.get(r,i,o,this.crossOrigin_,n,this.color_);this.offset_=t.offset!==void 0?t.offset:[0,0];this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:ol.style.IconOrigin.TOP_LEFT;this.origin_=null;this.size_=t.size!==void 0?t.size:null;var a=t.opacity!==void 0?t.opacity:1,p=t.rotateWithView!==void 0?t.rotateWithView:!1,l=t.rotation!==void 0?t.rotation:0,s=t.scale!==void 0?t.scale:1,y=t.snapToPixel!==void 0?t.snapToPixel:!0;ol.style.Image.call(this,{opacity:a,rotation:l,scale:s,snapToPixel:y,rotateWithView:p})};ol.inherits(ol.style.Icon,ol.style.Image);ol.style.Icon.prototype.clone=function(){return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!t){return null}e=this.anchor_.slice();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION){e[0]*=t[0]}if(this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){e[1]*=t[1]}}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!t){return null}if(e===this.anchor_){e=this.anchor_.slice()}if(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[0]=-e[0]+t[0]}if(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[1]=-e[1]+t[1]}}this.normalizedAnchor_=e;return this.normalizedAnchor_};ol.style.Icon.prototype.getColor=function(){return this.color_};ol.style.Icon.prototype.getImage=function(e){return this.iconImage_.getImage(e)};ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()};ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()};ol.style.Icon.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)};ol.style.Icon.prototype.getOrigin=function(){if(this.origin_){return this.origin_}var e=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r){return null}e=e.slice();if(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[0]=r[0]-t[0]-e[0]}if(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[1]=r[1]-t[1]-e[1]}}this.origin_=e;return this.origin_};ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()};ol.style.Icon.prototype.getSize=function(){return!this.size_?this.iconImage_.getSize():this.size_};ol.style.Icon.prototype.listenImageChange=function(e,t){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,e,t)};ol.style.Icon.prototype.load=function(){this.iconImage_.load()};ol.style.Icon.prototype.unlistenImageChange=function(e,t){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,e,t)};goog.provide("ol.style.Text");goog.require("ol.style.Fill");goog.require("ol.style.TextPlacement");ol.style.Text=function(e){var t=e||{};this.font_=t.font;this.rotation_=t.rotation;this.rotateWithView_=t.rotateWithView;this.scale_=t.scale;this.text_=t.text;this.textAlign_=t.textAlign;this.textBaseline_=t.textBaseline;this.fill_=t.fill!==void 0?t.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_});this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4;this.placement_=t.placement!==void 0?t.placement:ol.style.TextPlacement.POINT;this.exceedLength_=t.exceedLength!==void 0?t.exceedLength:!1;this.stroke_=t.stroke!==void 0?t.stroke:null;this.offsetX_=t.offsetX!==void 0?t.offsetX:0;this.offsetY_=t.offsetY!==void 0?t.offsetY:0};ol.style.Text.DEFAULT_FILL_COLOR_="#333";ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),exceedLength:this.getExceedLength(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})};ol.style.Text.prototype.getExceedLength=function(){return this.exceedLength_};ol.style.Text.prototype.getFont=function(){return this.font_};ol.style.Text.prototype.getMaxAngle=function(){return this.maxAngle_};ol.style.Text.prototype.getPlacement=function(){return this.placement_};ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_};ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_};ol.style.Text.prototype.getFill=function(){return this.fill_};ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Text.prototype.getRotation=function(){return this.rotation_};ol.style.Text.prototype.getScale=function(){return this.scale_};ol.style.Text.prototype.getStroke=function(){return this.stroke_};ol.style.Text.prototype.getText=function(){return this.text_};ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_};ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_};ol.style.Text.prototype.setExceedLength=function(e){this.exceedLength_=e};ol.style.Text.prototype.setFont=function(e){this.font_=e};ol.style.Text.prototype.setMaxAngle=function(e){this.maxAngle_=e};ol.style.Text.prototype.setOffsetX=function(e){this.offsetX_=e};ol.style.Text.prototype.setOffsetY=function(e){this.offsetY_=e};ol.style.Text.prototype.setPlacement=function(e){this.placement_=e};ol.style.Text.prototype.setFill=function(e){this.fill_=e};ol.style.Text.prototype.setRotation=function(e){this.rotation_=e};ol.style.Text.prototype.setScale=function(e){this.scale_=e};ol.style.Text.prototype.setStroke=function(e){this.stroke_=e};ol.style.Text.prototype.setText=function(e){this.text_=e};ol.style.Text.prototype.setTextAlign=function(e){this.textAlign_=e};ol.style.Text.prototype.setTextBaseline=function(e){this.textBaseline_=e};goog.provide("ol.format.KML");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconOrigin");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.xml");ol.format.KML=function(e){var t=e?e:{};ol.format.XMLFeature.call(this);if(!ol.format.KML.DEFAULT_STYLE_ARRAY_){ol.format.KML.createStyleDefaults_()}this.defaultDataProjection=ol.proj.get("EPSG:4326");this.defaultStyle_=t.defaultStyle?t.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_;this.extractStyles_=t.extractStyles!==void 0?t.extractStyles:!0;this.writeStyles_=t.writeStyles!==void 0?t.writeStyles:!0;this.sharedStyles_={};this.showPointNames_=t.showPointNames!==void 0?t.showPointNames:!0};ol.inherits(ol.format.KML,ol.format.XMLFeature);ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"];ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"];ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd";ol.format.KML.createStyleDefaults_=function(){ol.format.KML.DEFAULT_COLOR_=[255,255,255,1];ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_});ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2];ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64];ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5;ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_});ol.format.KML.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE";ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1});ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2});ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8});ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0});ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_];return ol.format.KML.DEFAULT_STYLE_ARRAY_};ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS,insetPixels:ol.style.IconAnchorUnits.PIXELS};ol.format.KML.createNameStyleFunction_=function(e,t){var r=null,o=[0,0],i="start";if(e.getImage()){var n=e.getImage().getImageSize();if(null===n){n=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_}if(2==n.length){var a=e.getImage().getScale();o[0]=a*n[0]/2;o[1]=-a*n[1]/2;i="left"}}if(null!==e.getText()){var p=e.getText();r=p.clone();r.setFont(p.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont());r.setScale(p.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale());r.setFill(p.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill());r.setStroke(p.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else{r=ol.format.KML.DEFAULT_TEXT_STYLE_.clone()}r.setText(t);r.setOffsetX(o[0]);r.setOffsetY(o[1]);r.setTextAlign(i);var l=new ol.style.Style({text:r});return l};ol.format.KML.createFeatureStyleFunction_=function(e,t,r,o,i){return function(){var n=i,a,p="";if(n){if(this.getGeometry()){n=this.getGeometry().getType()===ol.geom.GeometryType.POINT}}if(n){p=this.get("name");n=n&&p}if(e){if(n){a=ol.format.KML.createNameStyleFunction_(e[0],p);return e.concat(a)}return e}if(t){var l=ol.format.KML.findStyle_(t,r,o);if(n){a=ol.format.KML.createNameStyleFunction_(l[0],p);return l.concat(a)}return l}if(n){a=ol.format.KML.createNameStyleFunction_(r[0],p);return r.concat(a)}return r}};ol.format.KML.findStyle_=function(e,t,r){if(Array.isArray(e)){return e}else if("string"==typeof e){if(!(e in r)&&"#"+e in r){e="#"+e}return ol.format.KML.findStyle_(r[e],t,r)}else{return t}};ol.format.KML.readColor_=function(e){var t=ol.xml.getAllTextContent(e,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(r){var o=r[1];return[parseInt(o.substr(6,2),16),parseInt(o.substr(4,2),16),parseInt(o.substr(2,2),16),parseInt(o.substr(0,2),16)/255]}else{}};ol.format.KML.readFlatCoordinates_=function(e){var t=ol.xml.getAllTextContent(e,!1),r=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i,i;while(i=o.exec(t)){var n=parseFloat(i[1]),a=parseFloat(i[2]),p=i[3]?parseFloat(i[3]):0;r.push(n,a,p);t=t.substr(i[0].length)}if(""!==t){return}return r};ol.format.KML.readURI_=function(e){var t=ol.xml.getAllTextContent(e,!1).trim(),r=e.baseURI;if(!r||"about:blank"==r){r=window.location.href}if(r){var o=new URL(t,r);return o.href}else{return t}};ol.format.KML.readVec2_=function(e){var t=e.getAttribute("xunits"),r=e.getAttribute("yunits"),o;if("insetPixels"!==t){if("insetPixels"!==r){o=ol.style.IconOrigin.BOTTOM_LEFT}else{o=ol.style.IconOrigin.TOP_LEFT}}else{if("insetPixels"!==r){o=ol.style.IconOrigin.BOTTOM_RIGHT}else{o=ol.style.IconOrigin.TOP_RIGHT}}return{x:parseFloat(e.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[t],y:parseFloat(e.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[r],origin:o}};ol.format.KML.readScale_=function(e){return ol.format.XSD.readDecimal(e)};ol.format.KML.readStyleMapValue_=function(e,t){return ol.xml.pushParseAndPop(void 0,ol.format.KML.STYLE_MAP_PARSERS_,e,t)};ol.format.KML.IconStyleParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,e,t);if(!r){return}var o=t[t.length-1],i="Icon"in r?r.Icon:{},n=!("Icon"in r)||0<Object.keys(i).length,a,p=i.href;if(p){a=p}else if(n){a=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}var l,s,c,d=ol.style.IconOrigin.BOTTOM_LEFT,g=r.hotSpot;if(g){l=[g.x,g.y];s=g.xunits;c=g.yunits;d=g.origin}else if(a===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){l=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_;s=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_;c=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_}else if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)){l=[.5,0];s=ol.style.IconAnchorUnits.FRACTION;c=ol.style.IconAnchorUnits.FRACTION}var m,u=i.x,_=i.y;if(u!==void 0&&_!==void 0){m=[u,_]}var y,f=i.w,S=i.h;if(f!==void 0&&S!==void 0){y=[f,S]}var x,P=r.heading;if(P!==void 0){x=ol.math.toRadians(P)}var T=r.scale;if(n){if(a==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){y=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_;if(T===void 0){T=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_}}var E=new ol.style.Icon({anchor:l,anchorOrigin:d,anchorXUnits:s,anchorYUnits:c,crossOrigin:"anonymous",offset:m,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:x,scale:T,size:y,src:a});o.imageStyle=E}else{o.imageStyle=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}};ol.format.KML.LabelStyleParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,t);if(!r){return}var o=t[t.length-1],i=new ol.style.Text({fill:new ol.style.Fill({color:"color"in r?r.color:ol.format.KML.DEFAULT_COLOR_}),scale:r.scale});o.textStyle=i};ol.format.KML.LineStyleParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,t);if(!r){return}var o=t[t.length-1],i=new ol.style.Stroke({color:"color"in r?r.color:ol.format.KML.DEFAULT_COLOR_,width:"width"in r?r.width:1});o.strokeStyle=i};ol.format.KML.PolyStyleParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,e,t);if(!r){return}var o=t[t.length-1],i=new ol.style.Fill({color:"color"in r?r.color:ol.format.KML.DEFAULT_COLOR_});o.fillStyle=i;var n=r.fill;if(n!==void 0){o.fill=n}var a=r.outline;if(a!==void 0){o.outline=a}};ol.format.KML.readFlatLinearRing_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,e,t)};ol.format.KML.gxCoordParser_=function(e,t){var r=t[t.length-1],o=r.flatCoordinates,i=ol.xml.getAllTextContent(e,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=n.exec(i);if(a){var p=parseFloat(a[1]),l=parseFloat(a[2]),s=parseFloat(a[3]);o.push(p,l,s,0)}else{o.push(0,0,0,0)}};ol.format.KML.readGxMultiTrack_=function(e,t){var r=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,e,t);if(!r){return}var o=new ol.geom.MultiLineString(null);o.setLineStrings(r);return o};ol.format.KML.readGxTrack_=function(e,t){var r=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,e,t);if(!r){return}var o=r.flatCoordinates,n=r.whens,a,p;for(a=0,p=Math.min(o.length,n.length);a<p;++a){o[4*a+3]=n[a]}var l=new ol.geom.LineString(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,o);return l};ol.format.KML.readIcon_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,e,t);if(r){return r}else{return null}};ol.format.KML.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t)};ol.format.KML.readLineString_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),o=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(o){var i=new ol.geom.LineString(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);i.setProperties(r);return i}else{}};ol.format.KML.readLinearRing_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),o=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(o){var i=new ol.geom.Polygon(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o,[o.length]);i.setProperties(r);return i}else{}};ol.format.KML.readMultiGeometry_=function(e,t){var r=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,e,t);if(!r){return null}if(0===r.length){return new ol.geom.GeometryCollection(r)}var o,n=!0,a=r[0].getType(),p,l,s;for(l=1,s=r.length;l<s;++l){p=r[l];if(p.getType()!=a){n=!1;break}}if(n){var y,c;if(a==ol.geom.GeometryType.POINT){var d=r[0];y=d.getLayout();c=d.getFlatCoordinates();for(l=1,s=r.length;l<s;++l){p=r[l];ol.array.extend(c,p.getFlatCoordinates())}o=new ol.geom.MultiPoint(null);o.setFlatCoordinates(y,c);ol.format.KML.setCommonGeometryProperties_(o,r)}else if(a==ol.geom.GeometryType.LINE_STRING){o=new ol.geom.MultiLineString(null);o.setLineStrings(r);ol.format.KML.setCommonGeometryProperties_(o,r)}else if(a==ol.geom.GeometryType.POLYGON){o=new ol.geom.MultiPolygon(null);o.setPolygons(r);ol.format.KML.setCommonGeometryProperties_(o,r)}else if(a==ol.geom.GeometryType.GEOMETRY_COLLECTION){o=new ol.geom.GeometryCollection(r)}else{ol.asserts.assert(!1,37)}}else{o=new ol.geom.GeometryCollection(r)}return o};ol.format.KML.readPoint_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),o=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(o){var i=new ol.geom.Point(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);i.setProperties(r);return i}else{}};ol.format.KML.readPolygon_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t),o=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,e,t);if(o&&o[0]){var n=new ol.geom.Polygon(null),a=o[0],p=[a.length],l,s;for(l=1,s=o.length;l<s;++l){ol.array.extend(a,o[l]);p.push(a.length)}n.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,a,p);n.setProperties(r);return n}else{}};ol.format.KML.readStyle_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,e,t);if(!r){return null}var o="fillStyle"in r?r.fillStyle:ol.format.KML.DEFAULT_FILL_STYLE_,i=r.fill;if(i!==void 0&&!i){o=null}var n="imageStyle"in r?r.imageStyle:ol.format.KML.DEFAULT_IMAGE_STYLE_;if(n==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_){n=void 0}var a="textStyle"in r?r.textStyle:ol.format.KML.DEFAULT_TEXT_STYLE_,p="strokeStyle"in r?r.strokeStyle:ol.format.KML.DEFAULT_STROKE_STYLE_,l=r.outline;if(l!==void 0&&!l){p=null}return[new ol.style.Style({fill:o,image:n,stroke:p,text:a,zIndex:void 0})]};ol.format.KML.setCommonGeometryProperties_=function(e,t){var r=t.length,o=Array(t.length),n=Array(t.length),a=Array(t.length),p,l,s,y,c;s=y=c=!1;for(l=0;l<r;++l){p=t[l];o[l]=p.get("extrude");n[l]=p.get("tessellate");a[l]=p.get("altitudeMode");s=s||o[l]!==void 0;y=y||n[l]!==void 0;c=c||a[l]}if(s){e.set("extrude",o)}if(y){e.set("tessellate",n)}if(c){e.set("altitudeMode",a)}};ol.format.KML.DataParser_=function(e,t){var r=e.getAttribute("name");ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,e,t);var o=t[t.length-1];if(null!==r){o[r]=o.value}else if(null!==o.displayName){o[o.displayName]=o.value}delete o.value};ol.format.KML.ExtendedDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,e,t)};ol.format.KML.RegionParser_=function(e,t){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,e,t)};ol.format.KML.PairDataParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,e,t);if(!r){return}var o=r.key;if(o&&"normal"==o){var i=r.styleUrl;if(i){t[t.length-1]=i}var n=r.Style;if(n){t[t.length-1]=n}}};ol.format.KML.PlacemarkStyleMapParser_=function(e,t){var r=ol.format.KML.readStyleMapValue_(e,t);if(!r){return}var o=t[t.length-1];if(Array.isArray(r)){o.Style=r}else if("string"==typeof r){o.styleUrl=r}else{ol.asserts.assert(!1,38)}};ol.format.KML.SchemaDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,e,t)};ol.format.KML.SimpleDataParser_=function(e,t){var r=e.getAttribute("name");if(null!==r){var o=ol.format.XSD.readString(e),i=t[t.length-1];i[r]=o}};ol.format.KML.LatLonAltBoxParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,e,t);if(!r){return}var o=t[t.length-1],i=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];o.extent=i;o.altitudeMode=r.altitudeMode;o.minAltitude=parseFloat(r.minAltitude);o.maxAltitude=parseFloat(r.maxAltitude)};ol.format.KML.LodParser_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,e,t);if(!r){return}var o=t[t.length-1];o.minLodPixels=parseFloat(r.minLodPixels);o.maxLodPixels=parseFloat(r.maxLodPixels);o.minFadeExtent=parseFloat(r.minFadeExtent);o.maxFadeExtent=parseFloat(r.maxFadeExtent)};ol.format.KML.innerBoundaryIsParser_=function(e,t){var r=ol.xml.pushParseAndPop(void 0,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,e,t);if(r){var o=t[t.length-1];o.push(r)}};ol.format.KML.outerBoundaryIsParser_=function(e,t){var r=ol.xml.pushParseAndPop(void 0,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,e,t);if(r){var o=t[t.length-1];o[0]=r}};ol.format.KML.LinkParser_=function(e,t){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,e,t)};ol.format.KML.whenParser_=function(e,t){var r=t[t.length-1],o=r.whens,i=ol.xml.getAllTextContent(e,!1),n=Date.parse(i);o.push(isNaN(n)?0:n)};ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{displayName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),value:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_});ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LatLonAltBox:ol.format.KML.LatLonAltBoxParser_,Lod:ol.format.KML.LodParser_});ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),minAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),north:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),south:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),east:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),west:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{minLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),minFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),tessellate:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_});ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_}));ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}));ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)});ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)});ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")}));ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_});ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_});ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_});ol.format.KML.prototype.readDocumentOrFolder_=function(e,t){var r=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),o=ol.xml.pushParseAndPop([],r,e,t,this);if(o){return o}else{}};ol.format.KML.prototype.readPlacemark_=function(e,t){var r=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,e,t);if(!r){return}var o=new ol.Feature,i=e.getAttribute("id");if(null!==i){o.setId(i)}var n=t[0],a=r.geometry;if(a){ol.format.Feature.transformWithOptions(a,!1,n)}o.setGeometry(a);delete r.geometry;if(this.extractStyles_){var p=r.Style,l=r.styleUrl,s=ol.format.KML.createFeatureStyleFunction_(p,l,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(s)}delete r.Style;o.setProperties(r);return o};ol.format.KML.prototype.readSharedStyle_=function(e,t){var r=e.getAttribute("id");if(null!==r){var o=ol.format.KML.readStyle_(e,t);if(o){var i,n=e.baseURI;if(!n||"about:blank"==n){n=window.location.href}if(n){var a=new URL("#"+r,n);i=a.href}else{i="#"+r}this.sharedStyles_[i]=o}}};ol.format.KML.prototype.readSharedStyleMap_=function(e,t){var r=e.getAttribute("id");if(null===r){return}var o=ol.format.KML.readStyleMapValue_(e,t);if(!o){return}var i,n=e.baseURI;if(!n||"about:blank"==n){n=window.location.href}if(n){var a=new URL("#"+r,n);i=a.href}else{i="#"+r}this.sharedStyles_[i]=o};ol.format.KML.prototype.readFeature;ol.format.KML.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)){return null}var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);if(r){return r}else{return null}};ol.format.KML.prototype.readFeatures;ol.format.KML.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)){return[]}var r,o=e.localName;if("Document"==o||"Folder"==o){r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]);if(r){return r}else{return[]}}else if("Placemark"==o){var i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);if(i){return[i]}else{return[]}}else if("kml"==o){r=[];var a;for(a=e.firstElementChild;a;a=a.nextElementSibling){var p=this.readFeaturesFromNode(a,t);if(p){ol.array.extend(r,p)}}return r}else{return[]}};ol.format.KML.prototype.readName=function(e){if(ol.xml.isDocument(e)){return this.readNameFromDocument(e)}else if(ol.xml.isNode(e)){return this.readNameFromNode(e)}else if("string"==typeof e){var t=ol.xml.parse(e);return this.readNameFromDocument(t)}else{}};ol.format.KML.prototype.readNameFromDocument=function(e){var t;for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(t);if(r){return r}}}};ol.format.KML.prototype.readNameFromNode=function(e){var t;for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&"name"==t.localName){return ol.format.XSD.readString(t)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var o=this.readNameFromNode(t);if(o){return o}}}};ol.format.KML.prototype.readNetworkLinks=function(e){var t=[];if(ol.xml.isDocument(e)){ol.array.extend(t,this.readNetworkLinksFromDocument(e))}else if(ol.xml.isNode(e)){ol.array.extend(t,this.readNetworkLinksFromNode(e))}else if("string"==typeof e){var r=ol.xml.parse(e);ol.array.extend(t,this.readNetworkLinksFromDocument(r))}return t};ol.format.KML.prototype.readNetworkLinksFromDocument=function(e){var t,r=[];for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){ol.array.extend(r,this.readNetworkLinksFromNode(t))}}return r};ol.format.KML.prototype.readNetworkLinksFromNode=function(e){var t,r=[];for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&"NetworkLink"==t.localName){var o=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,t,[]);r.push(o)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&("Document"==i||"Folder"==i||"kml"==i)){ol.array.extend(r,this.readNetworkLinksFromNode(t))}}return r};ol.format.KML.prototype.readRegion=function(e){var t=[];if(ol.xml.isDocument(e)){ol.array.extend(t,this.readRegionFromDocument(e))}else if(ol.xml.isNode(e)){ol.array.extend(t,this.readRegionFromNode(e))}else if("string"==typeof e){var r=ol.xml.parse(e);ol.array.extend(t,this.readRegionFromDocument(r))}return t};ol.format.KML.prototype.readRegionFromDocument=function(e){var t,r=[];for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){ol.array.extend(r,this.readRegionFromNode(t))}}return r};ol.format.KML.prototype.readRegionFromNode=function(e){var t,r=[];for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&"Region"==t.localName){var o=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,t,[]);r.push(o)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&("Document"==i||"Folder"==i||"kml"==i)){ol.array.extend(r,this.readRegionFromNode(t))}}return r};ol.format.KML.prototype.readProjection;ol.format.KML.writeColorTextNode_=function(e,t){var r=ol.color.asArray(t),o=4==r.length?r[3]:1,n=[255*o,r[2],r[1],r[0]],a;for(a=0;4>a;++a){var p=parseInt(n[a],10).toString(16);n[a]=1==p.length?"0"+p:p}ol.format.XSD.writeStringTextNode(e,n.join(""))};ol.format.KML.writeCoordinatesTextNode_=function(e,t,r){var o=r[r.length-1],n=o.layout,a=o.stride,p;if(n==ol.geom.GeometryLayout.XY||n==ol.geom.GeometryLayout.XYM){p=2}else if(n==ol.geom.GeometryLayout.XYZ||n==ol.geom.GeometryLayout.XYZM){p=3}else{ol.asserts.assert(!1,34)}var l,s,y=t.length,c="";if(0<y){c+=t[0];for(l=1;l<p;++l){c+=","+t[l]}for(s=a;s<y;s+=a){c+=" "+t[s];for(l=1;l<p;++l){c+=","+t[s+l]}}}ol.format.XSD.writeStringTextNode(e,c)};ol.format.KML.writeDataNode_=function(e,t,r){e.setAttribute("name",t.name);var o={node:e},i=t.value;if("object"==_typeof(i)){if(null!==i&&i.displayName){ol.xml.pushSerializeAndPop(o,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],r,["displayName"])}if(null!==i&&i.value){ol.xml.pushSerializeAndPop(o,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.value],r,["value"])}}else{ol.xml.pushSerializeAndPop(o,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i],r,["value"])}};ol.format.KML.writeDataNodeName_=function(e,t){ol.format.XSD.writeCDATASection(e,t)};ol.format.KML.writeDataNodeValue_=function(e,t){ol.format.XSD.writeStringTextNode(e,t)};ol.format.KML.writeDocument_=function(e,t,r){ol.xml.pushSerializeAndPop({node:e},ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,t,r,void 0,this)};ol.format.KML.writeExtendedData_=function(e,t,r){for(var o={node:e},n=t.names,a=t.values,p=n.length,l=0;l<p;l++){ol.xml.pushSerializeAndPop(o,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:n[l],value:a[l]}],r)}};ol.format.KML.writeIcon_=function(e,t,r){var o={node:e},i=r[r.length-1].node,n=ol.format.KML.ICON_SEQUENCE_[i.namespaceURI],a=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(o,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,r,n);n=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]];a=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(o,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,a,r,n)};ol.format.KML.writeIconStyle_=function(e,t,r){var o={},i=t.getSrc(),n=t.getSize(),a=t.getImageSize(),p={href:i};if(n){p.w=n[0];p.h=n[1];var l=t.getAnchor(),s=t.getOrigin();if(s&&a&&0!==s[0]&&s[1]!==n[1]){p.x=s[0];p.y=a[1]-(s[1]+n[1])}if(l&&(l[0]!==n[0]/2||l[1]!==n[1]/2)){var y={x:l[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:n[1]-l[1],yunits:ol.style.IconAnchorUnits.PIXELS};o.hotSpot=y}}o.Icon=p;var c=t.getScale();if(1!==c){o.scale=c}var d=t.getRotation();if(0!==d){o.heading=d}var g=r[r.length-1].node,m=ol.format.KML.ICON_STYLE_SEQUENCE_[g.namespaceURI],u=ol.xml.makeSequence(o,m);ol.xml.pushSerializeAndPop({node:e},ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,u,r,m)};ol.format.KML.writeLabelStyle_=function(e,t,r){var o={},i=t.getFill();if(i){o.color=i.getColor()}var n=t.getScale();if(n&&1!==n){o.scale=n}var a=r[r.length-1].node,p=ol.format.KML.LABEL_STYLE_SEQUENCE_[a.namespaceURI],l=ol.xml.makeSequence(o,p);ol.xml.pushSerializeAndPop({node:e},ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,r,p)};ol.format.KML.writeLineStyle_=function(e,t,r){var o={color:t.getColor(),width:t.getWidth()},i=r[r.length-1].node,n=ol.format.KML.LINE_STYLE_SEQUENCE_[i.namespaceURI],a=ol.xml.makeSequence(o,n);ol.xml.pushSerializeAndPop({node:e},ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,r,n)};ol.format.KML.writeMultiGeometry_=function(e,t,r){var o=t.getType(),i,n;if(o==ol.geom.GeometryType.GEOMETRY_COLLECTION){i=t.getGeometries();n=ol.format.KML.GEOMETRY_NODE_FACTORY_}else if(o==ol.geom.GeometryType.MULTI_POINT){i=t.getPoints();n=ol.format.KML.POINT_NODE_FACTORY_}else if(o==ol.geom.GeometryType.MULTI_LINE_STRING){i=t.getLineStrings();n=ol.format.KML.LINE_STRING_NODE_FACTORY_}else if(o==ol.geom.GeometryType.MULTI_POLYGON){i=t.getPolygons();n=ol.format.KML.POLYGON_NODE_FACTORY_}else{ol.asserts.assert(!1,39)}ol.xml.pushSerializeAndPop({node:e},ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,n,i,r)};ol.format.KML.writeBoundaryIs_=function(e,t,r){ol.xml.pushSerializeAndPop({node:e},ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[t],r)};ol.format.KML.writePlacemark_=function(e,t,r){var o={node:e};if(t.getId()){e.setAttribute("id",t.getId())}var i=t.getProperties(),n={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};n[t.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter(function(e){return!n[e]});if(0<a.length){var p=ol.xml.makeSequence(i,a);ol.xml.pushSerializeAndPop(o,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[{names:a,values:p}],r)}var l=t.getStyleFunction();if(l){var s=l.call(t,0);if(s){var y=Array.isArray(s)?s[0]:s;if(this.writeStyles_){i.Style=y}var c=y.getText();if(c){i.name=c.getText()}}}var d=r[r.length-1].node,g=ol.format.KML.PLACEMARK_SEQUENCE_[d.namespaceURI],m=ol.xml.makeSequence(i,g);ol.xml.pushSerializeAndPop(o,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,m,r,g);var u=r[0],_=t.getGeometry();if(_){_=ol.format.Feature.transformWithOptions(_,!0,u)}ol.xml.pushSerializeAndPop(o,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[_],r)};ol.format.KML.writePrimitiveGeometry_=function(e,t,r){var o=t.getFlatCoordinates(),i={node:e};i.layout=t.getLayout();i.stride=t.getStride();var n=t.getProperties();n.coordinates=o;var a=r[r.length-1].node,p=ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_[a.namespaceURI],l=ol.xml.makeSequence(n,p);ol.xml.pushSerializeAndPop(i,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,r,p)};ol.format.KML.writePolygon_=function(e,t,r){var o=t.getLinearRings(),i=o.shift(),n={node:e};ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,o,r);ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[i],r)};ol.format.KML.writePolyStyle_=function(e,t,r){ol.xml.pushSerializeAndPop({node:e},ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[t.getColor()],r)};ol.format.KML.writeScaleTextNode_=function(e,t){ol.format.XSD.writeDecimalTextNode(e,Math.round(1e6*t)/1e6)};ol.format.KML.writeStyle_=function(e,t,r){var o={},i=t.getFill(),n=t.getStroke(),a=t.getImage(),p=t.getText();if(a instanceof ol.style.Icon){o.IconStyle=a}if(p){o.LabelStyle=p}if(n){o.LineStyle=n}if(i){o.PolyStyle=i}var l=r[r.length-1].node,s=ol.format.KML.STYLE_SEQUENCE_[l.namespaceURI],y=ol.xml.makeSequence(o,s);ol.xml.pushSerializeAndPop({node:e},ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,y,r,s)};ol.format.KML.writeVec2_=function(e,t){e.setAttribute("x",t.x);e.setAttribute("y",t.y);e.setAttribute("xunits",t.xunits);e.setAttribute("yunits",t.yunits)};ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]);ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),value:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),displayName:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)});ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"};ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"]));ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}));ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]);ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]);ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]);ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)});ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)});ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)});ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]);ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)});ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["extrude","tessellate","altitudeMode","coordinates"]);ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),tessellate:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),altitudeMode:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)});ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)});ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)});ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]);ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)});ol.format.KML.GX_NODE_FACTORY_=function(e,t,r){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+r)};ol.format.KML.DOCUMENT_NODE_FACTORY_=function(e,t){var r=t[t.length-1].node;return ol.xml.createElementNS(r.namespaceURI,"Placemark")};ol.format.KML.GEOMETRY_NODE_FACTORY_=function(e,t){if(e){var r=t[t.length-1].node;return ol.xml.createElementNS(r.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}};ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color");ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Data");ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("ExtendedData");ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs");ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point");ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString");ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing");ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon");ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs");ol.format.KML.prototype.writeFeatures;ol.format.KML.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml"),o="http://www.w3.org/2000/xmlns/",i="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(r,o,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]);ol.xml.setAttributeNS(r,o,"xmlns:xsi",i);ol.xml.setAttributeNS(r,i,"xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var n={};if(1<e.length){n.Document=e}else if(1==e.length){n.Placemark=e[0]}var a=ol.format.KML.KML_SEQUENCE_[r.namespaceURI],p=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop({node:r},ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,[t],a,this);return r};goog.provide("ol.ext.PBF");ol.ext.PBF=function(){};(function(){(function(e){'use strict';var h={read:function read(t,r,o,n,a){var p,l,y=8*a-n-1,c=(1<<y)-1,g=c>>1,u=-7,_=o?a-1:0,f=o?-1:1,d=t[r+_];_+=f;p=d&(1<<-u)-1;d>>=-u;u+=y;for(;0<u;p=256*p+t[r+_],_+=f,u-=8){}l=p&(1<<-u)-1;p>>=-u;u+=n;for(;0<u;l=256*l+t[r+_],_+=f,u-=8){}if(0===p){p=1-g}else if(p===c){return l?NaN:(d?-1:1)*(1/0)}else{l=l+Math.pow(2,n);p=p-g}return(d?-1:1)*l*Math.pow(2,p-n)},write:function write(t,r,o,n,a,p){var l,y,g,u=8*p-a-1,_=(1<<u)-1,f=_>>1,S=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:p-1,P=n?1:-1,d=0>r||0===r&&0>1/r?1:0;r=Math.abs(r);if(isNaN(r)||r===1/0){y=isNaN(r)?1:0;l=_}else{l=Math.floor(Math.log(r)/Math.LN2);if(1>r*(g=Math.pow(2,-l))){l--;g*=2}if(1<=l+f){r+=S/g}else{r+=S*Math.pow(2,1-f)}if(2<=r*g){l++;g/=2}if(l+f>=_){y=0;l=_}else if(1<=l+f){y=(r*g-1)*Math.pow(2,a);l=l+f}else{y=r*Math.pow(2,f-1)*Math.pow(2,a);l=0}}for(;8<=a;t[o+x]=255&y,x+=P,y/=256,a-=8){}l=l<<a|y;u+=a;for(;0<u;t[o+x]=255&l,x+=P,l/=256,u-=8){}t[o+x-P]|=128*d}};function t(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0);this.pos=0;this.type=0;this.length=this.buf.length}t.Varint=0;t.Fixed64=1;t.Bytes=2;t.Fixed32=5;var v=1/4294967296;t.prototype={destroy:function destroy(){this.buf=null},readFields:function readFields(e,t,r){r=r||this.length;while(this.pos<r){var o=this.readVarint(),i=this.pos;this.type=7&o;e(o>>3,t,this);if(this.pos===i)this.skip(o)}return t},readMessage:function readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function readFixed32(){var e=S(this.buf,this.pos);this.pos+=4;return e},readSFixed32:function readSFixed32(){var e=P(this.buf,this.pos);this.pos+=4;return e},readFixed64:function readFixed64(){var e=S(this.buf,this.pos)+S(this.buf,this.pos+4)*4294967296;this.pos+=8;return e},readSFixed64:function readSFixed64(){var e=S(this.buf,this.pos)+P(this.buf,this.pos+4)*4294967296;this.pos+=8;return e},readFloat:function readFloat(){var e=h.read(this.buf,this.pos,!0,23,4);this.pos+=4;return e},readDouble:function readDouble(){var e=h.read(this.buf,this.pos,!0,52,8);this.pos+=8;return e},readVarint:function readVarint(e){var t=this.buf,o,i;i=t[this.pos++];o=127&i;if(128>i)return o;i=t[this.pos++];o|=(127&i)<<7;if(128>i)return o;i=t[this.pos++];o|=(127&i)<<14;if(128>i)return o;i=t[this.pos++];o|=(127&i)<<21;if(128>i)return o;i=t[this.pos];o|=(15&i)<<28;return r(o,e,this)},readVarint64:function readVarint64(){return this.readVarint(!0)},readSVarint:function readSVarint(){var e=this.readVarint();return 1==e%2?(e+1)/-2:e/2},readBoolean:function readBoolean(){return!!this.readVarint()},readString:function readString(){var e=this.readVarint()+this.pos,t=T(this.buf,this.pos,e);this.pos=e;return t},readBytes:function readBytes(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);this.pos=e;return t},readPackedVarint:function readPackedVarint(e,t){var r=o(this);e=e||[];while(this.pos<r){e.push(this.readVarint(t))}return e},readPackedSVarint:function readPackedSVarint(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readSVarint())}return e},readPackedBoolean:function readPackedBoolean(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readBoolean())}return e},readPackedFloat:function readPackedFloat(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readFloat())}return e},readPackedDouble:function readPackedDouble(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readDouble())}return e},readPackedFixed32:function readPackedFixed32(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readFixed32())}return e},readPackedSFixed32:function readPackedSFixed32(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readSFixed32())}return e},readPackedFixed64:function readPackedFixed64(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readFixed64())}return e},readPackedSFixed64:function readPackedSFixed64(e){var t=o(this);e=e||[];while(this.pos<t){e.push(this.readSFixed64())}return e},skip:function skip(e){var r=7&e;if(r===t.Varint)while(127<this.buf[this.pos++]){}else if(r===t.Bytes)this.pos=this.readVarint()+this.pos;else if(r===t.Fixed32)this.pos+=4;else if(r===t.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+r)},writeTag:function writeTag(e,t){this.writeVarint(e<<3|t)},realloc:function realloc(e){var t=this.length||16;while(t<this.pos+e){t*=2}if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf);this.buf=r;this.length=t}},finish:function finish(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function writeFixed32(e){this.realloc(4);x(this.buf,e,this.pos);this.pos+=4},writeSFixed32:function writeSFixed32(e){this.realloc(4);x(this.buf,e,this.pos);this.pos+=4},writeFixed64:function writeFixed64(e){this.realloc(8);x(this.buf,-1&e,this.pos);x(this.buf,Math.floor(e*v),this.pos+4);this.pos+=8},writeSFixed64:function writeSFixed64(e){this.realloc(8);x(this.buf,-1&e,this.pos);x(this.buf,Math.floor(e*v),this.pos+4);this.pos+=8},writeVarint:function writeVarint(e){e=+e||0;if(268435455<e||0>e){n(e,this);return}this.realloc(4);this.buf[this.pos++]=127&e|(127<e?128:0);if(127>=e)return;this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0);if(127>=e)return;this.buf[this.pos++]=127&(e>>>=7)|(127<e?128:0);if(127>=e)return;this.buf[this.pos++]=127&e>>>7},writeSVarint:function writeSVarint(e){this.writeVarint(0>e?2*-e-1:2*e)},writeBoolean:function writeBoolean(e){this.writeVarint(!!e)},writeString:function writeString(e){e=e+"";this.realloc(4*e.length);this.pos++;var t=this.pos;this.pos=E(this.buf,e,this.pos);var r=this.pos-t;if(128<=r)l(t,r,this);this.pos=t-1;this.writeVarint(r);this.pos+=r},writeFloat:function writeFloat(e){this.realloc(4);h.write(this.buf,e,this.pos,!0,23,4);this.pos+=4},writeDouble:function writeDouble(e){this.realloc(8);h.write(this.buf,e,this.pos,!0,52,8);this.pos+=8},writeBytes:function writeBytes(e){var t=e.length;this.writeVarint(t);this.realloc(t);for(var r=0;r<t;r++){this.buf[this.pos++]=e[r]}},writeRawMessage:function writeRawMessage(e,t){this.pos++;var r=this.pos;e(t,this);var o=this.pos-r;if(128<=o)l(r,o,this);this.pos=r-1;this.writeVarint(o);this.pos+=o},writeMessage:function writeMessage(e,r,o){this.writeTag(e,t.Bytes);this.writeRawMessage(r,o)},writePackedVarint:function writePackedVarint(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function writePackedSVarint(e,t){this.writeMessage(e,y,t)},writePackedBoolean:function writePackedBoolean(e,t){this.writeMessage(e,g,t)},writePackedFloat:function writePackedFloat(e,t){this.writeMessage(e,c,t)},writePackedDouble:function writePackedDouble(e,t){this.writeMessage(e,d,t)},writePackedFixed32:function writePackedFixed32(e,t){this.writeMessage(e,m,t)},writePackedSFixed32:function writePackedSFixed32(e,t){this.writeMessage(e,u,t)},writePackedFixed64:function writePackedFixed64(e,t){this.writeMessage(e,_,t)},writePackedSFixed64:function writePackedSFixed64(e,t){this.writeMessage(e,f,t)},writeBytesField:function writeBytesField(e,r){this.writeTag(e,t.Bytes);this.writeBytes(r)},writeFixed32Field:function writeFixed32Field(e,r){this.writeTag(e,t.Fixed32);this.writeFixed32(r)},writeSFixed32Field:function writeSFixed32Field(e,r){this.writeTag(e,t.Fixed32);this.writeSFixed32(r)},writeFixed64Field:function writeFixed64Field(e,r){this.writeTag(e,t.Fixed64);this.writeFixed64(r)},writeSFixed64Field:function writeSFixed64Field(e,r){this.writeTag(e,t.Fixed64);this.writeSFixed64(r)},writeVarintField:function writeVarintField(e,r){this.writeTag(e,t.Varint);this.writeVarint(r)},writeSVarintField:function writeSVarintField(e,r){this.writeTag(e,t.Varint);this.writeSVarint(r)},writeStringField:function writeStringField(e,r){this.writeTag(e,t.Bytes);this.writeString(r)},writeFloatField:function writeFloatField(e,r){this.writeTag(e,t.Fixed32);this.writeFloat(r)},writeDoubleField:function writeDoubleField(e,r){this.writeTag(e,t.Fixed64);this.writeDouble(r)},writeBooleanField:function writeBooleanField(e,t){this.writeVarintField(e,!!t)}};function r(e,t,r){var o=r.buf,n,a;a=o[r.pos++];n=(112&a)>>4;if(128>a)return i(e,n,t);a=o[r.pos++];n|=(127&a)<<3;if(128>a)return i(e,n,t);a=o[r.pos++];n|=(127&a)<<10;if(128>a)return i(e,n,t);a=o[r.pos++];n|=(127&a)<<17;if(128>a)return i(e,n,t);a=o[r.pos++];n|=(127&a)<<24;if(128>a)return i(e,n,t);a=o[r.pos++];n|=(1&a)<<31;if(128>a)return i(e,n,t);throw new Error("Expected varint not more than 10 bytes")}function o(e){return e.type===t.Bytes?e.readVarint()+e.pos:e.pos+1}function i(e,t,r){if(r){return 4294967296*t+(e>>>0)}return 4294967296*(t>>>0)+(e>>>0)}function n(e,t){var r,o;if(0<=e){r=0|e%4294967296;o=0|e/4294967296}else{r=~(-e%4294967296);o=~(-e/4294967296);if(4294967295^r){r=0|r+1}else{r=0;o=0|o+1}}if(0x10000000000000000<=e||-0x10000000000000000>e){throw new Error("Given varint doesn't fit into 10 bytes")}t.realloc(10);a(r,o,t);p(o,t)}function a(e,t,r){r.buf[r.pos++]=128|127&e;e>>>=7;r.buf[r.pos++]=128|127&e;e>>>=7;r.buf[r.pos++]=128|127&e;e>>>=7;r.buf[r.pos++]=128|127&e;e>>>=7;r.buf[r.pos]=127&e}function p(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0);if(!e)return;t.buf[t.pos++]=127&e|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=127&e|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=127&e|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=127&e|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=127&e}function l(e,t,r){var o=16383>=t?1:2097151>=t?2:268435455>=t?3:Math.ceil(Math.log(t)/(7*Math.LN2));r.realloc(o);for(var n=r.pos-1;n>=e;n--){r.buf[n+o]=r.buf[n]}}function s(e,t){for(var r=0;r<e.length;r++){t.writeVarint(e[r])}}function y(e,t){for(var r=0;r<e.length;r++){t.writeSVarint(e[r])}}function c(e,t){for(var r=0;r<e.length;r++){t.writeFloat(e[r])}}function d(e,t){for(var r=0;r<e.length;r++){t.writeDouble(e[r])}}function g(e,t){for(var r=0;r<e.length;r++){t.writeBoolean(e[r])}}function m(e,t){for(var r=0;r<e.length;r++){t.writeFixed32(e[r])}}function u(e,t){for(var r=0;r<e.length;r++){t.writeSFixed32(e[r])}}function _(e,t){for(var r=0;r<e.length;r++){t.writeFixed64(e[r])}}function f(e,t){for(var r=0;r<e.length;r++){t.writeSFixed64(e[r])}}function S(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function x(e,t,r){e[r]=t;e[r+1]=t>>>8;e[r+2]=t>>>16;e[r+3]=t>>>24}function P(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function T(e,t,r){var o="",n=t;while(n<r){var a=e[n],p=null,l=239<a?4:223<a?3:191<a?2:1;if(n+l>r)break;var s,y,d;if(1===l){if(128>a){p=a}}else if(2===l){s=e[n+1];if(128==(192&s)){p=(31&a)<<6|63&s;if(127>=p){p=null}}}else if(3===l){s=e[n+1];y=e[n+2];if(128==(192&s)&&128==(192&y)){p=(15&a)<<12|(63&s)<<6|63&y;if(2047>=p||55296<=p&&57343>=p){p=null}}}else if(4===l){s=e[n+1];y=e[n+2];d=e[n+3];if(128==(192&s)&&128==(192&y)&&128==(192&d)){p=(15&a)<<18|(63&s)<<12|(63&y)<<6|63&d;if(65535>=p||1114112<=p){p=null}}}if(null===p){p=65533;l=1}else if(65535<p){p-=65536;o+=String.fromCharCode(55296|1023&p>>>10);p=56320|1023&p}o+=String.fromCharCode(p);n+=l}return o}function E(e,t,r){for(var o=0,n,a;o<t.length;o++){n=t.charCodeAt(o);if(55295<n&&57344>n){if(a){if(56320>n){e[r++]=239;e[r++]=191;e[r++]=189;a=n;continue}else{n=65536|(a-55296<<10|n-56320);a=null}}else{if(56319<n||o+1===t.length){e[r++]=239;e[r++]=191;e[r++]=189}else{a=n}continue}}else if(a){e[r++]=239;e[r++]=191;e[r++]=189;a=null}if(128>n){e[r++]=n}else{if(2048>n){e[r++]=192|n>>6}else{if(65536>n){e[r++]=224|n>>12}else{e[r++]=240|n>>18;e[r++]=128|63&n>>12}e[r++]=128|63&n>>6}e[r++]=128|63&n}}return r}e["default"]=t})(this.PBF=this.PBF||{})}).call(ol.ext);ol.ext.PBF=ol.ext.PBF.default;goog.provide("ol.render.Feature");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.flat.center");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.transform");goog.require("ol.transform");ol.render.Feature=function(e,t,r,o,i){this.extent_;this.id_=i;this.type_=e;this.flatCoordinates_=t;this.flatInteriorPoints_=null;this.flatMidpoints_=null;this.ends_=r;this.properties_=o;this.tmpTransform_=ol.transform.create()};ol.render.Feature.prototype.get=function(e){return this.properties_[e]};ol.render.Feature.prototype.getEnds=ol.render.Feature.prototype.getEndss=function(){return this.ends_};ol.render.Feature.prototype.getExtent=function(){if(!this.extent_){this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)}return this.extent_};ol.render.Feature.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRings(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_};ol.render.Feature.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_};ol.render.Feature.prototype.getFlatMidpoint=function(){if(!this.flatMidpoints_){this.flatMidpoints_=ol.geom.flat.interpolate.lineString(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)}return this.flatMidpoints_};ol.render.Feature.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,r=this.ends_,o=0,n=r.length;o<n;++o){var a=r[o],p=ol.geom.flat.interpolate.lineString(e,t,a,2,.5);ol.array.extend(this.flatMidpoints_,p);t=a}}return this.flatMidpoints_};ol.render.Feature.prototype.getId=function(){return this.id_};ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates;ol.render.Feature.prototype.getGeometry=function(){return this};ol.render.Feature.prototype.getProperties=function(){return this.properties_};ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry;ol.render.Feature.prototype.getStride=function(){return 2};ol.render.Feature.prototype.getStyleFunction=ol.nullFunction;ol.render.Feature.prototype.getType=function(){return this.type_};ol.render.Feature.prototype.transform=function(e){var t=e.getExtent(),r=e.getWorldExtent(),o=ol.extent.getHeight(r)/ol.extent.getHeight(t),i=this.tmpTransform_;ol.transform.compose(i,r[0],r[3],o,-o,0,0,0);ol.geom.flat.transform.transform2D(this.flatCoordinates_,0,this.flatCoordinates_.length,2,i,this.flatCoordinates_)};goog.provide("ol.format.MVT");goog.require("ol");goog.require("ol.asserts");goog.require("ol.ext.PBF");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.flat.orient");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.render.Feature");ol.format.MVT=function(e){ol.format.Feature.call(this);var t=e?e:{};this.defaultDataProjection=new ol.proj.Projection({code:"EPSG:3857",units:ol.proj.Units.TILE_PIXELS});this.featureClass_=t.featureClass?t.featureClass:ol.render.Feature;this.geometryName_=t.geometryName;this.layerName_=t.layerName?t.layerName:"layer";this.layers_=t.layers?t.layers:null;this.extent_=null};ol.inherits(ol.format.MVT,ol.format.Feature);ol.format.MVT.pbfReaders_={layers:function layers(e,t,r){if(3===e){var o={keys:[],values:[],features:[]},i=r.readVarint()+r.pos;r.readFields(ol.format.MVT.pbfReaders_.layer,o,i);o.length=o.features.length;if(o.length){t[o.name]=o}}},layer:function layer(e,t,r){if(15===e){t.version=r.readVarint()}else if(1===e){t.name=r.readString()}else if(5===e){t.extent=r.readVarint()}else if(2===e){t.features.push(r.pos)}else if(3===e){t.keys.push(r.readString())}else if(4===e){var o=null,i=r.readVarint()+r.pos;while(r.pos<i){e=r.readVarint()>>3;o=1===e?r.readString():2===e?r.readFloat():3===e?r.readDouble():4===e?r.readVarint64():5===e?r.readVarint():6===e?r.readSVarint():7===e?r.readBoolean():null}t.values.push(o)}},feature:function feature(e,t,r){if(1==e){t.id=r.readVarint()}else if(2==e){var o=r.readVarint()+r.pos;while(r.pos<o){var i=t.layer.keys[r.readVarint()],n=t.layer.values[r.readVarint()];t.properties[i]=n}}else if(3==e){t.type=r.readVarint()}else if(4==e){t.geometry=r.pos}}};ol.format.MVT.readRawFeature_=function(e,t,r){e.pos=t.features[r];var o=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};e.readFields(ol.format.MVT.pbfReaders_.feature,i,o);return i};ol.format.MVT.readRawGeometry_=function(e,t,r,o){e.pos=t.geometry;var i=e.readVarint()+e.pos,n=1,a=0,p=0,l=0,s=0,c=0;while(e.pos<i){if(!a){var d=e.readVarint();n=7&d;a=d>>3}a--;if(1===n||2===n){p+=e.readSVarint();l+=e.readSVarint();if(1===n){if(s>c){o.push(s);c=s}}r.push(p,l);s+=2}else if(7===n){if(s>c){r.push(r[c],r[c+1]);s+=2}}else{ol.asserts.assert(!1,59)}}if(s>c){o.push(s);c=s}};ol.format.MVT.getGeometryType_=function(e,t){var r;if(1===e){r=1===t?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT}else if(2===e){r=1===t?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING}else if(3===e){r=ol.geom.GeometryType.POLYGON}return r};ol.format.MVT.prototype.createFeature_=function(e,t,r){var o=t.type;if(0===o){return null}var n,a=t.id,p=t.properties;p[this.layerName_]=t.layer.name;var l=[],s=[];ol.format.MVT.readRawGeometry_(e,t,l,s);var y=ol.format.MVT.getGeometryType_(o,s.length);if(this.featureClass_===ol.render.Feature){n=new this.featureClass_(y,l,s,p,a)}else{var c;if(y==ol.geom.GeometryType.POLYGON){for(var d=[],g=0,m=0,u=0,_=s.length,f;u<_;++u){f=s[u];if(!ol.geom.flat.orient.linearRingIsClockwise(l,g,f,2)){d.push(s.slice(m,u));m=u}g=f}if(1<d.length){s=d;c=new ol.geom.MultiPolygon(null)}else{c=new ol.geom.Polygon(null)}}else{c=y===ol.geom.GeometryType.POINT?new ol.geom.Point(null):y===ol.geom.GeometryType.LINE_STRING?new ol.geom.LineString(null):y===ol.geom.GeometryType.POLYGON?new ol.geom.Polygon(null):y===ol.geom.GeometryType.MULTI_POINT?new ol.geom.MultiPoint(null):y===ol.geom.GeometryType.MULTI_LINE_STRING?new ol.geom.MultiLineString(null):null}c.setFlatCoordinates(ol.geom.GeometryLayout.XY,l,s);n=new this.featureClass_;if(this.geometryName_){n.setGeometryName(this.geometryName_)}var S=ol.format.Feature.transformWithOptions(c,!1,this.adaptOptions(r));n.setGeometry(S);n.setId(a);n.setProperties(p)}return n};ol.format.MVT.prototype.getLastExtent=function(){return this.extent_};ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER};ol.format.MVT.prototype.readFeatures=function(e){var t=this.layers_,r=new ol.ext.PBF(e),o=r.readFields(ol.format.MVT.pbfReaders_.layers,{}),n=[],a;for(var p in o){if(t&&-1==t.indexOf(p)){continue}a=o[p];for(var l,s=0,y=a.length;s<y;++s){l=ol.format.MVT.readRawFeature_(r,a,s);n.push(this.createFeature_(r,l))}this.extent_=a?[0,0,a.extent,a.extent]:null}return n};ol.format.MVT.prototype.readProjection=function(){return this.defaultDataProjection};ol.format.MVT.prototype.setLayers=function(e){this.layers_=e};ol.format.MVT.prototype.readFeature=function(){};ol.format.MVT.prototype.readGeometry=function(){};ol.format.MVT.prototype.writeFeature=function(){};ol.format.MVT.prototype.writeGeometry=function(){};ol.format.MVT.prototype.writeFeatures=function(){};goog.provide("ol.format.OSMXML");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.OSMXML=function(){ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326")};ol.inherits(ol.format.OSMXML,ol.format.XMLFeature);ol.format.OSMXML.readNode_=function(e,t){var r=t[0],o=t[t.length-1],i=e.getAttribute("id"),n=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];o.nodes[i]=n;var a=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,e,t);if(!ol.obj.isEmpty(a.tags)){var p=new ol.geom.Point(n);ol.format.Feature.transformWithOptions(p,!1,r);var l=new ol.Feature(p);l.setId(i);l.setProperties(a.tags);o.features.push(l)}};ol.format.OSMXML.readWay_=function(e,t){var r=e.getAttribute("id"),o=ol.xml.pushParseAndPop({id:r,ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,e,t),i=t[t.length-1];i.ways.push(o)};ol.format.OSMXML.readNd_=function(e,t){var r=t[t.length-1];r.ndrefs.push(e.getAttribute("ref"))};ol.format.OSMXML.readTag_=function(e,t){var r=t[t.length-1];r.tags[e.getAttribute("k")]=e.getAttribute("v")};ol.format.OSMXML.NAMESPACE_URIS_=[null];ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_});ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.prototype.readFeatures;ol.format.OSMXML.prototype.readFeaturesFromNode=function(e,t){var r=this.getReadOptions(e,t);if("osm"==e.localName){for(var o=ol.xml.pushParseAndPop({nodes:{},ways:[],features:[]},ol.format.OSMXML.PARSERS_,e,[r]),n=0;n<o.ways.length;n++){for(var a=o.ways[n],p=[],l=0,s=a.ndrefs.length,y;l<s;l++){y=o.nodes[a.ndrefs[l]];ol.array.extend(p,y)}var c;if(a.ndrefs[0]==a.ndrefs[a.ndrefs.length-1]){c=new ol.geom.Polygon(null);c.setFlatCoordinates(ol.geom.GeometryLayout.XY,p,[p.length])}else{c=new ol.geom.LineString(null);c.setFlatCoordinates(ol.geom.GeometryLayout.XY,p)}ol.format.Feature.transformWithOptions(c,!1,r);var d=new ol.Feature(c);d.setId(a.id);d.setProperties(a.tags);o.features.push(d)}if(o.features){return o.features}}return[]};ol.format.OSMXML.prototype.readProjection;ol.format.OSMXML.prototype.writeFeatureNode=function(){};ol.format.OSMXML.prototype.writeFeaturesNode=function(){};ol.format.OSMXML.prototype.writeGeometryNode=function(){};goog.provide("ol.format.XLink");ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink";ol.format.XLink.readHref=function(e){return e.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")};goog.provide("ol.format.XML");goog.require("ol.xml");ol.format.XML=function(){};ol.format.XML.prototype.read=function(e){if(ol.xml.isDocument(e)){return this.readFromDocument(e)}else if(ol.xml.isNode(e)){return this.readFromNode(e)}else if("string"==typeof e){var t=ol.xml.parse(e);return this.readFromDocument(t)}else{return null}};ol.format.XML.prototype.readFromDocument=function(){};ol.format.XML.prototype.readFromNode=function(){};goog.provide("ol.format.OWS");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.OWS=function(){ol.format.XML.call(this)};ol.inherits(ol.format.OWS,ol.format.XML);ol.format.OWS.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.OWS.prototype.readFromNode=function(e){var t=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,e,[]);return t?t:null};ol.format.OWS.readAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,e,t)};ol.format.OWS.readAllowedValues_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,e,t)};ol.format.OWS.readConstraint_=function(e,t){var r=e.getAttribute("name");if(!r){return}return ol.xml.pushParseAndPop({name:r},ol.format.OWS.CONSTRAINT_PARSERS_,e,t)};ol.format.OWS.readContactInfo_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,e,t)};ol.format.OWS.readDcp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,e,t)};ol.format.OWS.readGet_=function(e,t){var r=ol.format.XLink.readHref(e);if(!r){return}return ol.xml.pushParseAndPop({href:r},ol.format.OWS.REQUEST_METHOD_PARSERS_,e,t)};ol.format.OWS.readHttp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,e,t)};ol.format.OWS.readOperation_=function(e,t){var r=e.getAttribute("name"),o=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,e,t);if(!o){return}var i=t[t.length-1];i[r]=o};ol.format.OWS.readOperationsMetadata_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,e,t)};ol.format.OWS.readPhone_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,e,t)};ol.format.OWS.readServiceIdentification_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,e,t)};ol.format.OWS.readServiceContact_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,e,t)};ol.format.OWS.readServiceProvider_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,e,t)};ol.format.OWS.readValue_=function(e){return ol.format.XSD.readString(e)};ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)});ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)});ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)});ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)});ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)});ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:void 0});ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)});ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_});ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)});ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)});ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)});goog.provide("ol.geom.flat.flip");ol.geom.flat.flip.flipXY=function(e,t,r,o,i,n){var a,p;if(i!==void 0){a=i;p=n!==void 0?n:0}else{a=[];p=0}var l=t;while(l<r){var s=e[l++];a[p++]=e[l++];a[p++]=s;for(var y=2;y<o;++y){a[p++]=e[l++]}}a.length=p;return a};goog.provide("ol.format.Polyline");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.flip");goog.require("ol.geom.flat.inflate");goog.require("ol.proj");ol.format.Polyline=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.factor_=t.factor?t.factor:1e5;this.geometryLayout_=t.geometryLayout?t.geometryLayout:ol.geom.GeometryLayout.XY};ol.inherits(ol.format.Polyline,ol.format.TextFeature);ol.format.Polyline.encodeDeltas=function(e,t,r){var o=r?r:1e5,n,a=Array(t);for(n=0;n<t;++n){a[n]=0}var p,l;for(p=0,l=e.length;p<l;){for(n=0;n<t;++n,++p){var s=e[p],y=s-a[n];a[n]=s;e[p]=y}}return ol.format.Polyline.encodeFloats(e,o)};ol.format.Polyline.decodeDeltas=function(e,t,r){var o=r?r:1e5,n,a=Array(t);for(n=0;n<t;++n){a[n]=0}var p=ol.format.Polyline.decodeFloats(e,o),l,s;for(l=0,s=p.length;l<s;){for(n=0;n<t;++n,++l){a[n]+=p[l];p[l]=a[n]}}return p};ol.format.Polyline.encodeFloats=function(e,t){var r=t?t:1e5,o,n;for(o=0,n=e.length;o<n;++o){e[o]=Math.round(e[o]*r)}return ol.format.Polyline.encodeSignedIntegers(e)};ol.format.Polyline.decodeFloats=function(e,t){var r=t?t:1e5,o=ol.format.Polyline.decodeSignedIntegers(e),n,a;for(n=0,a=o.length;n<a;++n){o[n]/=r}return o};ol.format.Polyline.encodeSignedIntegers=function(e){var t,r;for(t=0,r=e.length;t<r;++t){var o=e[t];e[t]=0>o?~(o<<1):o<<1}return ol.format.Polyline.encodeUnsignedIntegers(e)};ol.format.Polyline.decodeSignedIntegers=function(e){var t=ol.format.Polyline.decodeUnsignedIntegers(e),r,o;for(r=0,o=t.length;r<o;++r){var n=t[r];t[r]=1&n?~(n>>1):n>>1}return t};ol.format.Polyline.encodeUnsignedIntegers=function(e){var t="",r,o;for(r=0,o=e.length;r<o;++r){t+=ol.format.Polyline.encodeUnsignedInteger(e[r])}return t};ol.format.Polyline.decodeUnsignedIntegers=function(e){var t=[],r=0,o=0,n,a;for(n=0,a=e.length;n<a;++n){var p=e.charCodeAt(n)-63;r|=(31&p)<<o;if(32>p){t.push(r);r=0;o=0}else{o+=5}}return t};ol.format.Polyline.encodeUnsignedInteger=function(e){var t,r="";while(32<=e){t=(32|31&e)+63;r+=String.fromCharCode(t);e>>=5}t=e+63;r+=String.fromCharCode(t);return r};ol.format.Polyline.prototype.readFeature;ol.format.Polyline.prototype.readFeatureFromText=function(e,t){var r=this.readGeometryFromText(e,t);return new ol.Feature(r)};ol.format.Polyline.prototype.readFeatures;ol.format.Polyline.prototype.readFeaturesFromText=function(e,t){var r=this.readFeatureFromText(e,t);return[r]};ol.format.Polyline.prototype.readGeometry;ol.format.Polyline.prototype.readGeometryFromText=function(e,t){var r=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_),o=ol.format.Polyline.decodeDeltas(e,r,this.factor_);ol.geom.flat.flip.flipXY(o,0,o.length,r,o);var i=ol.geom.flat.inflate.coordinates(o,0,o.length,r);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(i,this.geometryLayout_),!1,this.adaptOptions(t))};ol.format.Polyline.prototype.readProjection;ol.format.Polyline.prototype.writeFeatureText=function(e,t){var r=e.getGeometry();if(r){return this.writeGeometryText(r,t)}else{ol.asserts.assert(!1,40);return""}};ol.format.Polyline.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)};ol.format.Polyline.prototype.writeGeometry;ol.format.Polyline.prototype.writeGeometryText=function(e,t){e=ol.format.Feature.transformWithOptions(e,!0,this.adaptOptions(t));var r=e.getFlatCoordinates(),o=e.getStride();ol.geom.flat.flip.flipXY(r,0,r.length,o,r);return ol.format.Polyline.encodeDeltas(r,o,this.factor_)};goog.provide("ol.format.TopoJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.proj");ol.format.TopoJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.layerName_=t.layerName;this.layers_=t.layers?t.layers:null;this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")};ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature);ol.format.TopoJSON.concatenateArcs_=function(e,t){var r=[],o,n,a,p,l,s;for(a=0,p=e.length;a<p;++a){o=e[a];if(0<a){r.pop()}if(0<=o){n=t[o]}else{n=t[~o].slice().reverse()}r.push.apply(r,n)}for(l=0,s=r.length;l<s;++l){r[l]=r[l].slice()}return r};ol.format.TopoJSON.readPointGeometry_=function(e,t,r){var o=e.coordinates;if(t&&r){ol.format.TopoJSON.transformVertex_(o,t,r)}return new ol.geom.Point(o)};ol.format.TopoJSON.readMultiPointGeometry_=function(e,t,r){var o=e.coordinates,n,a;if(t&&r){for(n=0,a=o.length;n<a;++n){ol.format.TopoJSON.transformVertex_(o[n],t,r)}}return new ol.geom.MultiPoint(o)};ol.format.TopoJSON.readLineStringGeometry_=function(e,t){var r=ol.format.TopoJSON.concatenateArcs_(e.arcs,t);return new ol.geom.LineString(r)};ol.format.TopoJSON.readMultiLineStringGeometry_=function(e,t){var r=[],o,n;for(o=0,n=e.arcs.length;o<n;++o){r[o]=ol.format.TopoJSON.concatenateArcs_(e.arcs[o],t)}return new ol.geom.MultiLineString(r)};ol.format.TopoJSON.readPolygonGeometry_=function(e,t){var r=[],o,n;for(o=0,n=e.arcs.length;o<n;++o){r[o]=ol.format.TopoJSON.concatenateArcs_(e.arcs[o],t)}return new ol.geom.Polygon(r)};ol.format.TopoJSON.readMultiPolygonGeometry_=function(e,t){var r=[],o,n,a,p,l,s;for(l=0,s=e.arcs.length;l<s;++l){o=e.arcs[l];n=[];for(a=0,p=o.length;a<p;++a){n[a]=ol.format.TopoJSON.concatenateArcs_(o[a],t)}r[l]=n}return new ol.geom.MultiPolygon(r)};ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(e,t,r,o,n,a,p){var l=e.geometries,s=[],y,c;for(y=0,c=l.length;y<c;++y){s[y]=ol.format.TopoJSON.readFeatureFromGeometry_(l[y],t,r,o,n,a,p)}return s};ol.format.TopoJSON.readFeatureFromGeometry_=function(e,t,r,o,i,n,a){var p,l=e.type,s=ol.format.TopoJSON.GEOMETRY_READERS_[l];if("Point"===l||"MultiPoint"===l){p=s(e,r,o)}else{p=s(e,t)}var y=new ol.Feature;y.setGeometry(ol.format.Feature.transformWithOptions(p,!1,a));if(e.id!==void 0){y.setId(e.id)}var c=e.properties;if(i){if(!c){c={}}c[i]=n}if(c){y.setProperties(c)}return y};ol.format.TopoJSON.prototype.readFeatures;ol.format.TopoJSON.prototype.readFeaturesFromObject=function(e,t){if("Topology"==e.type){var r=e,o,i=null,n=null;if(r.transform){o=r.transform;i=o.scale;n=o.translate}var a=r.arcs;if(o){ol.format.TopoJSON.transformArcs_(a,i,n)}var p=[],l=r.objects,s=this.layerName_,y,c;for(y in l){if(this.layers_&&-1==this.layers_.indexOf(y)){continue}if("GeometryCollection"===l[y].type){c=l[y];p.push.apply(p,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(c,a,i,n,s,y,t))}else{c=l[y];p.push(ol.format.TopoJSON.readFeatureFromGeometry_(c,a,i,n,s,y,t))}}return p}else{return[]}};ol.format.TopoJSON.transformArcs_=function(e,t,r){var o,n;for(o=0,n=e.length;o<n;++o){ol.format.TopoJSON.transformArc_(e[o],t,r)}};ol.format.TopoJSON.transformArc_=function(e,t,r){var o=0,n=0,a,p,l;for(p=0,l=e.length;p<l;++p){a=e[p];o+=a[0];n+=a[1];a[0]=o;a[1]=n;ol.format.TopoJSON.transformVertex_(a,t,r)}};ol.format.TopoJSON.transformVertex_=function(e,t,r){e[0]=e[0]*t[0]+r[0];e[1]=e[1]*t[1]+r[1]};ol.format.TopoJSON.prototype.readProjection;ol.format.TopoJSON.prototype.readProjectionFromObject=function(){return this.defaultDataProjection};ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_};ol.format.TopoJSON.prototype.writeFeatureObject=function(){};ol.format.TopoJSON.prototype.writeFeaturesObject=function(){};ol.format.TopoJSON.prototype.writeGeometryObject=function(){};ol.format.TopoJSON.prototype.readGeometryFromObject=function(){};ol.format.TopoJSON.prototype.readFeatureFromObject=function(){};goog.provide("ol.format.WFS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.GML2");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.filter");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.WFS=function(e){var t=e?e:{};this.featureType_=t.featureType;this.featureNS_=t.featureNS;this.gmlFormat_=t.gmlFormat?t.gmlFormat:new ol.format.GML3;this.schemaLocation_=t.schemaLocation?t.schemaLocation:ol.format.WFS.SCHEMA_LOCATIONS[ol.format.WFS.DEFAULT_VERSION];ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WFS,ol.format.XMLFeature);ol.format.WFS.FEATURE_PREFIX="feature";ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/";ol.format.WFS.OGCNS="http://www.opengis.net/ogc";ol.format.WFS.WFSNS="http://www.opengis.net/wfs";ol.format.WFS.FESNS="http://www.opengis.net/fes";ol.format.WFS.SCHEMA_LOCATIONS={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};ol.format.WFS.DEFAULT_VERSION="1.1.0";ol.format.WFS.prototype.getFeatureType=function(){return this.featureType_};ol.format.WFS.prototype.setFeatureType=function(e){this.featureType_=e};ol.format.WFS.prototype.readFeatures;ol.format.WFS.prototype.readFeaturesFromNode=function(e,t){var r={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(r,this.getReadOptions(e,t?t:{}));this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS].featureMember=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var o=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[r],this.gmlFormat_);if(!o){o=[]}return o};ol.format.WFS.prototype.readTransactionResponse=function(e){if(ol.xml.isDocument(e)){return this.readTransactionResponseFromDocument(e)}else if(ol.xml.isNode(e)){return this.readTransactionResponseFromNode(e)}else if("string"==typeof e){var t=ol.xml.parse(e);return this.readTransactionResponseFromDocument(t)}else{}};ol.format.WFS.prototype.readFeatureCollectionMetadata=function(e){if(ol.xml.isDocument(e)){return this.readFeatureCollectionMetadataFromDocument(e)}else if(ol.xml.isNode(e)){return this.readFeatureCollectionMetadataFromNode(e)}else if("string"==typeof e){var t=ol.xml.parse(e);return this.readFeatureCollectionMetadataFromDocument(t)}else{}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(t)}}};ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={},r=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("numberOfFeatures"));t.numberOfFeatures=r;return ol.xml.pushParseAndPop(t,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,e,[],this.gmlFormat_)};ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}};ol.format.WFS.readTransactionSummary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,e,t)};ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(e){return e.getAttribute("fid")})}};ol.format.WFS.fidParser_=function(e,t){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,e,t)};ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}};ol.format.WFS.readInsertResults_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,e,t)};ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}};ol.format.WFS.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(t)}}};ol.format.WFS.prototype.readTransactionResponseFromNode=function(e){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,e,[])};ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.WFS.writeFeature_=function(e,t,r){var o=r[r.length-1],i=o.featureType,n=o.featureNS,a=o.gmlVersion,p=ol.xml.createElementNS(n,i);e.appendChild(p);if(2===a){ol.format.GML2.prototype.writeFeatureElement(p,t,r)}else{ol.format.GML3.prototype.writeFeatureElement(p,t,r)}};ol.format.WFS.writeOgcFidFilter_=function(e,t){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter"),o=ol.xml.createElementNS(ol.format.WFS.OGCNS,"FeatureId");r.appendChild(o);o.setAttribute("fid",t);e.appendChild(r)};ol.format.WFS.getTypeName_=function(e,t){e=e?e:ol.format.WFS.FEATURE_PREFIX;var r=e+":";if(0===t.indexOf(r)){return t}else{return r+t}};ol.format.WFS.writeDelete_=function(e,t,r){var o=r[r.length-1];ol.asserts.assert(t.getId()!==void 0,26);var i=o.featureType,n=o.featurePrefix,a=o.featureNS,p=ol.format.WFS.getTypeName_(n,i);e.setAttribute("typeName",p);ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,a);var l=t.getId();if(l!==void 0){ol.format.WFS.writeOgcFidFilter_(e,l,r)}};ol.format.WFS.writeUpdate_=function(e,t,r){var o=r[r.length-1];ol.asserts.assert(t.getId()!==void 0,27);var n=o.featureType,a=o.featurePrefix,p=o.featureNS,l=ol.format.WFS.getTypeName_(a,n),s=t.getGeometryName();e.setAttribute("typeName",l);ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+a,p);var y=t.getId();if(y!==void 0){for(var c=t.getKeys(),d=[],g=0,m=c.length,u;g<m;g++){u=t.get(c[g]);if(u!==void 0){var _=c[g];if(u instanceof ol.geom.Geometry){_=s}d.push({name:_,value:u})}}ol.xml.pushSerializeAndPop({gmlVersion:o.gmlVersion,node:e,hasZ:o.hasZ,srsName:o.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),d,r);ol.format.WFS.writeOgcFidFilter_(e,y,r)}};ol.format.WFS.writeProperty_=function(e,t,r){var o=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Name"),i=r[r.length-1],n=i.gmlVersion;e.appendChild(o);ol.format.XSD.writeStringTextNode(o,t.name);if(t.value!==void 0&&null!==t.value){var a=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Value");e.appendChild(a);if(t.value instanceof ol.geom.Geometry){if(2===n){ol.format.GML2.prototype.writeGeometryElement(a,t.value,r)}else{ol.format.GML3.prototype.writeGeometryElement(a,t.value,r)}}else{ol.format.XSD.writeStringTextNode(a,t.value)}}};ol.format.WFS.writeNative_=function(e,t){if(t.vendorId){e.setAttribute("vendorId",t.vendorId)}if(t.safeToIgnore!==void 0){e.setAttribute("safeToIgnore",t.safeToIgnore)}if(t.value!==void 0){ol.format.XSD.writeStringTextNode(e,t.value)}};ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}};ol.format.WFS.writeQuery_=function(e,t,r){var o=r[r.length-1],i=o.featurePrefix,n=o.featureNS,a=o.propertyNames,p=o.srsName,l;if(i){l=ol.format.WFS.getTypeName_(i,t)}else{l=t}e.setAttribute("typeName",l);if(p){e.setAttribute("srsName",p)}if(n){ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+i,n)}var s=ol.obj.assign({},o);s.node=e;ol.xml.pushSerializeAndPop(s,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),a,r);var y=o.filter;if(y){var c=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");e.appendChild(c);ol.format.WFS.writeFilterCondition_(c,y,r)}};ol.format.WFS.writeFilterCondition_=function(e,t,r){ol.xml.pushSerializeAndPop({node:e},ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(t.getTagName()),[t],r)};ol.format.WFS.writeBboxFilter_=function(e,t,r){var o=r[r.length-1];o.srsName=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.extent,r)};ol.format.WFS.writeContainsFilter_=function(e,t,r){var o=r[r.length-1];o.srsName=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,r)};ol.format.WFS.writeIntersectsFilter_=function(e,t,r){var o=r[r.length-1];o.srsName=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,r)};ol.format.WFS.writeWithinFilter_=function(e,t,r){var o=r[r.length-1];o.srsName=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,r)};ol.format.WFS.writeDuringFilter_=function(e,t){var r=ol.xml.createElementNS(ol.format.WFS.FESNS,"ValueReference");ol.format.XSD.writeStringTextNode(r,t.propertyName);e.appendChild(r);var o=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimePeriod");e.appendChild(o);var i=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"begin");o.appendChild(i);ol.format.WFS.writeTimeInstant_(i,t.begin);var n=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"end");o.appendChild(n);ol.format.WFS.writeTimeInstant_(n,t.end)};ol.format.WFS.writeLogicalFilter_=function(e,t,r){for(var o={node:e},n=t.conditions,a=0,p=n.length,l;a<p;++a){l=n[a];ol.xml.pushSerializeAndPop(o,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(l.getTagName()),[l],r)}};ol.format.WFS.writeNotFilter_=function(e,t,r){var o=t.condition;ol.xml.pushSerializeAndPop({node:e},ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(o.getTagName()),[o],r)};ol.format.WFS.writeComparisonFilter_=function(e,t){if(t.matchCase!==void 0){e.setAttribute("matchCase",t.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);ol.format.WFS.writeOgcLiteral_(e,""+t.expression)};ol.format.WFS.writeIsNullFilter_=function(e,t){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName)};ol.format.WFS.writeIsBetweenFilter_=function(e,t){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"LowerBoundary");e.appendChild(r);ol.format.WFS.writeOgcLiteral_(r,""+t.lowerBoundary);var o=ol.xml.createElementNS(ol.format.WFS.OGCNS,"UpperBoundary");e.appendChild(o);ol.format.WFS.writeOgcLiteral_(o,""+t.upperBoundary)};ol.format.WFS.writeIsLikeFilter_=function(e,t){e.setAttribute("wildCard",t.wildCard);e.setAttribute("singleChar",t.singleChar);e.setAttribute("escapeChar",t.escapeChar);if(t.matchCase!==void 0){e.setAttribute("matchCase",t.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);ol.format.WFS.writeOgcLiteral_(e,""+t.pattern)};ol.format.WFS.writeOgcExpression_=function(e,t,r){var o=ol.xml.createElementNS(ol.format.WFS.OGCNS,e);ol.format.XSD.writeStringTextNode(o,r);t.appendChild(o)};ol.format.WFS.writeOgcPropertyName_=function(e,t){ol.format.WFS.writeOgcExpression_("PropertyName",e,t)};ol.format.WFS.writeOgcLiteral_=function(e,t){ol.format.WFS.writeOgcExpression_("Literal",e,t)};ol.format.WFS.writeTimeInstant_=function(e,t){var r=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimeInstant");e.appendChild(r);var o=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"timePosition");r.appendChild(o);ol.format.XSD.writeStringTextNode(o,t)};ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{During:ol.xml.makeChildAppender(ol.format.WFS.writeDuringFilter_),And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Contains:ol.xml.makeChildAppender(ol.format.WFS.writeContainsFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}};ol.format.WFS.writeFilter=function(e){var t=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");ol.format.WFS.writeFilterCondition_(t,e,[]);return t};ol.format.WFS.writeGetFeature_=function(e,t,r){var o=r[r.length-1],i=ol.obj.assign({},o);i.node=e;ol.xml.pushSerializeAndPop(i,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),t,r)};ol.format.WFS.prototype.writeGetFeature=function(e){var t=ol.xml.createElementNS(ol.format.WFS.WFSNS,"GetFeature");t.setAttribute("service","WFS");t.setAttribute("version","1.1.0");var r;if(e){if(e.handle){t.setAttribute("handle",e.handle)}if(e.outputFormat){t.setAttribute("outputFormat",e.outputFormat)}if(e.maxFeatures!==void 0){t.setAttribute("maxFeatures",e.maxFeatures)}if(e.resultType){t.setAttribute("resultType",e.resultType)}if(e.startIndex!==void 0){t.setAttribute("startIndex",e.startIndex)}if(e.count!==void 0){t.setAttribute("count",e.count)}r=e.filter;if(e.bbox){ol.asserts.assert(e.geometryName,12);var o=ol.format.filter.bbox(e.geometryName,e.bbox,e.srsName);if(r){r=ol.format.filter.and(r,o)}else{r=o}}}ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var i={node:t,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:r,propertyNames:e.propertyNames?e.propertyNames:[]};ol.asserts.assert(Array.isArray(e.featureTypes),11);ol.format.WFS.writeGetFeature_(t,e.featureTypes,[i]);return t};ol.format.WFS.prototype.writeTransaction=function(e,t,r,o){var i=[],n=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Transaction"),a=o.version?o.version:ol.format.WFS.DEFAULT_VERSION,p="1.0.0"===a?2:3;n.setAttribute("service","WFS");n.setAttribute("version",a);var l,s;if(o){l=o.gmlOptions?o.gmlOptions:{};if(o.handle){n.setAttribute("handle",o.handle)}}var y=ol.format.WFS.SCHEMA_LOCATIONS[a];ol.xml.setAttributeNS(n,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",y);var c=o.featurePrefix?o.featurePrefix:ol.format.WFS.FEATURE_PREFIX;if(e){s={node:n,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:p,hasZ:o.hasZ,srsName:o.srsName};ol.obj.assign(s,l);ol.xml.pushSerializeAndPop(s,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),e,i)}if(t){s={node:n,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:p,hasZ:o.hasZ,srsName:o.srsName};ol.obj.assign(s,l);ol.xml.pushSerializeAndPop(s,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),t,i)}if(r){ol.xml.pushSerializeAndPop({node:n,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:p,srsName:o.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),r,i)}if(o.nativeElements){ol.xml.pushSerializeAndPop({node:n,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:c,gmlVersion:p,srsName:o.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),o.nativeElements,i)}return n};ol.format.WFS.prototype.readProjection;ol.format.WFS.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(t)}}return null};ol.format.WFS.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(var t=e.firstElementChild;t;t=t.nextElementSibling){if(!(0===t.childNodes.length||1===t.childNodes.length&&3===t.firstChild.nodeType)){var r=[{}];this.gmlFormat_.readGeometryElement(t,r);return ol.proj.get(r.pop().srsName)}}}return null};goog.provide("ol.format.WKT");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");ol.format.WKT=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.splitCollection_=t.splitCollection!==void 0?t.splitCollection:!1};ol.inherits(ol.format.WKT,ol.format.TextFeature);ol.format.WKT.EMPTY="EMPTY";ol.format.WKT.Z="Z";ol.format.WKT.M="M";ol.format.WKT.ZM="ZM";ol.format.WKT.encodePointGeometry_=function(e){var t=e.getCoordinates();if(0===t.length){return""}return t.join(" ")};ol.format.WKT.encodeMultiPointGeometry_=function(e){for(var t=[],r=e.getPoints(),o=0,n=r.length;o<n;++o){t.push("("+ol.format.WKT.encodePointGeometry_(r[o])+")")}return t.join(",")};ol.format.WKT.encodeGeometryCollectionGeometry_=function(e){for(var t=[],r=e.getGeometries(),o=0,n=r.length;o<n;++o){t.push(ol.format.WKT.encode_(r[o]))}return t.join(",")};ol.format.WKT.encodeLineStringGeometry_=function(e){for(var t=e.getCoordinates(),r=[],o=0,n=t.length;o<n;++o){r.push(t[o].join(" "))}return r.join(",")};ol.format.WKT.encodeMultiLineStringGeometry_=function(e){for(var t=[],r=e.getLineStrings(),o=0,n=r.length;o<n;++o){t.push("("+ol.format.WKT.encodeLineStringGeometry_(r[o])+")")}return t.join(",")};ol.format.WKT.encodePolygonGeometry_=function(e){for(var t=[],r=e.getLinearRings(),o=0,n=r.length;o<n;++o){t.push("("+ol.format.WKT.encodeLineStringGeometry_(r[o])+")")}return t.join(",")};ol.format.WKT.encodeMultiPolygonGeometry_=function(e){for(var t=[],r=e.getPolygons(),o=0,n=r.length;o<n;++o){t.push("("+ol.format.WKT.encodePolygonGeometry_(r[o])+")")}return t.join(",")};ol.format.WKT.encodeGeometryLayout_=function(e){var t=e.getLayout(),r="";if(t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM){r+=ol.format.WKT.Z}if(t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM){r+=ol.format.WKT.M}return r};ol.format.WKT.encode_=function(e){var t=e.getType(),r=ol.format.WKT.GeometryEncoder_[t],o=r(e);t=t.toUpperCase();if(e instanceof ol.geom.SimpleGeometry){var i=ol.format.WKT.encodeGeometryLayout_(e);if(0<i.length){t+=" "+i}}if(0===o.length){return t+" "+ol.format.WKT.EMPTY}return t+"("+o+")"};ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_};ol.format.WKT.prototype.parse_=function(e){var t=new ol.format.WKT.Lexer(e),r=new ol.format.WKT.Parser(t);return r.parse()};ol.format.WKT.prototype.readFeature;ol.format.WKT.prototype.readFeatureFromText=function(e,t){var r=this.readGeometryFromText(e,t);if(r){var o=new ol.Feature;o.setGeometry(r);return o}return null};ol.format.WKT.prototype.readFeatures;ol.format.WKT.prototype.readFeaturesFromText=function(e,t){var r=[],o=this.readGeometryFromText(e,t);if(this.splitCollection_&&o.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){r=o.getGeometriesArray()}else{r=[o]}for(var n,a=[],p=0,l=r.length;p<l;++p){n=new ol.Feature;n.setGeometry(r[p]);a.push(n)}return a};ol.format.WKT.prototype.readGeometry;ol.format.WKT.prototype.readGeometryFromText=function(e,t){var r=this.parse_(e);if(r){return ol.format.Feature.transformWithOptions(r,!1,t)}else{return null}};ol.format.WKT.prototype.writeFeature;ol.format.WKT.prototype.writeFeatureText=function(e,t){var r=e.getGeometry();if(r){return this.writeGeometryText(r,t)}return""};ol.format.WKT.prototype.writeFeatures;ol.format.WKT.prototype.writeFeaturesText=function(e,t){if(1==e.length){return this.writeFeatureText(e[0],t)}for(var r=[],o=0,n=e.length;o<n;++o){r.push(e[o].getGeometry())}var a=new ol.geom.GeometryCollection(r);return this.writeGeometryText(a,t)};ol.format.WKT.prototype.writeGeometry;ol.format.WKT.prototype.writeGeometryText=function(e,t){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(e,!0,t))};ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};ol.format.WKT.Lexer=function(e){this.wkt=e;this.index_=-1};ol.format.WKT.Lexer.prototype.isAlpha_=function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e};ol.format.WKT.Lexer.prototype.isNumeric_=function(e,t){var r=t!==void 0?t:!1;return"0"<=e&&"9">=e||"."==e&&!r};ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e};ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};ol.format.WKT.Lexer.prototype.nextToken=function(){var e=this.nextChar_(),t={position:this.index_,value:e};if("("==e){t.type=ol.format.WKT.TokenType_.LEFT_PAREN}else if(","==e){t.type=ol.format.WKT.TokenType_.COMMA}else if(")"==e){t.type=ol.format.WKT.TokenType_.RIGHT_PAREN}else if(this.isNumeric_(e)||"-"==e){t.type=ol.format.WKT.TokenType_.NUMBER;t.value=this.readNumber_()}else if(this.isAlpha_(e)){t.type=ol.format.WKT.TokenType_.TEXT;t.value=this.readText_()}else if(this.isWhiteSpace_(e)){return this.nextToken()}else if(""===e){t.type=ol.format.WKT.TokenType_.EOF}else{throw new Error("Unexpected character: "+e)}return t};ol.format.WKT.Lexer.prototype.readNumber_=function(){var e,t=this.index_,r=!1,o=!1;do{if("."==e){r=!0}else if("e"==e||"E"==e){o=!0}e=this.nextChar_()}while(this.isNumeric_(e,r)||!o&&("e"==e||"E"==e)||o&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))};ol.format.WKT.Lexer.prototype.readText_=function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()};ol.format.WKT.Parser=function(e){this.lexer_=e;this.token_;this.layout_=ol.geom.GeometryLayout.XY};ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};ol.format.WKT.Parser.prototype.isTokenType=function(e){var t=this.token_.type==e;return t};ol.format.WKT.Parser.prototype.match=function(e){var t=this.isTokenType(e);if(t){this.consume_()}return t};ol.format.WKT.Parser.prototype.parse=function(){this.consume_();var e=this.parseGeometry_();return e};ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var e=ol.geom.GeometryLayout.XY,t=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var r=t.value;if(r===ol.format.WKT.Z){e=ol.geom.GeometryLayout.XYZ}else if(r===ol.format.WKT.M){e=ol.geom.GeometryLayout.XYM}else if(r===ol.format.WKT.ZM){e=ol.geom.GeometryLayout.XYZM}if(e!==ol.geom.GeometryLayout.XY){this.consume_()}}return e};ol.format.WKT.Parser.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var t=e.value;this.layout_=this.parseGeometryLayout_();if(t==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var r=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(r)}else{var o=ol.format.WKT.Parser.GeometryParser_[t],i=ol.format.WKT.Parser.GeometryConstructor_[t];if(!o||!i){throw new Error("Invalid geometry type: "+t)}var n=o.call(this);return new i(n,this.layout_)}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return null}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e;if(this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN){e=this.parsePointTextList_()}else{e=this.parsePointList_()}if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePoint_=function(){for(var e=[],t=this.layout_.length,r=0,o;r<t;++r){o=this.token_;if(this.match(ol.format.WKT.TokenType_.NUMBER)){e.push(o.value)}else{break}}if(e.length==t){return e}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointList_=function(){var e=[this.parsePoint_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePoint_())}return e};ol.format.WKT.Parser.prototype.parsePointTextList_=function(){var e=[this.parsePointText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePointText_())}return e};ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){var e=[this.parseLineStringText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parseLineStringText_())}return e};ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){var e=[this.parsePolygonText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePolygonText_())}return e};ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;if(e){this.consume_()}return e};ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon};ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_};goog.provide("ol.format.WMSCapabilities");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMSCapabilities=function(){ol.format.XML.call(this);this.version=void 0};ol.inherits(ol.format.WMSCapabilities,ol.format.XML);ol.format.WMSCapabilities.prototype.read;ol.format.WMSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.WMSCapabilities.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var t=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,e,[]);return t?t:null};ol.format.WMSCapabilities.readAttribution_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,e,t)};ol.format.WMSCapabilities.readBoundingBox_=function(e){var t=[ol.format.XSD.readDecimalString(e.getAttribute("minx")),ol.format.XSD.readDecimalString(e.getAttribute("miny")),ol.format.XSD.readDecimalString(e.getAttribute("maxx")),ol.format.XSD.readDecimalString(e.getAttribute("maxy"))],r=[ol.format.XSD.readDecimalString(e.getAttribute("resx")),ol.format.XSD.readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:t,res:r}};ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,e,t);if(!r){return}var o=r.westBoundLongitude,i=r.southBoundLatitude,n=r.eastBoundLongitude,a=r.northBoundLatitude;if(o===void 0||i===void 0||n===void 0||a===void 0){return}return[o,i,n,a]};ol.format.WMSCapabilities.readCapability_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,e,t)};ol.format.WMSCapabilities.readService_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactInformation_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactPersonPrimary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,e,t)};ol.format.WMSCapabilities.readException_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,e,t)};ol.format.WMSCapabilities.readCapabilityLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t)};ol.format.WMSCapabilities.readLayer_=function(e,t){var r=t[t.length-1],o=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t);if(!o){return}var i=ol.format.XSD.readBooleanString(e.getAttribute("queryable"));if(i===void 0){i=r.queryable}o.queryable=i!==void 0?i:!1;var n=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("cascaded"));if(n===void 0){n=r.cascaded}o.cascaded=n;var a=ol.format.XSD.readBooleanString(e.getAttribute("opaque"));if(a===void 0){a=r.opaque}o.opaque=a!==void 0?a:!1;var p=ol.format.XSD.readBooleanString(e.getAttribute("noSubsets"));if(p===void 0){p=r.noSubsets}o.noSubsets=p!==void 0?p:!1;var l=ol.format.XSD.readDecimalString(e.getAttribute("fixedWidth"));if(!l){l=r.fixedWidth}o.fixedWidth=l;var s=ol.format.XSD.readDecimalString(e.getAttribute("fixedHeight"));if(!s){s=r.fixedHeight}o.fixedHeight=s;["Style","CRS","AuthorityURL"].forEach(function(e){if(e in r){var t=o[e]||[];o[e]=t.concat(r[e])}});["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){if(!(e in o)){var t=r[e];o[e]=t}});return o};ol.format.WMSCapabilities.readDimension_=function(e){var t={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(e.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(e.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(e.getAttribute("current")),values:ol.format.XSD.readString(e)};return t};ol.format.WMSCapabilities.readFormatOnlineresource_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,e,t)};ol.format.WMSCapabilities.readRequest_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,e,t)};ol.format.WMSCapabilities.readDCPType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,e,t)};ol.format.WMSCapabilities.readHTTP_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,e,t)};ol.format.WMSCapabilities.readOperationType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,e,t)};ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(e,t){var r=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(r){var o=[ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("height"))];r.size=o;return r}};ol.format.WMSCapabilities.readAuthorityURL_=function(e,t){var r=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(r){r.name=e.getAttribute("name");return r}};ol.format.WMSCapabilities.readMetadataURL_=function(e,t){var r=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(r){r.type=e.getAttribute("type");return r}};ol.format.WMSCapabilities.readStyle_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,e,t)};ol.format.WMSCapabilities.readKeywordList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,e,t)};ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"];ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)});ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)});ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)});ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)});ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)});ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)});ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)});ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)});ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)});ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)});goog.provide("ol.format.WMSGetFeatureInfo");goog.require("ol");goog.require("ol.array");goog.require("ol.format.GML2");goog.require("ol.format.XMLFeature");goog.require("ol.obj");goog.require("ol.xml");ol.format.WMSGetFeatureInfo=function(e){var t=e?e:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver";this.gmlFormat_=new ol.format.GML2;this.layers_=t.layers?t.layers:null;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature);ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature";ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer";ol.format.WMSGetFeatureInfo.prototype.getLayers=function(){return this.layers_};ol.format.WMSGetFeatureInfo.prototype.setLayers=function(e){this.layers_=e};ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var r=e.localName,o=[];if(0===e.childNodes.length){return o}if("msGMLOutput"==r){for(var n=0,a=e.childNodes.length,p;n<a;n++){p=e.childNodes[n];if(p.nodeType!==Node.ELEMENT_NODE){continue}var l=t[0],s=ol.format.WMSGetFeatureInfo.layerIdentifier_,y=p.localName.replace(s,"");if(this.layers_&&!ol.array.includes(this.layers_,y)){continue}var c=y+ol.format.WMSGetFeatureInfo.featureIdentifier_;l.featureType=c;l.featureNS=this.featureNS_;var d={};d[c]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var g=ol.xml.makeStructureNS([l.featureNS,null],d);p.setAttribute("namespaceURI",this.featureNS_);var m=ol.xml.pushParseAndPop([],g,p,t,this.gmlFormat_);if(m){ol.array.extend(o,m)}}}if("FeatureCollection"==r){var u=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);if(u){o=u}}return o};ol.format.WMSGetFeatureInfo.prototype.readFeatures;ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,t){var r={};if(t){ol.obj.assign(r,this.getReadOptions(e,t))}return this.readFeatures_(e,[r])};ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(){};ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(){};ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(){};goog.provide("ol.format.WMTSCapabilities");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.OWS");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMTSCapabilities=function(){ol.format.XML.call(this);this.owsParser_=new ol.format.OWS};ol.inherits(ol.format.WMTSCapabilities,ol.format.XML);ol.format.WMTSCapabilities.prototype.read;ol.format.WMTSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.WMTSCapabilities.prototype.readFromNode=function(e){var t=e.getAttribute("version").trim(),r=this.owsParser_.readFromNode(e);if(!r){return null}r.version=t;r=ol.xml.pushParseAndPop(r,ol.format.WMTSCapabilities.PARSERS_,e,[]);return r?r:null};ol.format.WMTSCapabilities.readContents_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixSet_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readStyle_=function(e,t){var r=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,e,t);if(!r){return}var o="true"===e.getAttribute("isDefault");r.isDefault=o;return r};ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readDimensions_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,e,t)};ol.format.WMTSCapabilities.readResourceUrl_=function(e){var t=e.getAttribute("format"),r=e.getAttribute("template"),o=e.getAttribute("resourceType"),i={};if(t){i.format=t}if(r){i.template=r}if(o){i.resourceType=o}return i};ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(e,t){var r=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,e,t);if(2!=r.length){return}return ol.extent.boundingExtent(r)};ol.format.WMTSCapabilities.readLegendUrl_=function(e){var t={format:e.getAttribute("format"),href:ol.format.XLink.readHref(e)};return t};ol.format.WMTSCapabilities.readCoordinates_=function(e){var t=ol.format.XSD.readString(e).split(" ");if(!t||2!=t.length){return}var r=+t[0],o=+t[1];if(isNaN(r)||isNaN(o)){return}return[r,o]};ol.format.WMTSCapabilities.readTileMatrix_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixLimits_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,e,t)};ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"];ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)});ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)});ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrixSetLimits:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)});ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixLimits:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)});ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),MinTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MinTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)});ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));goog.provide("ol.GeolocationProperty");ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};goog.provide("ol.Geolocation");goog.require("ol");goog.require("ol.GeolocationProperty");goog.require("ol.Object");goog.require("ol.Sphere");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.geom.Polygon");goog.require("ol.has");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.proj.EPSG4326");ol.Geolocation=function(e){ol.Object.call(this);var t=e||{};this.position_=null;this.transform_=ol.proj.identityTransform;this.sphere_=new ol.Sphere(ol.proj.EPSG4326.RADIUS);this.watchId_=void 0;ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this);if(t.projection!==void 0){this.setProjection(t.projection)}if(t.trackingOptions!==void 0){this.setTrackingOptions(t.trackingOptions)}this.setTracking(t.tracking!==void 0?t.tracking:!1)};ol.inherits(ol.Geolocation,ol.Object);ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(!1);ol.Object.prototype.disposeInternal.call(this)};ol.Geolocation.prototype.handleProjectionChanged_=function(){var e=this.getProjection();if(e){this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),e);if(this.position_){this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_))}}};ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var e=this.getTracking();if(e&&this.watchId_===void 0){this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else if(!e&&this.watchId_!==void 0){navigator.geolocation.clearWatch(this.watchId_);this.watchId_=void 0}}};ol.Geolocation.prototype.positionChange_=function(e){var t=e.coords;this.set(ol.GeolocationProperty.ACCURACY,t.accuracy);this.set(ol.GeolocationProperty.ALTITUDE,null===t.altitude?void 0:t.altitude);this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy);this.set(ol.GeolocationProperty.HEADING,null===t.heading?void 0:ol.math.toRadians(t.heading));if(!this.position_){this.position_=[t.longitude,t.latitude]}else{this.position_[0]=t.longitude;this.position_[1]=t.latitude}var r=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,r);this.set(ol.GeolocationProperty.SPEED,null===t.speed?void 0:t.speed);var o=ol.geom.Polygon.circular(this.sphere_,this.position_,t.accuracy);o.applyTransform(this.transform_);this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,o);this.changed()};ol.Geolocation.prototype.positionError_=function(e){e.type=ol.events.EventType.ERROR;this.setTracking(!1);this.dispatchEvent(e)};ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)};ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null};ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)};ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)};ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)};ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)};ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)};ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)};ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)};ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)};ol.Geolocation.prototype.setProjection=function(e){this.set(ol.GeolocationProperty.PROJECTION,ol.proj.get(e))};ol.Geolocation.prototype.setTracking=function(e){this.set(ol.GeolocationProperty.TRACKING,e)};ol.Geolocation.prototype.setTrackingOptions=function(e){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,e)};goog.provide("ol.geom.Circle");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");ol.geom.Circle=function(e,t,r){ol.geom.SimpleGeometry.call(this);var o=t?t:0;this.setCenterAndRadius(e,o,r)};ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry);ol.geom.Circle.prototype.clone=function(){var e=new ol.geom.Circle(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.Circle.prototype.closestPointXY=function(e,t,r,o){var n=this.flatCoordinates,a=e-n[0],p=t-n[1],l=a*a+p*p;if(l<o){var s;if(0===l){for(s=0;s<this.stride;++s){r[s]=n[s]}}else{var y=this.getRadius()/Math.sqrt(l);r[0]=n[0]+y*a;r[1]=n[1]+y*p;for(s=2;s<this.stride;++s){r[s]=n[s]}}r.length=this.stride;return l}else{return o}};ol.geom.Circle.prototype.containsXY=function(e,t){var r=this.flatCoordinates,o=e-r[0],i=t-r[1];return o*o+i*i<=this.getRadiusSquared_()};ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.Circle.prototype.computeExtent=function(e){var t=this.flatCoordinates,r=t[this.stride]-t[0];return ol.extent.createOrUpdate(t[0]-r,t[1]-r,t[0]+r,t[1]+r,e)};ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};ol.geom.Circle.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t};ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE};ol.geom.Circle.prototype.intersectsExtent=function(e){var t=this.getExtent();if(ol.extent.intersects(e,t)){var r=this.getCenter();if(e[0]<=r[0]&&e[2]>=r[0]){return!0}if(e[1]<=r[1]&&e[3]>=r[1]){return!0}return ol.extent.forEachCorner(e,this.intersectsCoordinate,this)}return!1};ol.geom.Circle.prototype.setCenter=function(e){var t=this.stride,r=this.flatCoordinates[t]-this.flatCoordinates[0],o=e.slice();o[t]=o[0]+r;var n;for(n=1;n<t;++n){o[t+n]=e[n]}this.setFlatCoordinates(this.layout,o)};ol.geom.Circle.prototype.setCenterAndRadius=function(e,t,r){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(r,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=this.flatCoordinates,n=ol.geom.flat.deflate.coordinate(o,0,e,this.stride);o[n++]=o[0]+t;var a,p;for(a=1,p=this.stride;a<p;++a){o[n++]=o[a]}o.length=n;this.changed()}};ol.geom.Circle.prototype.getCoordinates=function(){};ol.geom.Circle.prototype.setCoordinates=function(){};ol.geom.Circle.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};ol.geom.Circle.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e;this.changed()};ol.geom.Circle.prototype.transform;goog.provide("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");ol.geom.flat.geodesic.line_=function(e,t,r){var o=[],i=e(0),n=e(1),p=t(i),l=t(n),s=[n,i],y=[l,p],c=[1,0],d={},g=1e5,u,_,f,S,x,P;while(0<--g&&0<c.length){f=c.pop();i=s.pop();p=y.pop();P=f.toString();if(!(P in d)){o.push(p[0],p[1]);d[P]=!0}S=c.pop();n=s.pop();l=y.pop();x=(f+S)/2;u=e(x);_=t(u);if(ol.math.squaredSegmentDistance(_[0],_[1],p[0],p[1],l[0],l[1])<r){o.push(l[0],l[1]);P=S.toString();d[P]=!0}else{c.push(S,x,x,f);y.push(l,_,_,p);s.push(n,u,u,i)}}return o};ol.geom.flat.geodesic.greatCircleArc=function(e,t,r,o,i,n){var a=ol.proj.get("EPSG:4326"),p=Math.cos(ol.math.toRadians(t)),l=Math.sin(ol.math.toRadians(t)),s=Math.cos(ol.math.toRadians(o)),y=Math.sin(ol.math.toRadians(o)),c=Math.cos(ol.math.toRadians(r-e)),g=Math.sin(ol.math.toRadians(r-e)),m=l*y+p*s*c;return ol.geom.flat.geodesic.line_(function(t){if(1<=m){return[r,o]}var i=t*Math.acos(m),n=Math.cos(i),a=Math.sin(i),d=Math.atan2(g*s,p*y-l*s*c),u=Math.asin(l*n+p*a*Math.cos(d)),_=ol.math.toRadians(e)+Math.atan2(Math.sin(d)*a*p,n-l*Math.sin(u));return[ol.math.toDegrees(_),ol.math.toDegrees(u)]},ol.proj.getTransform(a,i),n)};ol.geom.flat.geodesic.meridian=function(e,t,r,o,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(o){return[e,t+(r-t)*o]},ol.proj.getTransform(n,o),i)};ol.geom.flat.geodesic.parallel=function(e,t,r,o,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(o){return[t+(r-t)*o,e]},ol.proj.getTransform(n,o),i)};goog.provide("ol.geom.flat.topology");goog.require("ol.geom.flat.area");ol.geom.flat.topology.lineStringIsClosed=function(e,t,r,o){var i=r-o;if(e[t]===e[i]&&e[t+1]===e[i+1]&&3<(r-t)/o){return!!ol.geom.flat.area.linearRing(e,t,r,o)}return!1};goog.provide("ol.Graticule");goog.require("ol.coordinate");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.Point");goog.require("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.render.EventType");goog.require("ol.style.Fill");goog.require("ol.style.Stroke");goog.require("ol.style.Text");ol.Graticule=function(e){var t=e||{};this.map_=null;this.projection_=null;this.maxLat_=1/0;this.maxLon_=1/0;this.minLat_=-Infinity;this.minLon_=-Infinity;this.maxLatP_=1/0;this.maxLonP_=1/0;this.minLatP_=-Infinity;this.minLonP_=-Infinity;this.targetSize_=t.targetSize!==void 0?t.targetSize:100;this.maxLines_=t.maxLines!==void 0?t.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=t.strokeStyle!==void 0?t.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_;this.fromLonLatTransform_=void 0;this.toLonLatTransform_=void 0;this.projectionCenterLonLat_=null;this.meridiansLabels_=null;this.parallelsLabels_=null;if(!0==t.showLabels){var r=ol.coordinate.degreesToStringHDMS;this.lonLabelFormatter_=t.lonLabelFormatter==void 0?r.bind(this,"EW"):t.lonLabelFormatter;this.latLabelFormatter_=t.latLabelFormatter==void 0?r.bind(this,"NS"):t.latLabelFormatter;this.lonLabelPosition_=t.lonLabelPosition==void 0?0:t.lonLabelPosition;this.latLabelPosition_=t.latLabelPosition==void 0?1:t.latLabelPosition;this.lonLabelStyle_=t.lonLabelStyle!==void 0?t.lonLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})});this.latLabelStyle_=t.latLabelStyle!==void 0?t.latLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textAlign:"end",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})});this.meridiansLabels_=[];this.parallelsLabels_=[]}this.setMap(t.map!==void 0?t.map:null)};ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"});ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];ol.Graticule.prototype.addMeridian_=function(e,t,r,o,i,n){var a=this.getMeridian_(e,t,r,o,n);if(ol.extent.intersects(a.getExtent(),i)){if(this.meridiansLabels_){var p=this.getMeridianPoint_(a,i,n);this.meridiansLabels_[n]={geom:p,text:this.lonLabelFormatter_(e)}}this.meridians_[n++]=a}return n};ol.Graticule.prototype.getMeridianPoint_=function(e,t,r){var o=e.getFlatCoordinates(),i=Math.max(t[1],o[1]),n=Math.min(t[3],o[o.length-1]),a=ol.math.clamp(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,i,n),p=[o[0],a],l=this.meridiansLabels_[r]!==void 0?this.meridiansLabels_[r].geom:new ol.geom.Point(null);l.setCoordinates(p);return l};ol.Graticule.prototype.addParallel_=function(e,t,r,o,i,n){var a=this.getParallel_(e,t,r,o,n);if(ol.extent.intersects(a.getExtent(),i)){if(this.parallelsLabels_){var p=this.getParallelPoint_(a,i,n);this.parallelsLabels_[n]={geom:p,text:this.latLabelFormatter_(e)}}this.parallels_[n++]=a}return n};ol.Graticule.prototype.getParallelPoint_=function(e,t,r){var o=e.getFlatCoordinates(),i=Math.max(t[0],o[0]),n=Math.min(t[2],o[o.length-2]),a=ol.math.clamp(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,i,n),p=[a,o[1]],l=this.parallelsLabels_[r]!==void 0?this.parallelsLabels_[r].geom:new ol.geom.Point(null);l.setCoordinates(p);return l};ol.Graticule.prototype.createGraticule_=function(e,t,r,o){var i=this.getInterval_(r);if(-1==i){this.meridians_.length=this.parallels_.length=0;if(this.meridiansLabels_){this.meridiansLabels_.length=0}if(this.parallelsLabels_){this.parallelsLabels_.length=0}return}var n=this.toLonLatTransform_(t),a=n[0],p=n[1],l=this.maxLines_,s,y,c,d,g=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)];g=ol.proj.transformExtent(g,this.projection_,"EPSG:4326");var m=g[3],u=g[2],_=g[1],f=g[0];a=Math.floor(a/i)*i;d=ol.math.clamp(a,this.minLon_,this.maxLon_);y=this.addMeridian_(d,_,m,o,e,0);s=0;while(d!=this.minLon_&&s++<l){d=Math.max(d-i,this.minLon_);y=this.addMeridian_(d,_,m,o,e,y)}d=ol.math.clamp(a,this.minLon_,this.maxLon_);s=0;while(d!=this.maxLon_&&s++<l){d=Math.min(d+i,this.maxLon_);y=this.addMeridian_(d,_,m,o,e,y)}this.meridians_.length=y;if(this.meridiansLabels_){this.meridiansLabels_.length=y}p=Math.floor(p/i)*i;c=ol.math.clamp(p,this.minLat_,this.maxLat_);y=this.addParallel_(c,f,u,o,e,0);s=0;while(c!=this.minLat_&&s++<l){c=Math.max(c-i,this.minLat_);y=this.addParallel_(c,f,u,o,e,y)}c=ol.math.clamp(p,this.minLat_,this.maxLat_);s=0;while(c!=this.maxLat_&&s++<l){c=Math.min(c+i,this.maxLat_);y=this.addParallel_(c,f,u,o,e,y)}this.parallels_.length=y;if(this.parallelsLabels_){this.parallelsLabels_.length=y}};ol.Graticule.prototype.getInterval_=function(e){var t=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],o=-1,n,a,p,l,s=Math.pow(this.targetSize_*e,2),y=[],c=[];for(n=0,a=ol.Graticule.intervals_.length;n<a;++n){p=ol.Graticule.intervals_[n]/2;y[0]=t-p;y[1]=r-p;c[0]=t+p;c[1]=r+p;this.fromLonLatTransform_(y,y);this.fromLonLatTransform_(c,c);l=Math.pow(c[0]-y[0],2)+Math.pow(c[1]-y[1],2);if(l<=s){break}o=ol.Graticule.intervals_[n]}return o};ol.Graticule.prototype.getMap=function(){return this.map_};ol.Graticule.prototype.getMeridian_=function(e,t,r,o,i){var n=ol.geom.flat.geodesic.meridian(e,t,r,this.projection_,o),a=this.meridians_[i]!==void 0?this.meridians_[i]:new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n);return a};ol.Graticule.prototype.getMeridians=function(){return this.meridians_};ol.Graticule.prototype.getParallel_=function(e,t,r,o,i){var n=ol.geom.flat.geodesic.parallel(e,t,r,this.projection_,o),a=this.parallels_[i]!==void 0?this.parallels_[i]:new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n);return a};ol.Graticule.prototype.getParallels=function(){return this.parallels_};ol.Graticule.prototype.handlePostCompose_=function(t){var e=t.vectorContext,r=t.frameState,o=r.extent,n=r.viewState,a=n.center,p=n.projection,s=n.resolution,y=r.pixelRatio,c=!this.projection_||!ol.proj.equivalent(this.projection_,p);if(c){this.updateProjectionInfo_(p)}this.createGraticule_(o,a,s,s*s/(4*y*y));e.setFillStrokeStyle(null,this.strokeStyle_);var d,g,m;for(d=0,g=this.meridians_.length;d<g;++d){m=this.meridians_[d];e.drawGeometry(m)}for(d=0,g=this.parallels_.length;d<g;++d){m=this.parallels_[d];e.drawGeometry(m)}var u;if(this.meridiansLabels_){for(d=0,g=this.meridiansLabels_.length;d<g;++d){u=this.meridiansLabels_[d];this.lonLabelStyle_.setText(u.text);e.setTextStyle(this.lonLabelStyle_);e.drawGeometry(u.geom)}}if(this.parallelsLabels_){for(d=0,g=this.parallelsLabels_.length;d<g;++d){u=this.parallelsLabels_[d];this.latLabelStyle_.setText(u.text);e.setTextStyle(this.latLabelStyle_);e.drawGeometry(u.geom)}}};ol.Graticule.prototype.updateProjectionInfo_=function(e){var t=ol.proj.get("EPSG:4326"),r=e.getExtent(),o=e.getWorldExtent(),i=ol.proj.transformExtent(o,t,e),n=o[3],a=o[2],p=o[1],l=o[0],s=i[3],y=i[2],c=i[1],d=i[0];this.maxLat_=n;this.maxLon_=a;this.minLat_=p;this.minLon_=l;this.maxLatP_=s;this.maxLonP_=y;this.minLatP_=c;this.minLonP_=d;this.fromLonLatTransform_=ol.proj.getTransform(t,e);this.toLonLatTransform_=ol.proj.getTransform(e,t);this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(r));this.projection_=e};ol.Graticule.prototype.setMap=function(e){if(this.map_){this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);this.map_.render()}if(e){e.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);e.render()}this.map_=e};goog.provide("ol.ImageBase");goog.require("ol");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.ImageBase=function(e,t,r,o){ol.events.EventTarget.call(this);this.extent=e;this.pixelRatio_=r;this.resolution=t;this.state=o};ol.inherits(ol.ImageBase,ol.events.EventTarget);ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.ImageBase.prototype.getExtent=function(){return this.extent};ol.ImageBase.prototype.getImage=function(){};ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_};ol.ImageBase.prototype.getResolution=function(){return this.resolution};ol.ImageBase.prototype.getState=function(){return this.state};ol.ImageBase.prototype.load=function(){};goog.provide("ol.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");ol.Image=function(e,t,r,o,i,n){ol.ImageBase.call(this,e,t,r,ol.ImageState.IDLE);this.src_=o;this.image_=new Image;if(null!==i){this.image_.crossOrigin=i}this.imageListenerKeys_=null;this.state=ol.ImageState.IDLE;this.imageLoadFunction_=n};ol.inherits(ol.Image,ol.ImageBase);ol.Image.prototype.getImage=function(){return this.image_};ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR;this.unlistenImage_();this.changed()};ol.Image.prototype.handleImageLoad_=function(){if(this.resolution===void 0){this.resolution=ol.extent.getHeight(this.extent)/this.image_.height}this.state=ol.ImageState.LOADED;this.unlistenImage_();this.changed()};ol.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE||this.state==ol.ImageState.ERROR){this.state=ol.ImageState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};ol.Image.prototype.setImage=function(e){this.image_=e};ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.ImageCanvas");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");ol.ImageCanvas=function(e,t,r,o,i){this.loader_=i!==void 0?i:null;var n=i!==void 0?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,e,t,r,n);this.canvas_=o;this.error_=null};ol.inherits(ol.ImageCanvas,ol.ImageBase);ol.ImageCanvas.prototype.getError=function(){return this.error_};ol.ImageCanvas.prototype.handleLoad_=function(e){if(e){this.error_=e;this.state=ol.ImageState.ERROR}else{this.state=ol.ImageState.LOADED}this.changed()};ol.ImageCanvas.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};ol.ImageCanvas.prototype.getImage=function(){return this.canvas_};goog.provide("ol.Tile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.easing");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Tile=function(e,t,r){ol.events.EventTarget.call(this);var o=r?r:{};this.tileCoord=e;this.state=t;this.interimTile=null;this.key="";this.transition_=o.transition===void 0?250:o.transition;this.transitionStarts_={}};ol.inherits(ol.Tile,ol.events.EventTarget);ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord};ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile){return this}var e=this.interimTile;do{if(e.getState()==ol.TileState.LOADED){return e}e=e.interimTile}while(e);return this};ol.Tile.prototype.refreshInterimChain=function(){if(!this.interimTile){return}var e=this.interimTile,t=this;do{if(e.getState()==ol.TileState.LOADED){e.interimTile=null;break}else if(e.getState()==ol.TileState.LOADING){t=e}else if(e.getState()==ol.TileState.IDLE){t.interimTile=e.interimTile}else{t=e}e=t.interimTile}while(e)};ol.Tile.prototype.getTileCoord=function(){return this.tileCoord};ol.Tile.prototype.getState=function(){return this.state};ol.Tile.prototype.setState=function(e){this.state=e;this.changed()};ol.Tile.prototype.load=function(){};ol.Tile.prototype.getAlpha=function(e,t){if(!this.transition_){return 1}var r=this.transitionStarts_[e];if(!r){r=t;this.transitionStarts_[e]=r}else if(-1===r){return 1}var o=t-r+1e3/60;if(o>=this.transition_){return 1}return ol.easing.easeIn(o/this.transition_)};ol.Tile.prototype.inTransition=function(e){if(!this.transition_){return!1}return-1!==this.transitionStarts_[e]};ol.Tile.prototype.endTransition=function(e){if(this.transition_){this.transitionStarts_[e]=-1}};goog.provide("ol.ImageTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");ol.ImageTile=function(e,t,r,o,i,n){ol.Tile.call(this,e,t,n);this.src_=r;this.image_=new Image;if(null!==o){this.image_.crossOrigin=o}this.imageListenerKeys_=null;this.tileLoadFunction_=i};ol.inherits(ol.ImageTile,ol.Tile);ol.ImageTile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenImage_();this.image_=ol.ImageTile.getBlankImage()}if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.ImageTile.prototype.getImage=function(){return this.image_};ol.ImageTile.prototype.getKey=function(){return this.src_};ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR;this.unlistenImage_();this.image_=ol.ImageTile.getBlankImage();this.changed()};ol.ImageTile.prototype.handleImageLoad_=function(){if(this.image_.naturalWidth&&this.image_.naturalHeight){this.state=ol.TileState.LOADED}else{this.state=ol.TileState.EMPTY}this.unlistenImage_();this.changed()};ol.ImageTile.prototype.load=function(){if(this.state==ol.TileState.IDLE||this.state==ol.TileState.ERROR){this.state=ol.TileState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};ol.ImageTile.getBlankImage=function(){var e=ol.dom.createCanvasContext2D(1,1);e.fillStyle="rgba(0,0,0,0)";e.fillRect(0,0,1,1);return e.canvas};goog.provide("ol.interaction.DragAndDrop");goog.require("ol");goog.require("ol.functions");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.interaction.Interaction");goog.require("ol.proj");ol.interaction.DragAndDrop=function(e){var t=e?e:{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent});this.formatConstructors_=t.formatConstructors?t.formatConstructors:[];this.projection_=t.projection?ol.proj.get(t.projection):null;this.dropListenKeys_=null;this.source_=t.source||null;this.target=t.target?t.target:null};ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction);ol.interaction.DragAndDrop.handleDrop_=function(e){var t=e.dataTransfer.files,r,o,n;for(r=0,o=t.length;r<o;++r){n=t.item(r);var a=new FileReader;a.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,n));a.readAsText(n)}};ol.interaction.DragAndDrop.handleStop_=function(e){e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy"};ol.interaction.DragAndDrop.prototype.handleResult_=function(e,t){var r=t.target.result,o=this.getMap(),n=this.projection_;if(!n){var a=o.getView();n=a.getProjection()}var p=this.formatConstructors_,l=[],s,y;for(s=0,y=p.length;s<y;++s){var c=p[s],d=new c;l=this.tryReadFeatures_(d,r,{featureProjection:n});if(l&&0<l.length){break}}if(this.source_){this.source_.clear();this.source_.addFeatures(l)}this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,e,l,n))};ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE;ol.interaction.DragAndDrop.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(t,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}};ol.interaction.DragAndDrop.prototype.setActive=function(e){ol.interaction.Interaction.prototype.setActive.call(this,e);if(e){this.registerListeners_()}else{this.unregisterListeners_()}};ol.interaction.DragAndDrop.prototype.setMap=function(e){this.unregisterListeners_();ol.interaction.Interaction.prototype.setMap.call(this,e);if(this.getActive()){this.registerListeners_()}};ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(e,t,r){try{return e.readFeatures(t,r)}catch(t){return null}};ol.interaction.DragAndDrop.prototype.unregisterListeners_=function(){if(this.dropListenKeys_){this.dropListenKeys_.forEach(ol.events.unlistenByKey);this.dropListenKeys_=null}};ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:"addfeatures"};ol.interaction.DragAndDrop.Event=function(e,t,r,o){ol.events.Event.call(this,e);this.features=r;this.file=t;this.projection=o};ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event);goog.provide("ol.interaction.DragRotateAndZoom");goog.require("ol");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotateAndZoom=function(e){var t=e?e:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_});this.condition_=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.lastAngle_=void 0;this.lastMagnitude_=void 0;this.lastScaleDelta_=0;this.duration_=t.duration!==void 0?t.duration:400};ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer);ol.interaction.DragRotateAndZoom.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}var t=e.map,r=t.getSize(),o=e.pixel,i=o[0]-r[0]/2,n=r[1]/2-o[1],a=Math.atan2(n,i),p=Math.sqrt(i*i+n*n),l=t.getView();if(l.getConstraints().rotation!==ol.RotationConstraint.disable&&this.lastAngle_!==void 0){var s=a-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(l,l.getRotation()-s)}this.lastAngle_=a;if(this.lastMagnitude_!==void 0){var y=this.lastMagnitude_*(l.getResolution()/p);ol.interaction.Interaction.zoomWithoutConstraints(l,y)}if(this.lastMagnitude_!==void 0){this.lastScaleDelta_=this.lastMagnitude_/p}this.lastMagnitude_=p};ol.interaction.DragRotateAndZoom.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return!0}var t=e.map,r=t.getView();r.setHint(ol.ViewHint.INTERACTING,-1);var o=this.lastScaleDelta_-1;ol.interaction.Interaction.rotate(r,r.getRotation());ol.interaction.Interaction.zoom(r,r.getResolution(),void 0,this.duration_,o);this.lastScaleDelta_=0;return!1};ol.interaction.DragRotateAndZoom.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return!1}if(this.condition_(e)){e.map.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=void 0;this.lastMagnitude_=void 0;return!0}else{return!1}};goog.provide("ol.interaction.DrawEventType");ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"};goog.provide("ol.layer.Vector");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.layer.Layer");goog.require("ol.obj");goog.require("ol.style.Style");ol.layer.Vector=function(e){var t=e?e:{},r=ol.obj.assign({},t);delete r.style;delete r.renderBuffer;delete r.updateWhileAnimating;delete r.updateWhileInteracting;ol.layer.Layer.call(this,r);this.declutter_=t.declutter!==void 0?t.declutter:!1;this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100;this.style_=null;this.styleFunction_=void 0;this.setStyle(t.style);this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1;this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1;this.type=ol.LayerType.VECTOR};ol.inherits(ol.layer.Vector,ol.layer.Layer);ol.layer.Vector.prototype.getDeclutter=function(){return this.declutter_};ol.layer.Vector.prototype.setDeclutter=function(e){this.declutter_=e};ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_};ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)};ol.layer.Vector.prototype.getSource;ol.layer.Vector.prototype.getStyle=function(){return this.style_};ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};ol.layer.Vector.prototype.setRenderOrder=function(e){this.set(ol.layer.Vector.Property_.RENDER_ORDER,e)};ol.layer.Vector.prototype.setStyle=function(e){this.style_=e!==void 0?e:ol.style.Style.defaultFunction;this.styleFunction_=null===e?void 0:ol.style.Style.createFunction(this.style_);this.changed()};ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"};goog.provide("ol.loadingstrategy");ol.loadingstrategy.all=function(){return[[-Infinity,-Infinity,1/0,1/0]]};ol.loadingstrategy.bbox=function(e){return[e]};ol.loadingstrategy.tile=function(e){return function(t,r){var o=e.getZForResolution(r),i=e.getTileRangeForExtentAndZ(t,o),n=[],a=[o,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1]){for(a[2]=i.minY;a[2]<=i.maxY;++a[2]){n.push(e.getTileCoordExtent(a))}}return n}};goog.provide("ol.source.Source");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.Object");goog.require("ol.proj");goog.require("ol.source.State");ol.source.Source=function(e){ol.Object.call(this);this.projection_=ol.proj.get(e.projection);this.attributions_=null;this.attributions2_=this.adaptAttributions_(e.attributions);this.logo_=e.logo;this.state_=e.state!==void 0?e.state:ol.source.State.READY;this.wrapX_=e.wrapX!==void 0?e.wrapX:!1};ol.inherits(ol.source.Source,ol.Object);ol.source.Source.prototype.adaptAttributions_=function(e){if(!e){return null}if(e instanceof ol.Attribution){this.attributions_=[e];return function(){return[e.getHTML()]}}if(Array.isArray(e)){if(e[0]instanceof ol.Attribution){this.attributions_=e;var t=e.map(function(e){return e.getHTML()});return function(){return t}}this.attributions_=e.map(function(e){return new ol.Attribution({html:e})});return function(){return e}}if("function"==typeof e){return e}this.attributions_=[new ol.Attribution({html:e})];return function(){return[e]}};ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.source.Source.prototype.getAttributions=function(){return this.attributions_};ol.source.Source.prototype.getAttributions2=function(){return this.attributions2_};ol.source.Source.prototype.getLogo=function(){return this.logo_};ol.source.Source.prototype.getProjection=function(){return this.projection_};ol.source.Source.prototype.getResolutions=function(){};ol.source.Source.prototype.getState=function(){return this.state_};ol.source.Source.prototype.getWrapX=function(){return this.wrapX_};ol.source.Source.prototype.refresh=function(){this.changed()};ol.source.Source.prototype.setAttributions=function(e){this.attributions2_=this.adaptAttributions_(e);this.changed()};ol.source.Source.prototype.setLogo=function(e){this.logo_=e};ol.source.Source.prototype.setState=function(e){this.state_=e;this.changed()};goog.provide("ol.source.VectorEventType");ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};goog.provide("ol.structs.RBush");goog.require("ol");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.obj");ol.structs.RBush=function(e){this.rbush_=ol.ext.rbush(e);this.items_={}};ol.structs.RBush.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r);this.items_[ol.getUid(t)]=r};ol.structs.RBush.prototype.load=function(e,t){for(var r=Array(t.length),o=0,n=t.length;o<n;o++){var a=e[o],p=t[o],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:p};r[o]=l;this.items_[ol.getUid(p)]=l}this.rbush_.load(r)};ol.structs.RBush.prototype.remove=function(e){var t=ol.getUid(e),r=this.items_[t];delete this.items_[t];return null!==this.rbush_.remove(r)};ol.structs.RBush.prototype.update=function(e,t){var r=this.items_[ol.getUid(t)],o=[r.minX,r.minY,r.maxX,r.maxY];if(!ol.extent.equals(o,e)){this.remove(t);this.insert(e,t)}};ol.structs.RBush.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(e){return e.value})};ol.structs.RBush.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},r=this.rbush_.search(t);return r.map(function(e){return e.value})};ol.structs.RBush.prototype.forEach=function(e,t){return this.forEach_(this.getAll(),e,t)};ol.structs.RBush.prototype.forEachInExtent=function(e,t,r){return this.forEach_(this.getInExtent(e),t,r)};ol.structs.RBush.prototype.forEach_=function(e,t,r){for(var o,n=0,a=e.length;n<a;n++){o=t.call(r,e[n]);if(o){return o}}return o};ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)};ol.structs.RBush.prototype.clear=function(){this.rbush_.clear();this.items_={}};ol.structs.RBush.prototype.getExtent=function(e){var t=this.rbush_.data;return ol.extent.createOrUpdate(t.minX,t.minY,t.maxX,t.maxY,e)};ol.structs.RBush.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_){this.items_[0|t]=e.items_[0|t]}};goog.provide("ol.source.Vector");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.ObjectEventType");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.functions");goog.require("ol.loadingstrategy");goog.require("ol.obj");goog.require("ol.source.Source");goog.require("ol.source.State");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.source.Vector=function(e){var t=e||{};ol.source.Source.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:ol.source.State.READY,wrapX:t.wrapX!==void 0?t.wrapX:!0});this.loader_=ol.nullFunction;this.format_=t.format;this.overlaps_=t.overlaps==void 0?!0:t.overlaps;this.url_=t.url;if(t.loader!==void 0){this.loader_=t.loader}else if(this.url_!==void 0){ol.asserts.assert(this.format_,7);this.loader_=ol.featureloader.xhr(this.url_,this.format_)}this.strategy_=t.strategy!==void 0?t.strategy:ol.loadingstrategy.all;var r=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=r?new ol.structs.RBush:null;this.loadedExtentsRtree_=new ol.structs.RBush;this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var o,i;if(t.features instanceof ol.Collection){o=t.features;i=o.getArray()}else if(Array.isArray(t.features)){i=t.features}if(!r&&o===void 0){o=new ol.Collection(i)}if(i!==void 0){this.addFeaturesInternal(i)}if(o!==void 0){this.bindFeaturesCollection_(o)}};ol.inherits(ol.source.Vector,ol.source.Source);ol.source.Vector.prototype.addFeature=function(e){this.addFeatureInternal(e);this.changed()};ol.source.Vector.prototype.addFeatureInternal=function(e){var t=ol.getUid(e).toString();if(!this.addToIndex_(t,e)){return}this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var o=r.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(o,e)}}else{this.nullGeometryFeatures_[t]=e}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,e))};ol.source.Vector.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[ol.events.listen(t,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]};ol.source.Vector.prototype.addToIndex_=function(e,t){var r=!0,o=t.getId();if(o!==void 0){if(!(o.toString()in this.idIndex_)){this.idIndex_[o.toString()]=t}else{r=!1}}else{ol.asserts.assert(!(e in this.undefIdIndex_),30);this.undefIdIndex_[e]=t}return r};ol.source.Vector.prototype.addFeatures=function(e){this.addFeaturesInternal(e);this.changed()};ol.source.Vector.prototype.addFeaturesInternal=function(e){var t,r,o,n,a=[],p=[],l=[];for(r=0,o=e.length;r<o;r++){n=e[r];t=ol.getUid(n).toString();if(this.addToIndex_(t,n)){p.push(n)}}for(r=0,o=p.length;r<o;r++){n=p[r];t=ol.getUid(n).toString();this.setupChangeEvents_(t,n);var s=n.getGeometry();if(s){var y=s.getExtent();a.push(y);l.push(n)}else{this.nullGeometryFeatures_[t]=n}}if(this.featuresRtree_){this.featuresRtree_.load(a,l)}for(r=0,o=p.length;r<o;r++){this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,p[r]))}};ol.source.Vector.prototype.bindFeaturesCollection_=function(e){var t=!1;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(r){if(!t){t=!0;e.push(r.feature);t=!1}});ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(r){if(!t){t=!0;e.remove(r.feature);t=!1}});ol.events.listen(e,ol.CollectionEventType.ADD,function(e){if(!t){t=!0;this.addFeature(e.element);t=!1}},this);ol.events.listen(e,ol.CollectionEventType.REMOVE,function(e){if(!t){t=!0;this.removeFeature(e.element);t=!1}},this);this.featuresCollection_=e};ol.source.Vector.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){var r=this.featureChangeKeys_[t];r.forEach(ol.events.unlistenByKey)}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else{if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var o in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[o])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var i=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(i);this.changed()};ol.source.Vector.prototype.forEachFeature=function(e,t){if(this.featuresRtree_){return this.featuresRtree_.forEach(e,t)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(e,t)}};ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(e,t,r){var o=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(o,function(o){var i=o.getGeometry();if(i.intersectsCoordinate(e)){return t.call(r,o)}else{}})};ol.source.Vector.prototype.forEachFeatureInExtent=function(e,t,r){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(e,t,r)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(t,r)}};ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(e,t,r){return this.forEachFeatureInExtent(e,function(o){var i=o.getGeometry();if(i.intersectsExtent(e)){var n=t.call(r,o);if(n){return n}}})};ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_};ol.source.Vector.prototype.getFeatures=function(){var e;if(this.featuresCollection_){e=this.featuresCollection_.getArray()}else if(this.featuresRtree_){e=this.featuresRtree_.getAll();if(!ol.obj.isEmpty(this.nullGeometryFeatures_)){ol.array.extend(e,ol.obj.getValues(this.nullGeometryFeatures_))}}return e};ol.source.Vector.prototype.getFeaturesAtCoordinate=function(e){var t=[];this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)});return t};ol.source.Vector.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)};ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],o=e[1],i=null,n=[NaN,NaN],a=1/0,p=[-Infinity,-Infinity,1/0,1/0],l=t?t:ol.functions.TRUE;this.featuresRtree_.forEachInExtent(p,function(e){if(l(e)){var t=e.getGeometry(),s=a;a=t.closestPointXY(r,o,n,a);if(a<s){i=e;var y=Math.sqrt(a);p[0]=r-y;p[1]=o-y;p[2]=r+y;p[3]=o+y}}});return i};ol.source.Vector.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)};ol.source.Vector.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return t!==void 0?t:null};ol.source.Vector.prototype.getFormat=function(){return this.format_};ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_};ol.source.Vector.prototype.getResolutions=function(){};ol.source.Vector.prototype.getUrl=function(){return this.url_};ol.source.Vector.prototype.handleFeatureChange_=function(e){var t=e.target,r=ol.getUid(t).toString(),o=t.getGeometry();if(!o){if(!(r in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(t)}this.nullGeometryFeatures_[r]=t}}else{var i=o.getExtent();if(r in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[r];if(this.featuresRtree_){this.featuresRtree_.insert(i,t)}}else{if(this.featuresRtree_){this.featuresRtree_.update(i,t)}}}var n=t.getId();if(n!==void 0){var a=n.toString();if(r in this.undefIdIndex_){delete this.undefIdIndex_[r];this.idIndex_[a]=t}else{if(this.idIndex_[a]!==t){this.removeFromIdIndex_(t);this.idIndex_[a]=t}}}else{if(!(r in this.undefIdIndex_)){this.removeFromIdIndex_(t);this.undefIdIndex_[r]=t}}this.changed();this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,t))};ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)};ol.source.Vector.prototype.loadFeatures=function(e,t,r){var o=this.loadedExtentsRtree_,n=this.strategy_(e,t),a,p;for(a=0,p=n.length;a<p;++a){var l=n[a],s=o.forEachInExtent(l,function(e){return ol.extent.containsExtent(e.extent,l)});if(!s){this.loader_.call(this,l,t,r);o.insert(l,{extent:l.slice()})}}};ol.source.Vector.prototype.removeFeature=function(e){var t=ol.getUid(e).toString();if(t in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[t]}else{if(this.featuresRtree_){this.featuresRtree_.remove(e)}}this.removeFeatureInternal(e);this.changed()};ol.source.Vector.prototype.removeFeatureInternal=function(e){var t=ol.getUid(e).toString();this.featureChangeKeys_[t].forEach(ol.events.unlistenByKey);delete this.featureChangeKeys_[t];var r=e.getId();if(r!==void 0){delete this.idIndex_[r.toString()]}else{delete this.undefIdIndex_[t]}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,e))};ol.source.Vector.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_){if(this.idIndex_[r]===e){delete this.idIndex_[r];t=!0;break}}return t};ol.source.Vector.prototype.setLoader=function(e){this.loader_=e};ol.source.Vector.Event=function(e,t){ol.events.Event.call(this,e);this.feature=t};ol.inherits(ol.source.Vector.Event,ol.events.Event);goog.provide("ol.interaction.Draw");goog.require("ol");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.Object");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.Circle");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.DrawEventType");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Property");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Draw=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_});this.shouldHandle_=!1;this.downPx_=null;this.freehand_=!1;this.source_=e.source?e.source:null;this.features_=e.features?e.features:null;this.snapTolerance_=e.snapTolerance?e.snapTolerance:12;this.type_=e.type;this.mode_=ol.interaction.Draw.getMode_(this.type_);this.minPoints_=e.minPoints?e.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2;this.maxPoints_=e.maxPoints?e.maxPoints:1/0;this.finishCondition_=e.finishCondition?e.finishCondition:ol.functions.TRUE;var t=e.geometryFunction;if(!t){if(this.type_===ol.geom.GeometryType.CIRCLE){t=function(e,t){var r=t?t:new ol.geom.Circle([NaN,NaN]),o=ol.coordinate.squaredDistance(e[0],e[1]);r.setCenterAndRadius(e[0],Math.sqrt(o));return r}}else{var r,o=this.mode_;if(o===ol.interaction.Draw.Mode_.POINT){r=ol.geom.Point}else if(o===ol.interaction.Draw.Mode_.LINE_STRING){r=ol.geom.LineString}else if(o===ol.interaction.Draw.Mode_.POLYGON){r=ol.geom.Polygon}t=function(e,t){var i=t;if(i){if(o===ol.interaction.Draw.Mode_.POLYGON){i.setCoordinates([e[0].concat([e[0][0]])])}else{i.setCoordinates(e)}}else{i=new r(e)}return i}}}this.geometryFunction_=t;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36;this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:ol.interaction.Draw.getDefaultStyleFunction()});this.geometryName_=e.geometryName;this.condition_=e.condition?e.condition:ol.events.condition.noModifierKeys;this.freehandCondition_;if(e.freehand){this.freehandCondition_=ol.events.condition.always}else{this.freehandCondition_=e.freehandCondition?e.freehandCondition:ol.events.condition.shiftKeyOnly}ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)};ol.inherits(ol.interaction.Draw,ol.interaction.Pointer);ol.interaction.Draw.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t){return e[t.getGeometry().getType()]}};ol.interaction.Draw.prototype.setMap=function(e){ol.interaction.Pointer.prototype.setMap.call(this,e);this.updateState_()};ol.interaction.Draw.handleEvent=function(e){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(e);var t=!0;if(this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDRAG&&null!==this.sketchFeature_){this.addToDrawing_(e);t=!1}else if(this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDOWN){t=!1}else if(e.type===ol.MapBrowserEventType.POINTERMOVE){t=this.handlePointerMove_(e)}else if(e.type===ol.MapBrowserEventType.DBLCLICK){t=!1}return ol.interaction.Pointer.handleEvent.call(this,e)&&t};ol.interaction.Draw.handleDownEvent_=function(e){this.shouldHandle_=!this.freehand_;if(this.freehand_){this.downPx_=e.pixel;if(!this.finishCoordinate_){this.startDrawing_(e)}return!0}else if(this.condition_(e)){this.downPx_=e.pixel;return!0}else{return!1}};ol.interaction.Draw.handleUpEvent_=function(e){var t=!0;this.handlePointerMove_(e);var r=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;if(this.shouldHandle_){if(!this.finishCoordinate_){this.startDrawing_(e);if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.finishDrawing()}}else if(this.freehand_||r){this.finishDrawing()}else if(this.atFinish_(e)){if(this.finishCondition_(e)){this.finishDrawing()}}else{this.addToDrawing_(e)}t=!1}else if(this.freehand_){this.finishCoordinate_=null;this.abortDrawing_()}return t};ol.interaction.Draw.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,r=e.pixel,o=t[0]-r[0],i=t[1]-r[1],n=o*o+i*i;this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_}if(this.finishCoordinate_){this.modifyDrawing_(e)}else{this.createOrUpdateSketchPoint_(e)}return!0};ol.interaction.Draw.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var r=!1,o=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){r=this.sketchCoords_.length>this.minPoints_}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){r=this.sketchCoords_[0].length>this.minPoints_;o=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]}if(r){for(var n=e.map,a=0,p=o.length;a<p;a++){var l=o[a],s=n.getPixelFromCoordinate(l),y=e.pixel,c=y[0]-s[0],d=y[1]-s[1],g=this.freehand_?1:this.snapTolerance_;t=Math.sqrt(c*c+d*d)<=g;if(t){this.finishCoordinate_=l;break}}}}return t};ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new ol.Feature(new ol.geom.Point(t));this.updateSketchFeatures_()}else{var r=this.sketchPoint_.getGeometry();r.setCoordinates(t)}};ol.interaction.Draw.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t;if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.sketchCoords_=t.slice()}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){this.sketchCoords_=[[t.slice(),t.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else{this.sketchCoords_=[t.slice(),t.slice()];if(this.mode_===ol.interaction.Draw.Mode_.CIRCLE){this.sketchLineCoords_=this.sketchCoords_}}if(this.sketchLineCoords_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_))}var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature;if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(r);this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.modifyDrawing_=function(e){var t=e.coordinate,r=this.sketchFeature_.getGeometry(),o,i;if(this.mode_===ol.interaction.Draw.Mode_.POINT){i=this.sketchCoords_}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){o=this.sketchCoords_[0];i=o[o.length-1];if(this.atFinish_(e)){t=this.finishCoordinate_.slice()}}else{o=this.sketchCoords_;i=o[o.length-1]}i[0]=t[0];i[1]=t[1];this.geometryFunction_(this.sketchCoords_,r);if(this.sketchPoint_){var n=this.sketchPoint_.getGeometry();n.setCoordinates(t)}var a;if(r instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){if(!this.sketchLine_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(null))}var p=r.getLinearRing(0);a=this.sketchLine_.getGeometry();a.setFlatCoordinates(p.getLayout(),p.getFlatCoordinates())}else if(this.sketchLineCoords_){a=this.sketchLine_.getGeometry();a.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.addToDrawing_=function(e){var t=e.coordinate,r=this.sketchFeature_.getGeometry(),o,i;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){this.finishCoordinate_=t.slice();i=this.sketchCoords_;if(i.length>=this.maxPoints_){if(this.freehand_){i.pop()}else{o=!0}}i.push(t.slice());this.geometryFunction_(i,r)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){i=this.sketchCoords_[0];if(i.length>=this.maxPoints_){if(this.freehand_){i.pop()}else{o=!0}}i.push(t.slice());if(o){this.finishCoordinate_=i[0]}this.geometryFunction_(this.sketchCoords_,r)}this.updateSketchFeatures_();if(o){this.finishDrawing()}};ol.interaction.Draw.prototype.removeLastPoint=function(){if(!this.sketchFeature_){return}var e=this.sketchFeature_.getGeometry(),t,r;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){t=this.sketchCoords_;t.splice(-2,1);this.geometryFunction_(t,e);if(2<=t.length){this.finishCoordinate_=t[t.length-2].slice()}}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){t=this.sketchCoords_[0];t.splice(-2,1);r=this.sketchLine_.getGeometry();r.setCoordinates(t);this.geometryFunction_(this.sketchCoords_,e)}if(0===t.length){this.finishCoordinate_=null}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.finishDrawing=function(){var e=this.abortDrawing_(),t=this.sketchCoords_,r=e.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){t.pop();this.geometryFunction_(t,r)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){t[0].pop();this.geometryFunction_(t,r);t=r.getCoordinates()}if(this.type_===ol.geom.GeometryType.MULTI_POINT){e.setGeometry(new ol.geom.MultiPoint([t]))}else if(this.type_===ol.geom.GeometryType.MULTI_LINE_STRING){e.setGeometry(new ol.geom.MultiLineString([t]))}else if(this.type_===ol.geom.GeometryType.MULTI_POLYGON){e.setGeometry(new ol.geom.MultiPolygon([t]))}this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,e));if(this.features_){this.features_.push(e)}if(this.source_){this.source_.addFeature(e)}};ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;if(e){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(!0)}return e};ol.interaction.Draw.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e;this.sketchCoords_=t.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice();this.sketchCoords_.push(r.slice());this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var e=[];if(this.sketchFeature_){e.push(this.sketchFeature_)}if(this.sketchLine_){e.push(this.sketchLine_)}if(this.sketchPoint_){e.push(this.sketchPoint_)}var t=this.overlay_.getSource();t.clear(!0);t.addFeatures(e)};ol.interaction.Draw.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();if(!e||!t){this.abortDrawing_()}this.overlay_.setMap(t?e:null)};ol.interaction.Draw.createRegularPolygon=function(e,t){return function(r,o){var i=r[0],n=r[1],a=Math.sqrt(ol.coordinate.squaredDistance(i,n)),p=o?o:ol.geom.Polygon.fromCircle(new ol.geom.Circle(i),e),l=t?t:Math.atan((n[1]-i[1])/(n[0]-i[0]));ol.geom.Polygon.makeRegular(p,i,a,l);return p}};ol.interaction.Draw.createBox=function(){return function(e,t){var r=ol.extent.boundingExtent(e),o=t||new ol.geom.Polygon(null);o.setCoordinates([[ol.extent.getBottomLeft(r),ol.extent.getBottomRight(r),ol.extent.getTopRight(r),ol.extent.getTopLeft(r),ol.extent.getBottomLeft(r)]]);return o}};ol.interaction.Draw.getMode_=function(e){var t;if(e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT){t=ol.interaction.Draw.Mode_.POINT}else if(e===ol.geom.GeometryType.LINE_STRING||e===ol.geom.GeometryType.MULTI_LINE_STRING){t=ol.interaction.Draw.Mode_.LINE_STRING}else if(e===ol.geom.GeometryType.POLYGON||e===ol.geom.GeometryType.MULTI_POLYGON){t=ol.interaction.Draw.Mode_.POLYGON}else if(e===ol.geom.GeometryType.CIRCLE){t=ol.interaction.Draw.Mode_.CIRCLE}return t};ol.interaction.Draw.Mode_={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"};ol.interaction.Draw.Event=function(e,t){ol.events.Event.call(this,e);this.feature=t};ol.inherits(ol.interaction.Draw.Event,ol.events.Event);goog.provide("ol.interaction.ExtentEventType");ol.interaction.ExtentEventType={EXTENTCHANGED:"extentchanged"};goog.provide("ol.interaction.Extent");goog.require("ol");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.coordinate");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.ExtentEventType");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Extent=function(e){var t=e||{};this.extent_=null;this.pointerHandler_=null;this.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10;this.snappedToVertex_=!1;this.extentFeature_=null;this.vertexFeature_=null;if(!e){e={}}ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_});this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(e.extent){this.setExtent(e.extent)}};ol.inherits(ol.interaction.Extent,ol.interaction.Pointer);ol.interaction.Extent.handleEvent_=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return!0}if(e.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}ol.interaction.Pointer.handleEvent.call(this,e);return!1};ol.interaction.Extent.handleDownEvent_=function(e){var t=e.pixel,r=e.map,o=this.getExtent(),i=this.snapToVertex_(t,r),n=function(e){var t=null,r=null;if(e[0]==o[0]){t=o[2]}else if(e[0]==o[2]){t=o[0]}if(e[1]==o[1]){r=o[3]}else if(e[1]==o[3]){r=o[1]}if(null!==t&&null!==r){return[t,r]}return null};if(i&&o){var a=i[0]==o[0]||i[0]==o[2]?i[0]:null,p=i[1]==o[1]||i[1]==o[3]?i[1]:null;if(null!==a&&null!==p){this.pointerHandler_=ol.interaction.Extent.getPointHandler_(n(i))}else if(null!==a){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([a,o[1]]),n([a,o[3]]))}else if(null!==p){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([o[0],p]),n([o[2],p]))}}else{i=r.getCoordinateFromPixel(t);this.setExtent([i[0],i[1],i[0],i[1]]);this.pointerHandler_=ol.interaction.Extent.getPointHandler_(i)}return!0};ol.interaction.Extent.handleDragEvent_=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t));this.createOrUpdatePointerFeature_(t)}return!0};ol.interaction.Extent.handleUpEvent_=function(){this.pointerHandler_=null;var e=this.getExtent();if(!e||0===ol.extent.getArea(e)){this.setExtent(null)}return!1};ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(){return e[ol.geom.GeometryType.POLYGON]}};ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(){return e[ol.geom.GeometryType.POINT]}};ol.interaction.Extent.getPointHandler_=function(e){return function(t){return ol.extent.boundingExtent([e,t])}};ol.interaction.Extent.getEdgeHandler_=function(e,t){if(e[0]==t[0]){return function(r){return ol.extent.boundingExtent([e,[r[0],t[1]]])}}else if(e[1]==t[1]){return function(r){return ol.extent.boundingExtent([e,[t[0],r[1]]])}}else{return null}};ol.interaction.Extent.getSegments_=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]};ol.interaction.Extent.prototype.snapToVertex_=function(e,t){var r=t.getCoordinateFromPixel(e),o=function(e,t){return ol.coordinate.squaredDistanceToSegment(r,e)-ol.coordinate.squaredDistanceToSegment(r,t)},i=this.getExtent();if(i){var n=ol.interaction.Extent.getSegments_(i);n.sort(o);var a=n[0],p=ol.coordinate.closestOnSegment(r,a),l=t.getPixelFromCoordinate(p);if(ol.coordinate.distance(e,l)<=this.pixelTolerance_){var s=t.getPixelFromCoordinate(a[0]),y=t.getPixelFromCoordinate(a[1]),c=ol.coordinate.squaredDistance(l,s),d=ol.coordinate.squaredDistance(l,y),g=Math.sqrt(Math.min(c,d));this.snappedToVertex_=g<=this.pixelTolerance_;if(this.snappedToVertex_){p=c>d?a[1]:a[0]}return p}}return null};ol.interaction.Extent.prototype.handlePointerMove_=function(e){var t=e.pixel,r=e.map,o=this.snapToVertex_(t,r);if(!o){o=r.getCoordinateFromPixel(t)}this.createOrUpdatePointerFeature_(o)};ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;if(!t){if(!e){t=new ol.Feature({})}else{t=new ol.Feature(ol.geom.Polygon.fromExtent(e))}this.extentFeature_=t;this.extentOverlay_.getSource().addFeature(t)}else{if(!e){t.setGeometry(void 0)}else{t.setGeometry(ol.geom.Polygon.fromExtent(e))}}return t};ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;if(!t){t=new ol.Feature(new ol.geom.Point(e));this.vertexFeature_=t;this.vertexOverlay_.getSource().addFeature(t)}else{var r=t.getGeometry();r.setCoordinates(e)}return t};ol.interaction.Extent.prototype.setMap=function(e){this.extentOverlay_.setMap(e);this.vertexOverlay_.setMap(e);ol.interaction.Pointer.prototype.setMap.call(this,e)};ol.interaction.Extent.prototype.getExtent=function(){return this.extent_};ol.interaction.Extent.prototype.setExtent=function(e){this.extent_=e?e:null;this.createOrUpdateExtentFeature_(e);this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))};ol.interaction.Extent.Event=function(e){ol.events.Event.call(this,ol.interaction.ExtentEventType.EXTENTCHANGED);this.extent=e};ol.inherits(ol.interaction.Extent.Event,ol.events.Event);goog.provide("ol.interaction.ModifyEventType");ol.interaction.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};goog.provide("ol.interaction.Modify");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.array");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.interaction.ModifyEventType");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");goog.require("ol.style.Style");ol.interaction.Modify=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_});this.condition_=e.condition?e.condition:ol.events.condition.primaryAction;this.defaultDeleteCondition_=function(e){return ol.events.condition.altKeyOnly(e)&&ol.events.condition.singleClick(e)};this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_;this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:ol.events.condition.always;this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=!1;this.modified_=!1;this.rBush_=new ol.structs.RBush;this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10;this.snappedToVertex_=!1;this.changingFeature_=!1;this.dragSegments_=[];this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_};this.source_=null;var t;if(e.source){this.source_=e.source;t=new ol.Collection(this.source_.getFeatures());ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleSourceAdd_,this);ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleSourceRemove_,this)}else{t=e.features}if(!t){throw new Error("The modify interaction requires features or a source")}this.features_=t;this.features_.forEach(this.addFeature_,this);ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this);ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null};ol.inherits(ol.interaction.Modify,ol.interaction.Pointer);ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0;ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1;ol.interaction.Modify.prototype.addFeature_=function(e){var t=e.getGeometry();if(t&&t.getType()in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[t.getType()].call(this,e,t)}var r=this.getMap();if(r&&r.isRendered()&&this.getActive()){this.handlePointerAtPixel_(this.lastPixel_,r)}ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.willModifyFeatures_=function(e){if(!this.modified_){this.modified_=!0;this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,e))}};ol.interaction.Modify.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e);if(this.vertexFeature_&&0===this.features_.getLength()){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.events.unlisten(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach(function(t){if(e===t.feature){r.push(t)}});for(var o=r.length-1;0<=o;--o){t.remove(r[o])}};ol.interaction.Modify.prototype.setActive=function(e){if(this.vertexFeature_&&!e){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.interaction.Pointer.prototype.setActive.call(this,e)};ol.interaction.Modify.prototype.setMap=function(e){this.overlay_.setMap(e);ol.interaction.Pointer.prototype.setMap.call(this,e)};ol.interaction.Modify.prototype.handleSourceAdd_=function(e){if(e.feature){this.features_.push(e.feature)}};ol.interaction.Modify.prototype.handleSourceRemove_=function(e){if(e.feature){this.features_.remove(e.feature)}};ol.interaction.Modify.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)};ol.interaction.Modify.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t);this.addFeature_(t)}};ol.interaction.Modify.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)};ol.interaction.Modify.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,geometry:t,segment:[r,r]})};ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p;for(n=0,a=r.length;n<a;++n){o=r[n];p={feature:e,geometry:t,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(t.getExtent(),p)}};ol.interaction.Modify.prototype.writeLineStringGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p;for(o=0,n=r.length-1;o<n;++o){a=r.slice(o,o+2);p={feature:e,geometry:t,index:o,segment:a};this.rBush_.insert(ol.extent.boundingExtent(a),p)}};ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p,l,s,y;for(p=0,l=r.length;p<l;++p){o=r[p];for(n=0,a=o.length-1;n<a;++n){s=o.slice(n,n+2);y={feature:e,geometry:t,depth:[p],index:n,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),y)}}};ol.interaction.Modify.prototype.writePolygonGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p,l,s,y;for(p=0,l=r.length;p<l;++p){o=r[p];for(n=0,a=o.length-1;n<a;++n){s=o.slice(n,n+2);y={feature:e,geometry:t,depth:[p],index:n,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),y)}}};ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p,l,s,y,c,d,g;for(s=0,y=r.length;s<y;++s){c=r[s];for(p=0,l=c.length;p<l;++p){o=c[p];for(n=0,a=o.length-1;n<a;++n){d=o.slice(n,n+2);g={feature:e,geometry:t,depth:[p,s],index:n,segment:d};this.rBush_.insert(ol.extent.boundingExtent(d),g)}}}};ol.interaction.Modify.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),o={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[r,r]},i={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[r,r]};o.featureSegments=i.featureSegments=[o,i];this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(r),o);this.rBush_.insert(t.getExtent(),i)};ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(e,t){var r,o=t.getGeometriesArray();for(r=0;r<o.length;++r){this.SEGMENT_WRITERS_[o[r].getType()].call(this,e,o[r])}};ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;if(!t){t=new ol.Feature(new ol.geom.Point(e));this.vertexFeature_=t;this.overlay_.getSource().addFeature(t)}else{var r=t.getGeometry();r.setCoordinates(e)}return t};ol.interaction.Modify.compareIndexes_=function(e,t){return e.index-t.index};ol.interaction.Modify.handleDownEvent_=function(e){if(!this.condition_(e)){return!1}this.handlePointerAtPixel_(e.pixel,e.map);var t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0;this.modified_=!1;var r=this.vertexFeature_;if(r){var o=[],n=r.getGeometry(),a=n.getCoordinates(),p=ol.extent.boundingExtent([a]),l=this.rBush_.getInExtent(p),s={};l.sort(ol.interaction.Modify.compareIndexes_);for(var y=0,c=l.length;y<c;++y){var d=l[y],g=d.segment,m=ol.getUid(d.feature),u=d.depth;if(u){m+="-"+u.join("-")}if(!s[m]){s[m]=[,,]}if(d.geometry.getType()===ol.geom.GeometryType.CIRCLE&&d.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var _=ol.interaction.Modify.closestOnSegmentData_(t,d);if(ol.coordinate.equals(_,a)&&!s[m][0]){this.dragSegments_.push([d,0]);s[m][0]=d}}else if(ol.coordinate.equals(g[0],a)&&!s[m][0]){this.dragSegments_.push([d,0]);s[m][0]=d}else if(ol.coordinate.equals(g[1],a)&&!s[m][1]){if((d.geometry.getType()===ol.geom.GeometryType.LINE_STRING||d.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&s[m][0]&&0===s[m][0].index){continue}this.dragSegments_.push([d,1]);s[m][1]=d}else if(this.insertVertexCondition_(e)&&ol.getUid(g)in this.vertexSegments_&&!s[m][0]&&!s[m][1]){o.push([d,a])}}if(o.length){this.willModifyFeatures_(e)}for(var f=o.length-1;0<=f;--f){this.insertVertex_.apply(this,o[f])}}return!!this.vertexFeature_};ol.interaction.Modify.handleDragEvent_=function(e){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,o=this.dragSegments_.length;r<o;++r){var n=this.dragSegments_[r],a=n[0],p=a.depth,l=a.geometry,s,y=a.segment,c=n[1];while(t.length<l.getStride()){t.push(y[c][t.length])}switch(l.getType()){case ol.geom.GeometryType.POINT:s=t;y[0]=y[1]=t;break;case ol.geom.GeometryType.MULTI_POINT:s=l.getCoordinates();s[a.index]=t;y[0]=y[1]=t;break;case ol.geom.GeometryType.LINE_STRING:s=l.getCoordinates();s[a.index+c]=t;y[c]=t;break;case ol.geom.GeometryType.MULTI_LINE_STRING:s=l.getCoordinates();s[p[0]][a.index+c]=t;y[c]=t;break;case ol.geom.GeometryType.POLYGON:s=l.getCoordinates();s[p[0]][a.index+c]=t;y[c]=t;break;case ol.geom.GeometryType.MULTI_POLYGON:s=l.getCoordinates();s[p[1]][p[0]][a.index+c]=t;y[c]=t;break;case ol.geom.GeometryType.CIRCLE:y[0]=y[1]=t;if(a.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX){this.changingFeature_=!0;l.setCenter(t);this.changingFeature_=!1}else{this.changingFeature_=!0;l.setRadius(ol.coordinate.distance(l.getCenter(),t));this.changingFeature_=!1}break;default:}if(s){this.setGeometryCoordinates_(l,s)}}this.createOrUpdateVertexFeature_(t)};ol.interaction.Modify.handleUpEvent_=function(e){for(var t,r,o=this.dragSegments_.length-1;0<=o;--o){t=this.dragSegments_[o][0];r=t.geometry;if(r.getType()===ol.geom.GeometryType.CIRCLE){var n=r.getCenter(),a=t.featureSegments[0],p=t.featureSegments[1];a.segment[0]=a.segment[1]=n;p.segment[0]=p.segment[1]=n;this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(n),a);this.rBush_.update(r.getExtent(),p)}else{this.rBush_.update(ol.extent.boundingExtent(t.segment),t)}}if(this.modified_){this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e));this.modified_=!1}return!1};ol.interaction.Modify.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return!0}this.lastPointerEvent_=e;var t;if(!e.map.getView().getInteracting()&&e.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}if(this.vertexFeature_&&this.deleteCondition_(e)){if(e.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_){t=this.removePoint()}else{t=!0}}if(e.type==ol.MapBrowserEventType.SINGLECLICK){this.ignoreNextSingleClick_=!1}return ol.interaction.Pointer.handleEvent.call(this,e)&&!t};ol.interaction.Modify.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel;this.handlePointerAtPixel_(e.pixel,e.map)};ol.interaction.Modify.prototype.handlePointerAtPixel_=function(e,t){var r=t.getCoordinateFromPixel(e),o=function(e,t){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(r,e)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(r,t)},n=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(r),t.getView().getResolution()*this.pixelTolerance_),a=this.rBush_,p=a.getInExtent(n);if(0<p.length){p.sort(o);var l=p[0],s=l.segment,y=ol.interaction.Modify.closestOnSegmentData_(r,l),c=t.getPixelFromCoordinate(y),d=ol.coordinate.distance(e,c);if(d<=this.pixelTolerance_){var g={};if(l.geometry.getType()===ol.geom.GeometryType.CIRCLE&&l.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){this.snappedToVertex_=!0;this.createOrUpdateVertexFeature_(y)}else{var m=t.getPixelFromCoordinate(s[0]),u=t.getPixelFromCoordinate(s[1]),_=ol.coordinate.squaredDistance(c,m),f=ol.coordinate.squaredDistance(c,u);d=Math.sqrt(Math.min(_,f));this.snappedToVertex_=d<=this.pixelTolerance_;if(this.snappedToVertex_){y=_>f?s[1]:s[0]}this.createOrUpdateVertexFeature_(y);for(var S,x=1,P=p.length;x<P;++x){S=p[x].segment;if(ol.coordinate.equals(s[0],S[0])&&ol.coordinate.equals(s[1],S[1])||ol.coordinate.equals(s[0],S[1])&&ol.coordinate.equals(s[1],S[0])){g[ol.getUid(S)]=!0}else{break}}}g[ol.getUid(s)]=!0;this.vertexSegments_=g;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(e,t){var r=t.geometry;if(r.getType()===ol.geom.GeometryType.CIRCLE){var o=r;if(t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var i=ol.coordinate.squaredDistance(o.getCenter(),e),n=Math.sqrt(i)-o.getRadius();return n*n}}return ol.coordinate.squaredDistanceToSegment(e,t.segment)};ol.interaction.Modify.closestOnSegmentData_=function(e,t){var r=t.geometry;if(r.getType()===ol.geom.GeometryType.CIRCLE&&t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){return r.getClosestPoint(e)}return ol.coordinate.closestOnSegment(e,t.segment)};ol.interaction.Modify.prototype.insertVertex_=function(e,t){var r=e.segment,o=e.feature,i=e.geometry,n=e.depth,a=e.index,p;while(t.length<i.getStride()){t.push(0)}switch(i.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:p=i.getCoordinates();p[n[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.POLYGON:p=i.getCoordinates();p[n[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.MULTI_POLYGON:p=i.getCoordinates();p[n[1]][n[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.LINE_STRING:p=i.getCoordinates();p.splice(a+1,0,t);break;default:return;}this.setGeometryCoordinates_(i,p);var l=this.rBush_;l.remove(e);this.updateSegmentIndices_(i,a,n,1);var s={segment:[r[0],t],feature:o,geometry:i,depth:n,index:a};l.insert(ol.extent.boundingExtent(s.segment),s);this.dragSegments_.push([s,1]);var y={segment:[t,r[1]],feature:o,geometry:i,depth:n,index:a+1};l.insert(ol.extent.boundingExtent(y.segment),y);this.dragSegments_.push([y,0]);this.ignoreNextSingleClick_=!0};ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);this.removeVertex_();this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e));this.modified_=!1;return!0}return!1};ol.interaction.Modify.prototype.removeVertex_=function(){var e=this.dragSegments_,t={},r=!1,o,n,a,p,l,s,y,c,d,g,m;for(l=e.length-1;0<=l;--l){a=e[l];g=a[0];m=ol.getUid(g.feature);if(g.depth){m+="-"+g.depth.join("-")}if(!(m in t)){t[m]={}}if(0===a[1]){t[m].right=g;t[m].index=g.index}else if(1==a[1]){t[m].left=g;t[m].index=g.index+1}}for(m in t){d=t[m].right;y=t[m].left;s=t[m].index;c=s-1;if(y!==void 0){g=y}else{g=d}if(0>c){c=0}p=g.geometry;n=p.getCoordinates();o=n;r=!1;switch(p.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:if(2<n[g.depth[0]].length){n[g.depth[0]].splice(s,1);r=!0}break;case ol.geom.GeometryType.LINE_STRING:if(2<n.length){n.splice(s,1);r=!0}break;case ol.geom.GeometryType.MULTI_POLYGON:o=o[g.depth[1]];case ol.geom.GeometryType.POLYGON:o=o[g.depth[0]];if(4<o.length){if(s==o.length-1){s=0}o.splice(s,1);r=!0;if(0===s){o.pop();o.push(o[0]);c=o.length-1}}break;default:}if(r){this.setGeometryCoordinates_(p,n);var u=[];if(y!==void 0){this.rBush_.remove(y);u.push(y.segment[0])}if(d!==void 0){this.rBush_.remove(d);u.push(d.segment[1])}if(y!==void 0&&d!==void 0){var _={depth:g.depth,feature:g.feature,geometry:g.geometry,index:c,segment:u};this.rBush_.insert(ol.extent.boundingExtent(_.segment),_)}this.updateSegmentIndices_(p,s,g.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}e.length=0}}return r};ol.interaction.Modify.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0;e.setCoordinates(t);this.changingFeature_=!1};ol.interaction.Modify.prototype.updateSegmentIndices_=function(e,t,r,o){this.rBush_.forEachInExtent(e.getExtent(),function(i){if(i.geometry===e&&(r===void 0||i.depth===void 0||ol.array.equals(i.depth,r))&&i.index>t){i.index+=o}})};ol.interaction.Modify.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(){return e[ol.geom.GeometryType.POINT]}};ol.interaction.Modify.Event=function(e,t,r){ol.events.Event.call(this,e);this.features=t;this.mapBrowserEvent=r};ol.inherits(ol.interaction.Modify.Event,ol.events.Event);goog.provide("ol.interaction.Select");goog.require("ol");goog.require("ol.CollectionEventType");goog.require("ol.array");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.geom.GeometryType");goog.require("ol.interaction.Interaction");goog.require("ol.layer.Vector");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Select=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:ol.events.condition.singleClick;this.addCondition_=t.addCondition?t.addCondition:ol.events.condition.never;this.removeCondition_=t.removeCondition?t.removeCondition:ol.events.condition.never;this.toggleCondition_=t.toggleCondition?t.toggleCondition:ol.events.condition.shiftKeyOnly;this.multi_=t.multi?t.multi:!1;this.filter_=t.filter?t.filter:ol.functions.TRUE;this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;var r=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.featureOverlay_=r;var o;if(t.layers){if("function"==typeof t.layers){o=t.layers}else{var i=t.layers;o=function(e){return ol.array.includes(i,e)}}}else{o=ol.functions.TRUE}this.layerFilter_=o;this.featureLayerAssociation_={};var n=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(n,ol.CollectionEventType.ADD,this.addFeature_,this);ol.events.listen(n,ol.CollectionEventType.REMOVE,this.removeFeature_,this)};ol.inherits(ol.interaction.Select,ol.interaction.Interaction);ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(e,t){var r=ol.getUid(e);this.featureLayerAssociation_[r]=t};ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()};ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Select.prototype.getLayer=function(e){var t=ol.getUid(e);return this.featureLayerAssociation_[t]};ol.interaction.Select.handleEvent=function(e){if(!this.condition_(e)){return!0}var t=this.addCondition_(e),r=this.removeCondition_(e),o=this.toggleCondition_(e),n=e.map,a=this.featureOverlay_.getSource().getFeaturesCollection(),p=[],l=[];if(!t&&!r&&!o){ol.obj.clear(this.featureLayerAssociation_);n.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t)){l.push(e);this.addFeatureLayerAssociation_(e,t);return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var s;for(s=a.getLength()-1;0<=s;--s){var y=a.item(s),c=l.indexOf(y);if(-1<c){l.splice(c,1)}else{a.remove(y);p.push(y)}}if(0!==l.length){a.extend(l)}}else{n.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i)){if((t||o)&&!ol.array.includes(a.getArray(),e)){l.push(e);this.addFeatureLayerAssociation_(e,i)}else if((r||o)&&ol.array.includes(a.getArray(),e)){p.push(e);this.removeFeatureLayerAssociation_(e)}return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var d;for(d=p.length-1;0<=d;--d){a.remove(p[d])}a.extend(l)}if(0<l.length||0<p.length){this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,l,p,e))}return ol.events.condition.pointerMove(e)};ol.interaction.Select.prototype.setHitTolerance=function(e){this.hitTolerance_=e};ol.interaction.Select.prototype.setMap=function(e){var t=this.getMap(),r=this.featureOverlay_.getSource().getFeaturesCollection();if(t){r.forEach(t.unskipFeature,t)}ol.interaction.Interaction.prototype.setMap.call(this,e);this.featureOverlay_.setMap(e);if(e){r.forEach(e.skipFeature,e)}};ol.interaction.Select.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();ol.array.extend(e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]);ol.array.extend(e[ol.geom.GeometryType.GEOMETRY_COLLECTION],e[ol.geom.GeometryType.LINE_STRING]);return function(t){if(!t.getGeometry()){return null}return e[t.getGeometry().getType()]}};ol.interaction.Select.prototype.addFeature_=function(e){var t=this.getMap();if(t){t.skipFeature(e.element)}};ol.interaction.Select.prototype.removeFeature_=function(e){var t=this.getMap();if(t){t.unskipFeature(e.element)}};ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(e){var t=ol.getUid(e);delete this.featureLayerAssociation_[t]};ol.interaction.Select.Event=function(e,t,r,o){ol.events.Event.call(this,e);this.selected=t;this.deselected=r;this.mapBrowserEvent=o};ol.inherits(ol.interaction.Select.Event,ol.events.Event);ol.interaction.Select.EventType_={SELECT:"select"};goog.provide("ol.interaction.Snap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Polygon");goog.require("ol.interaction.Pointer");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.interaction.Snap=function(e){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var t=e?e:{};this.source_=t.source?t.source:null;this.vertex_=t.vertex!==void 0?t.vertex:!0;this.edge_=t.edge!==void 0?t.edge:!0;this.features_=t.features?t.features:null;this.featuresListenerKeys_=[];this.featureChangeListenerKeys_={};this.indexedFeaturesExtents_={};this.pendingFeatures_={};this.pixelCoordinate_=null;this.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10;this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this);this.rBush_=new ol.structs.RBush;this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}};ol.inherits(ol.interaction.Snap,ol.interaction.Pointer);ol.interaction.Snap.prototype.addFeature=function(e,t){var r=t!==void 0?t:!0,o=ol.getUid(e),i=e.getGeometry();if(i){var n=this.SEGMENT_WRITERS_[i.getType()];if(n){this.indexedFeaturesExtents_[o]=i.getExtent(ol.extent.createEmpty());n.call(this,e,i)}}if(r){this.featureChangeListenerKeys_[o]=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)}};ol.interaction.Snap.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)};ol.interaction.Snap.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)};ol.interaction.Snap.prototype.getFeatures_=function(){var e;if(this.features_){e=this.features_}else if(this.source_){e=this.source_.getFeatures()}return e};ol.interaction.Snap.prototype.handleFeatureAdd_=function(e){var t;if(e instanceof ol.source.Vector.Event){t=e.feature}else if(e instanceof ol.Collection.Event){t=e.element}this.addFeature(t)};ol.interaction.Snap.prototype.handleFeatureRemove_=function(e){var t;if(e instanceof ol.source.Vector.Event){t=e.feature}else if(e instanceof ol.Collection.Event){t=e.element}this.removeFeature(t)};ol.interaction.Snap.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var r=ol.getUid(t);if(!(r in this.pendingFeatures_)){this.pendingFeatures_[r]=t}}else{this.updateFeature_(t)}};ol.interaction.Snap.prototype.removeFeature=function(e,t){var r=t!==void 0?t:!0,o=ol.getUid(e),n=this.indexedFeaturesExtents_[o];if(n){var a=this.rBush_,p,l=[];a.forEachInExtent(n,function(t){if(e===t.feature){l.push(t)}});for(p=l.length-1;0<=p;--p){a.remove(l[p])}}if(r){ol.events.unlistenByKey(this.featureChangeListenerKeys_[o]);delete this.featureChangeListenerKeys_[o]}};ol.interaction.Snap.prototype.setMap=function(e){var t=this.getMap(),r=this.featuresListenerKeys_,o=this.getFeatures_();if(t){r.forEach(ol.events.unlistenByKey);r.length=0;o.forEach(this.forEachFeatureRemove_,this)}ol.interaction.Pointer.prototype.setMap.call(this,e);if(e){if(this.features_){r.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this))}else if(this.source_){r.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this))}o.forEach(this.forEachFeatureAdd_,this)}};ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Snap.prototype.snapTo=function(e,t,r){var o=r.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),i=r.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),n=ol.extent.boundingExtent([o,i]),a=this.rBush_.getInExtent(n);if(this.vertex_&&!this.edge_){a=a.filter(function(e){return e.feature.getGeometry().getType()!==ol.geom.GeometryType.CIRCLE})}var p=!1,l=!1,s=null,y=null,c,d,g,m,u;if(0<a.length){this.pixelCoordinate_=t;a.sort(this.sortByDistance_);var _=a[0].segment,f=a[0].feature.getGeometry().getType()===ol.geom.GeometryType.CIRCLE;if(this.vertex_&&!this.edge_){d=r.getPixelFromCoordinate(_[0]);g=r.getPixelFromCoordinate(_[1]);m=ol.coordinate.squaredDistance(e,d);u=ol.coordinate.squaredDistance(e,g);c=Math.sqrt(Math.min(m,u));p=c<=this.pixelTolerance_;if(p){l=!0;s=m>u?_[1]:_[0];y=r.getPixelFromCoordinate(s)}}else if(this.edge_){if(f){s=ol.coordinate.closestOnCircle(t,a[0].feature.getGeometry())}else{s=ol.coordinate.closestOnSegment(t,_)}y=r.getPixelFromCoordinate(s);if(ol.coordinate.distance(e,y)<=this.pixelTolerance_){l=!0;if(this.vertex_&&!f){d=r.getPixelFromCoordinate(_[0]);g=r.getPixelFromCoordinate(_[1]);m=ol.coordinate.squaredDistance(y,d);u=ol.coordinate.squaredDistance(y,g);c=Math.sqrt(Math.min(m,u));p=c<=this.pixelTolerance_;if(p){s=m>u?_[1]:_[0];y=r.getPixelFromCoordinate(s)}}}}if(l){y=[Math.round(y[0]),Math.round(y[1])]}}return{snapped:l,vertex:s,vertexPixel:y}};ol.interaction.Snap.prototype.updateFeature_=function(e){this.removeFeature(e,!1);this.addFeature(e,!1)};ol.interaction.Snap.prototype.writeCircleGeometry_=function(e,t){var r=ol.geom.Polygon.fromCircle(t),o=r.getCoordinates()[0],n,a,p,l;for(n=0,a=o.length-1;n<a;++n){p=o.slice(n,n+2);l={feature:e,segment:p};this.rBush_.insert(ol.extent.boundingExtent(p),l)}};ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,t){var r,o=t.getGeometriesArray();for(r=0;r<o.length;++r){var n=this.SEGMENT_WRITERS_[o[r].getType()];if(n){n.call(this,e,o[r])}}};ol.interaction.Snap.prototype.writeLineStringGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p;for(o=0,n=r.length-1;o<n;++o){a=r.slice(o,o+2);p={feature:e,segment:a};this.rBush_.insert(ol.extent.boundingExtent(a),p)}};ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p,l,s,y;for(p=0,l=r.length;p<l;++p){o=r[p];for(n=0,a=o.length-1;n<a;++n){s=o.slice(n,n+2);y={feature:e,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),y)}}};ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p;for(n=0,a=r.length;n<a;++n){o=r[n];p={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),p)}};ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p,l,s,y,c,d,g;for(s=0,y=r.length;s<y;++s){c=r[s];for(p=0,l=c.length;p<l;++p){o=c[p];for(n=0,a=o.length-1;n<a;++n){d=o.slice(n,n+2);g={feature:e,segment:d};this.rBush_.insert(ol.extent.boundingExtent(d),g)}}}};ol.interaction.Snap.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,segment:[r,r]})};ol.interaction.Snap.prototype.writePolygonGeometry_=function(e,t){var r=t.getCoordinates(),o,n,a,p,l,s,y;for(p=0,l=r.length;p<l;++p){o=r[p];for(n=0,a=o.length-1;n<a;++n){s=o.slice(n,n+2);y={feature:e,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),y)}}};ol.interaction.Snap.handleEvent_=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);if(t.snapped){e.coordinate=t.vertex.slice(0,2);e.pixel=t.vertexPixel}return ol.interaction.Pointer.handleEvent.call(this,e)};ol.interaction.Snap.handleUpEvent_=function(){var e=ol.obj.getValues(this.pendingFeatures_);if(e.length){e.forEach(this.updateFeature_,this);this.pendingFeatures_={}}return!1};ol.interaction.Snap.sortByDistance=function(e,t){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,e.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,t.segment)};goog.provide("ol.interaction.TranslateEventType");ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};goog.provide("ol.interaction.Translate");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Object");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.functions");goog.require("ol.array");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Property");goog.require("ol.interaction.TranslateEventType");ol.interaction.Translate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var t=e?e:{};this.lastCoordinate_=null;this.features_=t.features!==void 0?t.features:null;var r;if(t.layers){if("function"==typeof t.layers){r=t.layers}else{var o=t.layers;r=function(e){return ol.array.includes(o,e)}}}else{r=ol.functions.TRUE}this.layerFilter_=r;this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;this.lastFeature_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.handleActiveChanged_,this)};ol.inherits(ol.interaction.Translate,ol.interaction.Pointer);ol.interaction.Translate.handleDownEvent_=function(e){this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate;ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,t,e.coordinate));return!0}return!1};ol.interaction.Translate.handleUpEvent_=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null;ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,t,e.coordinate));return!0}return!1};ol.interaction.Translate.handleDragEvent_=function(e){if(this.lastCoordinate_){var t=e.coordinate,r=t[0]-this.lastCoordinate_[0],o=t[1]-this.lastCoordinate_[1],i=this.features_||new ol.Collection([this.lastFeature_]);i.forEach(function(e){var t=e.getGeometry();t.translate(r,o);e.setGeometry(t)});this.lastCoordinate_=t;this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,i,t))}};ol.interaction.Translate.handleMoveEvent_=function(e){var t=e.map.getViewport();if(this.featuresAtPixel_(e.pixel,e.map)){t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing");t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")}else{t.classList.remove("ol-grab","ol-grabbing")}};ol.interaction.Translate.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e){if(!this.features_||ol.array.includes(this.features_.getArray(),e)){return e}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Translate.prototype.setHitTolerance=function(e){this.hitTolerance_=e};ol.interaction.Translate.prototype.setMap=function(e){var t=this.getMap();ol.interaction.Pointer.prototype.setMap.call(this,e);this.updateState_(t)};ol.interaction.Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)};ol.interaction.Translate.prototype.updateState_=function(e){var t=this.getMap(),r=this.getActive();if(!t||!r){t=t||e;if(t){var o=t.getViewport();o.classList.remove("ol-grab","ol-grabbing")}}};ol.interaction.Translate.Event=function(e,t,r){ol.events.Event.call(this,e);this.features=t;this.coordinate=r};ol.inherits(ol.interaction.Translate.Event,ol.events.Event);goog.provide("ol.layer.Heatmap");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.layer.Vector");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.style.Icon");goog.require("ol.style.Style");ol.layer.Heatmap=function(e){var t=e?e:{},r=ol.obj.assign({},t);delete r.gradient;delete r.radius;delete r.blur;delete r.shadow;delete r.weight;ol.layer.Vector.call(this,r);this.gradient_=null;this.shadow_=t.shadow!==void 0?t.shadow:250;this.circleImage_=void 0;this.styleCache_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this);this.setGradient(t.gradient?t.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT);this.setBlur(t.blur!==void 0?t.blur:15);this.setRadius(t.radius!==void 0?t.radius:8);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this);this.handleStyleChanged_();var o=t.weight?t.weight:"weight",i;if("string"==typeof o){i=function(e){return e.get(o)}}else{i=o}this.setStyle(function(e){var t=i(e),r=t!==void 0?ol.math.clamp(t,0,1):1,o=0|255*r,n=this.styleCache_[o];if(!n){n=[new ol.style.Style({image:new ol.style.Icon({opacity:r,src:this.circleImage_})})];this.styleCache_[o]=n}return n}.bind(this));this.setRenderOrder(null);ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)};ol.inherits(ol.layer.Heatmap,ol.layer.Vector);ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"];ol.layer.Heatmap.createGradient_=function(e){for(var t=1,r=256,o=ol.dom.createCanvasContext2D(t,r),n=o.createLinearGradient(0,0,t,r),a=1/(e.length-1),p=0,l=e.length;p<l;++p){n.addColorStop(p*a,e[p])}o.fillStyle=n;o.fillRect(0,0,t,r);return o.getImageData(0,0,t,r).data};ol.layer.Heatmap.prototype.createCircle_=function(){var e=this.getRadius(),t=this.getBlur(),r=e+t+1,o=2*r,i=ol.dom.createCanvasContext2D(o,o);i.shadowOffsetX=i.shadowOffsetY=this.shadow_;i.shadowBlur=t;i.shadowColor="#000";i.beginPath();var n=r-this.shadow_;i.arc(n,n,e,0,2*Math.PI,!0);i.fill();return i.canvas.toDataURL()};ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)};ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)};ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)};ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())};ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_();this.styleCache_=Array(256);this.changed()};ol.layer.Heatmap.prototype.handleRender_=function(e){var t=e.context,r=t.canvas,o=t.getImageData(0,0,r.width,r.height),n=o.data,a,p,l;for(a=0,p=n.length;a<p;a+=4){l=4*n[a+3];if(l){n[a]=this.gradient_[l];n[a+1]=this.gradient_[l+1];n[a+2]=this.gradient_[l+2]}}t.putImageData(o,0,0)};ol.layer.Heatmap.prototype.setBlur=function(e){this.set(ol.layer.Heatmap.Property_.BLUR,e)};ol.layer.Heatmap.prototype.setGradient=function(e){this.set(ol.layer.Heatmap.Property_.GRADIENT,e)};ol.layer.Heatmap.prototype.setRadius=function(e){this.set(ol.layer.Heatmap.Property_.RADIUS,e)};ol.layer.Heatmap.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"};goog.provide("ol.layer.Image");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.layer.Layer");ol.layer.Image=function(e){var t=e?e:{};ol.layer.Layer.call(this,t);this.type=ol.LayerType.IMAGE};ol.inherits(ol.layer.Image,ol.layer.Layer);ol.layer.Image.prototype.getSource;goog.provide("ol.layer.TileProperty");ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};goog.provide("ol.layer.Tile");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.layer.Layer");goog.require("ol.layer.TileProperty");goog.require("ol.obj");ol.layer.Tile=function(e){var t=e?e:{},r=ol.obj.assign({},t);delete r.preload;delete r.useInterimTilesOnError;ol.layer.Layer.call(this,r);this.setPreload(t.preload!==void 0?t.preload:0);this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0);this.type=ol.LayerType.TILE};ol.inherits(ol.layer.Tile,ol.layer.Layer);ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.Tile.prototype.getSource;ol.layer.Tile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)};ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.Tile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)};goog.provide("ol.layer.VectorTile");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.asserts");goog.require("ol.layer.TileProperty");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTileRenderType");goog.require("ol.obj");ol.layer.VectorTile=function(e){var t=e?e:{},r=ol.obj.assign({},t);delete r.preload;delete r.useInterimTilesOnError;ol.layer.Vector.call(this,r);this.setPreload(t.preload?t.preload:0);this.setUseInterimTilesOnError(t.useInterimTilesOnError?t.useInterimTilesOnError:!0);var o=t.renderMode;ol.asserts.assert(o==void 0||o==ol.layer.VectorTileRenderType.IMAGE||o==ol.layer.VectorTileRenderType.HYBRID||o==ol.layer.VectorTileRenderType.VECTOR,28);if(t.declutter&&o==ol.layer.VectorTileRenderType.IMAGE){o=ol.layer.VectorTileRenderType.HYBRID}this.renderMode_=o||ol.layer.VectorTileRenderType.HYBRID;this.type=ol.LayerType.VECTOR_TILE};ol.inherits(ol.layer.VectorTile,ol.layer.Vector);ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.VectorTile.prototype.getRenderMode=function(){return this.renderMode_};ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.VectorTile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)};ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)};ol.layer.VectorTile.prototype.getSource;goog.provide("ol.webgl.Shader");goog.require("ol.functions");ol.webgl.Shader=function(e){this.source_=e};ol.webgl.Shader.prototype.getType=function(){};ol.webgl.Shader.prototype.getSource=function(){return this.source_};ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE;goog.provide("ol.webgl.Fragment");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");ol.webgl.Fragment=function(e){ol.webgl.Shader.call(this,e)};ol.inherits(ol.webgl.Fragment,ol.webgl.Shader);ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER};goog.provide("ol.webgl.Vertex");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");ol.webgl.Vertex=function(e){ol.webgl.Shader.call(this,e)};ol.inherits(ol.webgl.Vertex,ol.webgl.Shader);ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER};goog.provide("ol.render.webgl.circlereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.circlereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");ol.render.webgl.circlereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");goog.provide("ol.render.webgl.circlereplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.circlereplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"l");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_fillColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_fillColor":"n");this.u_strokeColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_strokeColor":"o");this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"p");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e");this.a_instruction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_instruction":"f");this.a_radius=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_radius":"g")};goog.provide("ol.vec.Mat4");ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};ol.vec.Mat4.fromTransform=function(e,t){e[0]=t[0];e[1]=t[1];e[4]=t[2];e[5]=t[3];e[12]=t[4];e[13]=t[5];return e};goog.provide("ol.render.webgl.Replay");goog.require("ol");goog.require("ol.extent");goog.require("ol.render.VectorContext");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");ol.render.webgl.Replay=function(e,t){ol.render.VectorContext.call(this);this.tolerance=e;this.maxExtent=t;this.origin=ol.extent.getCenter(t);this.projectionMatrix_=ol.transform.create();this.offsetRotateMatrix_=ol.transform.create();this.offsetScaleMatrix_=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.indices=[];this.indicesBuffer=null;this.startIndices=[];this.startIndicesFeature=[];this.vertices=[];this.verticesBuffer=null;this.lineStringReplay=void 0};ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext);ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(){};ol.render.webgl.Replay.prototype.finish=function(){};ol.render.webgl.Replay.prototype.setUpProgram=function(){};ol.render.webgl.Replay.prototype.shutDownProgram=function(){};ol.render.webgl.Replay.prototype.drawReplay=function(){};ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(){};ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(e,t,r,o,i,n){if(!i){return this.drawHitDetectionReplayAll(e,t,r,o)}else{return this.drawHitDetectionReplayOneByOne(e,t,r,o,n)}};ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(e,t,r,o){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawReplay(e,t,r,!0);var i=o(null);if(i){return i}else{}};ol.render.webgl.Replay.prototype.replay=function(e,t,r,o,i,n,a,p,l,s,y){var c=e.getGL(),d,g,m,u,_,f,S,x;if(this.lineStringReplay){d=c.isEnabled(c.STENCIL_TEST);g=c.getParameter(c.STENCIL_FUNC);m=c.getParameter(c.STENCIL_VALUE_MASK);u=c.getParameter(c.STENCIL_REF);_=c.getParameter(c.STENCIL_WRITEMASK);f=c.getParameter(c.STENCIL_FAIL);S=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);x=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL);c.enable(c.STENCIL_TEST);c.clear(c.STENCIL_BUFFER_BIT);c.stencilMask(255);c.stencilFunc(c.ALWAYS,1,255);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);this.lineStringReplay.replay(e,t,r,o,i,n,a,p,l,s,y);c.stencilMask(0);c.stencilFunc(c.NOTEQUAL,1,255)}e.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer);e.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var P=this.setUpProgram(c,e,i,n),T=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(T,2/(r*i[0]),2/(r*i[1]));ol.transform.rotate(T,-o);ol.transform.translate(T,-(t[0]-this.origin[0]),-(t[1]-this.origin[1]));var E=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(E,2/i[0],2/i[1]);var h=ol.transform.reset(this.offsetRotateMatrix_);if(0!==o){ol.transform.rotate(h,-o)}c.uniformMatrix4fv(P.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,T));c.uniformMatrix4fv(P.u_offsetScaleMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,E));c.uniformMatrix4fv(P.u_offsetRotateMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,h));c.uniform1f(P.u_opacity,a);var v;if(l===void 0){this.drawReplay(c,e,p,!1)}else{v=this.drawHitDetectionReplay(c,e,p,l,s,y)}this.shutDownProgram(c,P);if(this.lineStringReplay){if(!d){c.disable(c.STENCIL_TEST)}c.clear(c.STENCIL_BUFFER_BIT);c.stencilFunc(g,u,m);c.stencilMask(_);c.stencilOp(f,x,S)}return v};ol.render.webgl.Replay.prototype.drawElements=function(e,t,r,o){var i=t.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT,n=t.hasOESElementIndexUint?4:2;e.drawElements(ol.webgl.TRIANGLES,o-r,i,r*n)};goog.provide("ol.render.webgl");ol.render.webgl.defaultFont="10px sans-serif";ol.render.webgl.defaultFillStyle=[0,0,0,1];ol.render.webgl.defaultLineCap="round";ol.render.webgl.defaultLineDash=[];ol.render.webgl.defaultLineDashOffset=0;ol.render.webgl.defaultLineJoin="round";ol.render.webgl.defaultMiterLimit=10;ol.render.webgl.defaultStrokeStyle=[0,0,0,1];ol.render.webgl.defaultTextAlign=.5;ol.render.webgl.defaultTextBaseline=.5;ol.render.webgl.defaultLineWidth=1;ol.render.webgl.triangleIsCounterClockwise=function(e,t,r,o,i,n){var a=(r-e)*(n-t)-(i-e)*(o-t);return a<=ol.render.webgl.EPSILON&&a>=-ol.render.webgl.EPSILON?void 0:0<a};ol.render.webgl.EPSILON=Number.EPSILON||2220446049250313e-31;goog.provide("ol.webgl.Buffer");goog.require("ol.webgl");ol.webgl.Buffer=function(e,t){this.arr_=e!==void 0?e:[];this.usage_=t!==void 0?t:ol.webgl.Buffer.Usage_.STATIC_DRAW};ol.webgl.Buffer.prototype.getArray=function(){return this.arr_};ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_};ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW};goog.provide("ol.render.webgl.CircleReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.geom.flat.transform");goog.require("ol.render.webgl.circlereplay.defaultshader");goog.require("ol.render.webgl.circlereplay.defaultshader.Locations");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.render.webgl.CircleReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.radius_=0;this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}};ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay);ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(e,t,r,o){var a=this.vertices.length,p=this.indices.length,l=a/4,s,y;for(s=t,y=r;s<y;s+=o){this.vertices[a++]=e[s];this.vertices[a++]=e[s+1];this.vertices[a++]=0;this.vertices[a++]=this.radius_;this.vertices[a++]=e[s];this.vertices[a++]=e[s+1];this.vertices[a++]=1;this.vertices[a++]=this.radius_;this.vertices[a++]=e[s];this.vertices[a++]=e[s+1];this.vertices[a++]=2;this.vertices[a++]=this.radius_;this.vertices[a++]=e[s];this.vertices[a++]=e[s+1];this.vertices[a++]=3;this.vertices[a++]=this.radius_;this.indices[p++]=l;this.indices[p++]=l+1;this.indices[p++]=l+2;this.indices[p++]=l+2;this.indices[p++]=l+3;this.indices[p++]=l;l+=4}};ol.render.webgl.CircleReplay.prototype.drawCircle=function(e,t){var r=e.getRadius(),o=e.getStride();if(r){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=!1}this.radius_=r;var i=e.getFlatCoordinates();i=ol.geom.flat.transform.translate(i,0,2,o,-this.origin[0],-this.origin[1]);this.drawCoordinates_(i,0,2,o)}else{if(this.state_.changed){this.styles_.pop();if(this.styles_.length){var n=this.styles_[this.styles_.length-1];this.state_.fillColor=n[0];this.state_.strokeColor=n[1];this.state_.lineWidth=n[2];this.state_.changed=!1}}}};ol.render.webgl.CircleReplay.prototype.finish=function(){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(0===this.styleIndices_.length&&0<this.styles_.length){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,r=this.indicesBuffer;return function(){e.deleteBuffer(t);e.deleteBuffer(r)}};ol.render.webgl.CircleReplay.prototype.setUpProgram=function(e,t,r,o){var i,n;i=ol.render.webgl.circlereplay.defaultshader.fragment;n=ol.render.webgl.circlereplay.defaultshader.vertex;var a=t.getProgram(i,n),p;if(!this.defaultLocations_){p=new ol.render.webgl.circlereplay.defaultshader.Locations(e,a);this.defaultLocations_=p}else{p=this.defaultLocations_}t.useProgram(a);e.enableVertexAttribArray(p.a_position);e.vertexAttribPointer(p.a_position,2,ol.webgl.FLOAT,!1,16,0);e.enableVertexAttribArray(p.a_instruction);e.vertexAttribPointer(p.a_instruction,1,ol.webgl.FLOAT,!1,16,8);e.enableVertexAttribArray(p.a_radius);e.vertexAttribPointer(p.a_radius,1,ol.webgl.FLOAT,!1,16,12);e.uniform2fv(p.u_size,r);e.uniform1f(p.u_pixelRatio,o);return p};ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_instruction);e.disableVertexAttribArray(t.a_radius)};ol.render.webgl.CircleReplay.prototype.drawReplay=function(e,t,r){if(!ol.obj.isEmpty(r)){this.drawReplaySkipping_(e,t,r)}else{var o,n,a,p;a=this.startIndices[this.startIndices.length-1];for(o=this.styleIndices_.length-1;0<=o;--o){n=this.styleIndices_[o];p=this.styles_[o];this.setFillStyle_(e,p[0]);this.setStrokeStyle_(e,p[1],p[2]);this.drawElements(e,t,n,a);a=n}}};ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,r,o,n){var a,p,l,s,y,c,d,g;g=this.startIndices.length-2;l=this.startIndices[g+1];for(a=this.styleIndices_.length-1;0<=a;--a){s=this.styles_[a];this.setFillStyle_(e,s[0]);this.setStrokeStyle_(e,s[1],s[2]);y=this.styleIndices_[a];while(0<=g&&this.startIndices[g]>=y){p=this.startIndices[g];c=this.startIndicesFeature[g];d=ol.getUid(c).toString();if(r[d]===void 0&&c.getGeometry()&&(n===void 0||ol.extent.intersects(n,c.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,p,l);var m=o(c);if(m){return m}}g--;l=p}}};ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(e,t,r){var o,n,a,p,l,s,y,c,d;c=this.startIndices.length-2;a=n=this.startIndices[c+1];for(o=this.styleIndices_.length-1;0<=o;--o){p=this.styles_[o];this.setFillStyle_(e,p[0]);this.setStrokeStyle_(e,p[1],p[2]);l=this.styleIndices_[o];while(0<=c&&this.startIndices[c]>=l){d=this.startIndices[c];s=this.startIndicesFeature[c];y=ol.getUid(s).toString();if(r[y]){if(n!==a){this.drawElements(e,t,n,a)}a=d}c--;n=d}if(n!==a){this.drawElements(e,t,n,a)}n=a=l}};ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_fillColor,t)};ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(e,t,r){e.uniform4fv(this.defaultLocations_.u_strokeColor,t);e.uniform1f(this.defaultLocations_.u_lineWidth,r)};ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(e,t){var r,o;if(t){var i=t.getLineDash();this.state_.lineDash=i?i:ol.render.webgl.defaultLineDash;var n=t.getLineDashOffset();this.state_.lineDashOffset=n?n:ol.render.webgl.defaultLineDashOffset;r=t.getColor();if(!(r instanceof CanvasGradient)&&!(r instanceof CanvasPattern)){r=ol.color.asArray(r).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultStrokeStyle}else{r=ol.render.webgl.defaultStrokeStyle}o=t.getWidth();o=o!==void 0?o:ol.render.webgl.defaultLineWidth}else{r=[0,0,0,0];o=0}var a=e?e.getColor():[0,0,0,0];if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultFillStyle}else{a=ol.render.webgl.defaultFillStyle}if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,r)||!this.state_.fillColor||!ol.array.equals(this.state_.fillColor,a)||this.state_.lineWidth!==o){this.state_.changed=!0;this.state_.fillColor=a;this.state_.strokeColor=r;this.state_.lineWidth=o;this.styles_.push([a,r,o])}};goog.provide("ol.render.webgl.texturereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.texturereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");ol.render.webgl.texturereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");goog.provide("ol.render.webgl.texturereplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.texturereplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"k");this.u_image=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_image":"l");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"c");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"d");this.a_offsets=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_offsets":"e");this.a_opacity=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_opacity":"f");this.a_rotateWithView=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_rotateWithView":"g")};goog.provide("ol.webgl.ContextEventType");ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};goog.provide("ol.webgl.Context");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.array");goog.require("ol.events");goog.require("ol.obj");goog.require("ol.webgl");goog.require("ol.webgl.ContextEventType");ol.webgl.Context=function(e,t){this.canvas_=e;this.gl_=t;this.bufferCache_={};this.shaderCache_={};this.programCache_={};this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null;this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint");if(this.hasOESElementIndexUint){t.getExtension("OES_element_index_uint")}ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)};ol.inherits(ol.webgl.Context,ol.Disposable);ol.webgl.Context.prototype.bindBuffer=function(e,t){var r=this.getGL(),o=t.getArray(),i=ol.getUid(t)+"";if(i in this.bufferCache_){var n=this.bufferCache_[i];r.bindBuffer(e,n.buffer)}else{var a=r.createBuffer();r.bindBuffer(e,a);var p;if(e==ol.webgl.ARRAY_BUFFER){p=new Float32Array(o)}else if(e==ol.webgl.ELEMENT_ARRAY_BUFFER){p=this.hasOESElementIndexUint?new Uint32Array(o):new Uint16Array(o)}r.bufferData(e,p,t.getUsage());this.bufferCache_[i]={buf:t,buffer:a}}};ol.webgl.Context.prototype.deleteBuffer=function(e){var t=this.getGL(),r=ol.getUid(e)+"",o=this.bufferCache_[r];if(!t.isContextLost()){t.deleteBuffer(o.buffer)}delete this.bufferCache_[r]};ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var e=this.getGL();if(!e.isContextLost()){for(var t in this.bufferCache_){e.deleteBuffer(this.bufferCache_[t].buffer)}for(t in this.programCache_){e.deleteProgram(this.programCache_[t])}for(t in this.shaderCache_){e.deleteShader(this.shaderCache_[t])}e.deleteFramebuffer(this.hitDetectionFramebuffer_);e.deleteRenderbuffer(this.hitDetectionRenderbuffer_);e.deleteTexture(this.hitDetectionTexture_)}};ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_};ol.webgl.Context.prototype.getGL=function(){return this.gl_};ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){if(!this.hitDetectionFramebuffer_){this.initHitDetectionFramebuffer_()}return this.hitDetectionFramebuffer_};ol.webgl.Context.prototype.getShader=function(e){var t=ol.getUid(e)+"";if(t in this.shaderCache_){return this.shaderCache_[t]}else{var r=this.getGL(),o=r.createShader(e.getType());r.shaderSource(o,e.getSource());r.compileShader(o);this.shaderCache_[t]=o;return o}};ol.webgl.Context.prototype.getProgram=function(e,t){var r=ol.getUid(e)+"/"+ol.getUid(t);if(r in this.programCache_){return this.programCache_[r]}else{var o=this.getGL(),i=o.createProgram();o.attachShader(i,this.getShader(e));o.attachShader(i,this.getShader(t));o.linkProgram(i);this.programCache_[r]=i;return i}};ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_);ol.obj.clear(this.shaderCache_);ol.obj.clear(this.programCache_);this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null};ol.webgl.Context.prototype.handleWebGLContextRestored=function(){};ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=ol.webgl.Context.createEmptyTexture(e,1,1),o=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,o);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o);e.bindTexture(e.TEXTURE_2D,null);e.bindRenderbuffer(e.RENDERBUFFER,null);e.bindFramebuffer(e.FRAMEBUFFER,null);this.hitDetectionFramebuffer_=t;this.hitDetectionTexture_=r;this.hitDetectionRenderbuffer_=o};ol.webgl.Context.prototype.useProgram=function(e){if(e==this.currentProgram_){return!1}else{var t=this.getGL();t.useProgram(e);this.currentProgram_=e;return!0}};ol.webgl.Context.createTexture_=function(e,t,r){var o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);if(t!==void 0){e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,t)}if(r!==void 0){e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,r)}return o};ol.webgl.Context.createEmptyTexture=function(e,t,r,o,i){var n=ol.webgl.Context.createTexture_(e,o,i);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null);return n};ol.webgl.Context.createTexture=function(e,t,r,o){var i=ol.webgl.Context.createTexture_(e,r,o);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);return i};goog.provide("ol.render.webgl.TextureReplay");goog.require("ol");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.webgl.texturereplay.defaultshader");goog.require("ol.render.webgl.texturereplay.defaultshader.Locations");goog.require("ol.render.webgl.Replay");goog.require("ol.webgl");goog.require("ol.webgl.Context");ol.render.webgl.TextureReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.anchorX=void 0;this.anchorY=void 0;this.groupIndices=[];this.hitDetectionGroupIndices=[];this.height=void 0;this.imageHeight=void 0;this.imageWidth=void 0;this.defaultLocations=null;this.opacity=void 0;this.originX=void 0;this.originY=void 0;this.rotateWithView=void 0;this.rotation=void 0;this.scale=void 0;this.width=void 0};ol.inherits(ol.render.webgl.TextureReplay,ol.render.webgl.Replay);ol.render.webgl.TextureReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,r=this.indicesBuffer,o=this.getTextures(!0),n=e.getGL();return function(){if(!n.isContextLost()){var a,p;for(a=0,p=o.length;a<p;++a){n.deleteTexture(o[a])}}e.deleteBuffer(t);e.deleteBuffer(r)}};ol.render.webgl.TextureReplay.prototype.drawCoordinates=function(e,t,r,o){var a=this.anchorX,p=this.anchorY,l=this.height,s=this.imageHeight,c=this.imageWidth,d=this.opacity,g=this.originX,m=this.originY,u=this.rotateWithView?1:0,_=-this.rotation,f=this.scale,S=this.width,P=Math.cos(_),T=Math.sin(_),E=this.indices.length,h=this.vertices.length,v,R,C,L,M,I;for(v=t;v<r;v+=o){M=e[v]-this.origin[0];I=e[v+1]-this.origin[1];R=h/8;C=-f*a;L=-f*(l-p);this.vertices[h++]=M;this.vertices[h++]=I;this.vertices[h++]=C*P-L*T;this.vertices[h++]=C*T+L*P;this.vertices[h++]=g/c;this.vertices[h++]=(m+l)/s;this.vertices[h++]=d;this.vertices[h++]=u;C=f*(S-a);L=-f*(l-p);this.vertices[h++]=M;this.vertices[h++]=I;this.vertices[h++]=C*P-L*T;this.vertices[h++]=C*T+L*P;this.vertices[h++]=(g+S)/c;this.vertices[h++]=(m+l)/s;this.vertices[h++]=d;this.vertices[h++]=u;C=f*(S-a);L=f*p;this.vertices[h++]=M;this.vertices[h++]=I;this.vertices[h++]=C*P-L*T;this.vertices[h++]=C*T+L*P;this.vertices[h++]=(g+S)/c;this.vertices[h++]=m/s;this.vertices[h++]=d;this.vertices[h++]=u;C=-f*a;L=f*p;this.vertices[h++]=M;this.vertices[h++]=I;this.vertices[h++]=C*P-L*T;this.vertices[h++]=C*T+L*P;this.vertices[h++]=g/c;this.vertices[h++]=m/s;this.vertices[h++]=d;this.vertices[h++]=u;this.indices[E++]=R;this.indices[E++]=R+1;this.indices[E++]=R+2;this.indices[E++]=R;this.indices[E++]=R+2;this.indices[E++]=R+3}return h};ol.render.webgl.TextureReplay.prototype.createTextures=function(e,t,r,o){var n,a,p,l,s=t.length;for(l=0;l<s;++l){a=t[l];p=ol.getUid(a).toString();if(p in r){n=r[p]}else{n=ol.webgl.Context.createTexture(o,a,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE);r[p]=n}e[l]=n}};ol.render.webgl.TextureReplay.prototype.setUpProgram=function(e,t){var r=ol.render.webgl.texturereplay.defaultshader.fragment,o=ol.render.webgl.texturereplay.defaultshader.vertex,i=t.getProgram(r,o),n;if(!this.defaultLocations){n=new ol.render.webgl.texturereplay.defaultshader.Locations(e,i);this.defaultLocations=n}else{n=this.defaultLocations}t.useProgram(i);e.enableVertexAttribArray(n.a_position);e.vertexAttribPointer(n.a_position,2,ol.webgl.FLOAT,!1,32,0);e.enableVertexAttribArray(n.a_offsets);e.vertexAttribPointer(n.a_offsets,2,ol.webgl.FLOAT,!1,32,8);e.enableVertexAttribArray(n.a_texCoord);e.vertexAttribPointer(n.a_texCoord,2,ol.webgl.FLOAT,!1,32,16);e.enableVertexAttribArray(n.a_opacity);e.vertexAttribPointer(n.a_opacity,1,ol.webgl.FLOAT,!1,32,24);e.enableVertexAttribArray(n.a_rotateWithView);e.vertexAttribPointer(n.a_rotateWithView,1,ol.webgl.FLOAT,!1,32,28);return n};ol.render.webgl.TextureReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_offsets);e.disableVertexAttribArray(t.a_texCoord);e.disableVertexAttribArray(t.a_opacity);e.disableVertexAttribArray(t.a_rotateWithView)};ol.render.webgl.TextureReplay.prototype.drawReplay=function(e,t,r,o){var n=o?this.getHitDetectionTextures():this.getTextures(),a=o?this.hitDetectionGroupIndices:this.groupIndices;if(!ol.obj.isEmpty(r)){this.drawReplaySkipping(e,t,r,n,a)}else{var p,l,s;for(p=0,l=n.length,s=0;p<l;++p){e.bindTexture(ol.webgl.TEXTURE_2D,n[p]);var y=a[p];this.drawElements(e,t,s,y);s=y}}};ol.render.webgl.TextureReplay.prototype.drawReplaySkipping=function(e,t,r,o,n){var a=0,p,l;for(p=0,l=o.length;p<l;++p){e.bindTexture(ol.webgl.TEXTURE_2D,o[p]);var s=0<p?n[p-1]:0,y=n[p],c=s,d=s;while(a<this.startIndices.length&&this.startIndices[a]<=y){var g=this.startIndicesFeature[a],m=ol.getUid(g).toString();if(r[m]!==void 0){if(c!==d){this.drawElements(e,t,c,d)}c=a==this.startIndices.length-1?y:this.startIndices[a+1];d=c}else{d=a==this.startIndices.length-1?y:this.startIndices[a+1]}a++}if(c!==d){this.drawElements(e,t,c,d)}}};ol.render.webgl.TextureReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,r,o,n){var a,p,l,s,y,c,d=this.startIndices.length-1,g=this.getHitDetectionTextures();for(a=g.length-1;0<=a;--a){e.bindTexture(ol.webgl.TEXTURE_2D,g[a]);p=0<a?this.hitDetectionGroupIndices[a-1]:0;s=this.hitDetectionGroupIndices[a];while(0<=d&&this.startIndices[d]>=p){l=this.startIndices[d];y=this.startIndicesFeature[d];c=ol.getUid(y).toString();if(r[c]===void 0&&y.getGeometry()&&(n===void 0||ol.extent.intersects(n,y.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,l,s);var m=o(y);if(m){return m}}s=l;d--}}};ol.render.webgl.TextureReplay.prototype.finish=function(){this.anchorX=void 0;this.anchorY=void 0;this.height=void 0;this.imageHeight=void 0;this.imageWidth=void 0;this.indices=null;this.opacity=void 0;this.originX=void 0;this.originY=void 0;this.rotateWithView=void 0;this.rotation=void 0;this.scale=void 0;this.vertices=null;this.width=void 0};ol.render.webgl.TextureReplay.prototype.getTextures=function(){};ol.render.webgl.TextureReplay.prototype.getHitDetectionTextures=function(){};goog.provide("ol.render.webgl.ImageReplay");goog.require("ol");goog.require("ol.render.webgl.TextureReplay");goog.require("ol.webgl.Buffer");ol.render.webgl.ImageReplay=function(e,t){ol.render.webgl.TextureReplay.call(this,e,t);this.images_=[];this.hitDetectionImages_=[];this.textures_=[];this.hitDetectionTextures_=[]};ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.TextureReplay);ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(e,t){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var r=e.getFlatCoordinates(),o=e.getStride();this.drawCoordinates(r,0,r.length,o)};ol.render.webgl.ImageReplay.prototype.drawPoint=function(e,t){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var r=e.getFlatCoordinates(),o=e.getStride();this.drawCoordinates(r,0,r.length,o)};ol.render.webgl.ImageReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices.push(this.indices.length);this.verticesBuffer=new ol.webgl.Buffer(this.vertices);var r=this.indices;this.indicesBuffer=new ol.webgl.Buffer(r);var o={};this.createTextures(this.textures_,this.images_,o,t);this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,o,t);this.images_=null;this.hitDetectionImages_=null;ol.render.webgl.TextureReplay.prototype.finish.call(this,e)};ol.render.webgl.ImageReplay.prototype.setImageStyle=function(e){var t=e.getAnchor(),r=e.getImage(1),o=e.getImageSize(),i=e.getHitDetectionImage(1),n=e.getOpacity(),a=e.getOrigin(),p=e.getRotateWithView(),l=e.getRotation(),s=e.getSize(),y=e.getScale(),c;if(0===this.images_.length){this.images_.push(r)}else{c=this.images_[this.images_.length-1];if(ol.getUid(c)!=ol.getUid(r)){this.groupIndices.push(this.indices.length);this.images_.push(r)}}if(0===this.hitDetectionImages_.length){this.hitDetectionImages_.push(i)}else{c=this.hitDetectionImages_[this.hitDetectionImages_.length-1];if(ol.getUid(c)!=ol.getUid(i)){this.hitDetectionGroupIndices.push(this.indices.length);this.hitDetectionImages_.push(i)}}this.anchorX=t[0];this.anchorY=t[1];this.height=s[1];this.imageHeight=o[1];this.imageWidth=o[0];this.opacity=n;this.originX=a[0];this.originY=a[1];this.rotation=l;this.rotateWithView=p;this.scale=y;this.width=s[0]};ol.render.webgl.ImageReplay.prototype.getTextures=function(e){return e?this.textures_.concat(this.hitDetectionTextures_):this.textures_};ol.render.webgl.ImageReplay.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};goog.provide("ol.render.webgl.linestringreplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");goog.provide("ol.render.webgl.linestringreplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.linestringreplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_miterLimit=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_miterLimit":"l");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"n");this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"o");this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"p");this.a_lastPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_lastPos":"d");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e");this.a_nextPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_nextPos":"f");this.a_direction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_direction":"g")};goog.provide("ol.render.webgl.LineStringReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.transform");goog.require("ol.geom.flat.topology");goog.require("ol.obj");goog.require("ol.render.webgl");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl.linestringreplay.defaultshader");goog.require("ol.render.webgl.linestringreplay.defaultshader.Locations");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.render.webgl.LineStringReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}};ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay);ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(e,t,r,o){var a,p,l=this.vertices.length,s=this.indices.length,y="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,c="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,d=ol.geom.flat.topology.lineStringIsClosed(e,t,r,o),g,m,u,_=s,f=1,S,x,P;for(a=t,p=r;a<p;a+=o){u=l/7;S=x;x=P||[e[a],e[a+1]];if(a===t){P=[e[a+o],e[a+o+1]];if(r-t==2*o&&ol.array.equals(x,P)){break}if(d){S=[e[r-2*o],e[r-2*o+1]];g=P}else{if(c){l=this.addVertices_([0,0],x,P,f*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*c,l);l=this.addVertices_([0,0],x,P,-f*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*c,l);this.indices[s++]=u+2;this.indices[s++]=u;this.indices[s++]=u+1;this.indices[s++]=u+1;this.indices[s++]=u+3;this.indices[s++]=u+2}l=this.addVertices_([0,0],x,P,f*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(c||1),l);l=this.addVertices_([0,0],x,P,-f*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(c||1),l);_=l/7-1;continue}}else if(a===r-o){if(d){P=g;break}else{S=S||[0,0];l=this.addVertices_(S,x,[0,0],f*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(c||1),l);l=this.addVertices_(S,x,[0,0],-f*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(c||1),l);this.indices[s++]=u;this.indices[s++]=_-1;this.indices[s++]=_;this.indices[s++]=_;this.indices[s++]=u+1;this.indices[s++]=u;if(c){l=this.addVertices_(S,x,[0,0],f*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*c,l);l=this.addVertices_(S,x,[0,0],-f*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*c,l);this.indices[s++]=u+2;this.indices[s++]=u;this.indices[s++]=u+1;this.indices[s++]=u+1;this.indices[s++]=u+3;this.indices[s++]=u+2}break}}else{P=[e[a+o],e[a+o+1]]}m=ol.render.webgl.triangleIsCounterClockwise(S[0],S[1],x[0],x[1],P[0],P[1])?-1:1;l=this.addVertices_(S,x,P,m*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(y||1),l);l=this.addVertices_(S,x,P,m*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(y||1),l);l=this.addVertices_(S,x,P,-m*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(y||1),l);if(a>t){this.indices[s++]=u;this.indices[s++]=_-1;this.indices[s++]=_;this.indices[s++]=u+2;this.indices[s++]=u;this.indices[s++]=0<f*m?_:_-1}this.indices[s++]=u;this.indices[s++]=u+2;this.indices[s++]=u+1;_=u+2;f=m;if(y){l=this.addVertices_(S,x,P,m*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*y,l);this.indices[s++]=u+1;this.indices[s++]=u+3;this.indices[s++]=u}}if(d){u=u||l/7;m=ol.geom.flat.orient.linearRingIsClockwise([S[0],S[1],x[0],x[1],P[0],P[1]],0,6,2)?1:-1;l=this.addVertices_(S,x,P,m*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(y||1),l);l=this.addVertices_(S,x,P,-m*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(y||1),l);this.indices[s++]=u;this.indices[s++]=_-1;this.indices[s++]=_;this.indices[s++]=u+1;this.indices[s++]=u;this.indices[s++]=0<f*m?_:_-1}};ol.render.webgl.LineStringReplay.prototype.addVertices_=function(e,t,r,o,i){this.vertices[i++]=e[0];this.vertices[i++]=e[1];this.vertices[i++]=t[0];this.vertices[i++]=t[1];this.vertices[i++]=r[0];this.vertices[i++]=r[1];this.vertices[i++]=o;return i};ol.render.webgl.LineStringReplay.prototype.isValid_=function(e,t,r,o){var i=r-t;if(i<2*o){return!1}else if(i==2*o){var n=[e[t],e[t+1]],a=[e[t+o],e[t+o+1]];return!ol.array.equals(n,a)}return!0};ol.render.webgl.LineStringReplay.prototype.drawLineString=function(e,t){var r=e.getFlatCoordinates(),o=e.getStride();if(this.isValid_(r,0,r.length,o)){r=ol.geom.flat.transform.translate(r,0,r.length,o,-this.origin[0],-this.origin[1]);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=!1}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);this.drawCoordinates_(r,0,r.length,o)}};ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(e,t){var r=this.indices.length,o=e.getEnds();o.unshift(0);var n=e.getFlatCoordinates(),a=e.getStride(),p,l;if(1<o.length){for(p=1,l=o.length;p<l;++p){if(this.isValid_(n,o[p-1],o[p],a)){var s=ol.geom.flat.transform.translate(n,o[p-1],o[p],a,-this.origin[0],-this.origin[1]);this.drawCoordinates_(s,0,s.length,a)}}}if(this.indices.length>r){this.startIndices.push(r);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(r);this.state_.changed=!1}}};ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(e,t,r){if(!ol.geom.flat.topology.lineStringIsClosed(e,0,e.length,r)){e.push(e[0]);e.push(e[1])}this.drawCoordinates_(e,0,e.length,r);if(t.length){var o,n;for(o=0,n=t.length;o<n;++o){if(!ol.geom.flat.topology.lineStringIsClosed(t[o],0,t[o].length,r)){t[o].push(t[o][0]);t[o].push(t[o][1])}this.drawCoordinates_(t[o],0,t[o].length,r)}}};ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(e,t){var r=t===void 0?this.indices.length:t;this.startIndices.push(r);this.startIndicesFeature.push(e);if(this.state_.changed){this.styleIndices_.push(r);this.state_.changed=!1}};ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length};ol.render.webgl.LineStringReplay.prototype.finish=function(){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(0===this.styleIndices_.length&&0<this.styles_.length){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,r=this.indicesBuffer;return function(){e.deleteBuffer(t);e.deleteBuffer(r)}};ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(e,t,r,o){var i,n;i=ol.render.webgl.linestringreplay.defaultshader.fragment;n=ol.render.webgl.linestringreplay.defaultshader.vertex;var a=t.getProgram(i,n),p;if(!this.defaultLocations_){p=new ol.render.webgl.linestringreplay.defaultshader.Locations(e,a);this.defaultLocations_=p}else{p=this.defaultLocations_}t.useProgram(a);e.enableVertexAttribArray(p.a_lastPos);e.vertexAttribPointer(p.a_lastPos,2,ol.webgl.FLOAT,!1,28,0);e.enableVertexAttribArray(p.a_position);e.vertexAttribPointer(p.a_position,2,ol.webgl.FLOAT,!1,28,8);e.enableVertexAttribArray(p.a_nextPos);e.vertexAttribPointer(p.a_nextPos,2,ol.webgl.FLOAT,!1,28,16);e.enableVertexAttribArray(p.a_direction);e.vertexAttribPointer(p.a_direction,1,ol.webgl.FLOAT,!1,28,24);e.uniform2fv(p.u_size,r);e.uniform1f(p.u_pixelRatio,o);return p};ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_lastPos);e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_nextPos);e.disableVertexAttribArray(t.a_direction)};ol.render.webgl.LineStringReplay.prototype.drawReplay=function(e,t,r,o){var n=e.getParameter(e.DEPTH_FUNC),a=e.getParameter(e.DEPTH_WRITEMASK);if(!o){e.enable(e.DEPTH_TEST);e.depthMask(!0);e.depthFunc(e.NOTEQUAL)}if(!ol.obj.isEmpty(r)){this.drawReplaySkipping_(e,t,r)}else{var p,l,s,y;s=this.startIndices[this.startIndices.length-1];for(p=this.styleIndices_.length-1;0<=p;--p){l=this.styleIndices_[p];y=this.styles_[p];this.setStrokeStyle_(e,y[0],y[1],y[2]);this.drawElements(e,t,l,s);e.clear(e.DEPTH_BUFFER_BIT);s=l}}if(!o){e.disable(e.DEPTH_TEST);e.clear(e.DEPTH_BUFFER_BIT);e.depthMask(a);e.depthFunc(n)}};ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(e,t,r){var o,n,a,p,l,s,y,c,d;c=this.startIndices.length-2;a=n=this.startIndices[c+1];for(o=this.styleIndices_.length-1;0<=o;--o){p=this.styles_[o];this.setStrokeStyle_(e,p[0],p[1],p[2]);l=this.styleIndices_[o];while(0<=c&&this.startIndices[c]>=l){d=this.startIndices[c];s=this.startIndicesFeature[c];y=ol.getUid(s).toString();if(r[y]){if(n!==a){this.drawElements(e,t,n,a);e.clear(e.DEPTH_BUFFER_BIT)}a=d}c--;n=d}if(n!==a){this.drawElements(e,t,n,a);e.clear(e.DEPTH_BUFFER_BIT)}n=a=l}};ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,r,o,n){var a,p,l,s,y,c,d,g;g=this.startIndices.length-2;l=this.startIndices[g+1];for(a=this.styleIndices_.length-1;0<=a;--a){s=this.styles_[a];this.setStrokeStyle_(e,s[0],s[1],s[2]);y=this.styleIndices_[a];while(0<=g&&this.startIndices[g]>=y){p=this.startIndices[g];c=this.startIndicesFeature[g];d=ol.getUid(c).toString();if(r[d]===void 0&&c.getGeometry()&&(n===void 0||ol.extent.intersects(n,c.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,p,l);var m=o(c);if(m){return m}}g--;l=p}}};ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(e,t,r,o){e.uniform4fv(this.defaultLocations_.u_color,t);e.uniform1f(this.defaultLocations_.u_lineWidth,r);e.uniform1f(this.defaultLocations_.u_miterLimit,o)};ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(e,t){var r=t.getLineCap();this.state_.lineCap=r!==void 0?r:ol.render.webgl.defaultLineCap;var o=t.getLineDash();this.state_.lineDash=o?o:ol.render.webgl.defaultLineDash;var i=t.getLineDashOffset();this.state_.lineDashOffset=i?i:ol.render.webgl.defaultLineDashOffset;var n=t.getLineJoin();this.state_.lineJoin=n!==void 0?n:ol.render.webgl.defaultLineJoin;var a=t.getColor();if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultStrokeStyle}else{a=ol.render.webgl.defaultStrokeStyle}var p=t.getWidth();p=p!==void 0?p:ol.render.webgl.defaultLineWidth;var l=t.getMiterLimit();l=l!==void 0?l:ol.render.webgl.defaultMiterLimit;if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,a)||this.state_.lineWidth!==p||this.state_.miterLimit!==l){this.state_.changed=!0;this.state_.strokeColor=a;this.state_.lineWidth=p;this.state_.miterLimit=l;this.styles_.push([a,p,l])}};ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};goog.provide("ol.render.webgl.polygonreplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");goog.provide("ol.render.webgl.polygonreplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.polygonreplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"b");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d");this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"e");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"a")};goog.provide("ol.structs.LinkedList");ol.structs.LinkedList=function(e){this.first_=void 0;this.last_=void 0;this.head_=void 0;this.circular_=e===void 0?!0:e;this.length_=0};ol.structs.LinkedList.prototype.insertItem=function(e){var t={prev:void 0,next:void 0,data:e},r=this.head_;if(!r){this.first_=t;this.last_=t;if(this.circular_){t.next=t;t.prev=t}}else{var o=r.next;t.prev=r;t.next=o;r.next=t;if(o){o.prev=t}if(r===this.last_){this.last_=t}}this.head_=t;this.length_++};ol.structs.LinkedList.prototype.removeItem=function(){var e=this.head_;if(e){var t=e.next,r=e.prev;if(t){t.prev=r}if(r){r.next=t}this.head_=t||r;if(this.first_===this.last_){this.head_=void 0;this.first_=void 0;this.last_=void 0}else if(this.first_===e){this.first_=this.head_}else if(this.last_===e){this.last_=r?this.head_.prev:this.head_}this.length_--}};ol.structs.LinkedList.prototype.firstItem=function(){this.head_=this.first_;if(this.head_){return this.head_.data}};ol.structs.LinkedList.prototype.lastItem=function(){this.head_=this.last_;if(this.head_){return this.head_.data}};ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next){this.head_=this.head_.next;return this.head_.data}};ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next){return this.head_.next.data}};ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev){this.head_=this.head_.prev;return this.head_.data}};ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev){return this.head_.prev.data}};ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_){return this.head_.data}};ol.structs.LinkedList.prototype.setFirstItem=function(){if(this.circular_&&this.head_){this.first_=this.head_;this.last_=this.head_.prev}};ol.structs.LinkedList.prototype.concat=function(e){if(e.head_){if(this.head_){var t=this.head_.next;this.head_.next=e.first_;e.first_.prev=this.head_;t.prev=e.last_;e.last_.next=t;this.length_+=e.length_}else{this.head_=e.head_;this.first_=e.first_;this.last_=e.last_;this.length_=e.length_}e.head_=void 0;e.first_=void 0;e.last_=void 0;e.length_=0}};ol.structs.LinkedList.prototype.getLength=function(){return this.length_};goog.provide("ol.render.webgl.PolygonReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.transform");goog.require("ol.render.webgl.polygonreplay.defaultshader");goog.require("ol.render.webgl.polygonreplay.defaultshader.Locations");goog.require("ol.render.webgl.LineStringReplay");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl");goog.require("ol.style.Stroke");goog.require("ol.structs.LinkedList");goog.require("ol.structs.RBush");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.render.webgl.PolygonReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.lineStringReplay=new ol.render.webgl.LineStringReplay(e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={fillColor:null,changed:!1}};ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay);ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(e,t,r){var o=new ol.structs.LinkedList,n=new ol.structs.RBush;this.processFlatCoordinates_(e,r,o,n,!0);var a=this.getMaxCoords_(o);if(t.length){var p,l,s=[];for(p=0,l=t.length;p<l;++p){var y={list:new ol.structs.LinkedList,maxCoords:void 0,rtree:new ol.structs.RBush};s.push(y);this.processFlatCoordinates_(t[p],r,y.list,y.rtree,!1);this.classifyPoints_(y.list,y.rtree,!0);y.maxCoords=this.getMaxCoords_(y.list)}s.sort(function(e,t){return t.maxCoords[0]===e.maxCoords[0]?e.maxCoords[1]-t.maxCoords[1]:t.maxCoords[0]-e.maxCoords[0]});for(p=0;p<s.length;++p){var c=s[p].list,d=c.firstItem(),g=d,m;do{if(this.getIntersections_(g,n).length){m=!0;break}g=c.nextItem()}while(d!==g);if(!m){if(this.bridgeHole_(c,s[p].maxCoords[0],o,a[0],n)){n.concat(s[p].rtree);this.classifyPoints_(o,n,!1)}}}}else{this.classifyPoints_(o,n,!1)}this.triangulate_(o,n)};ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(e,t,r,o,a){var p=ol.geom.flat.orient.linearRingIsClockwise(e,0,e.length,t),l,s,y=this.vertices.length/2,c,d,g,m=[],u=[];if(a===p){c=this.createPoint_(e[0],e[1],y++);d=c;for(l=t,s=e.length;l<s;l+=t){g=this.createPoint_(e[l],e[l+1],y++);u.push(this.insertItem_(d,g,r));m.push([Math.min(d.x,g.x),Math.min(d.y,g.y),Math.max(d.x,g.x),Math.max(d.y,g.y)]);d=g}u.push(this.insertItem_(g,c,r));m.push([Math.min(d.x,g.x),Math.min(d.y,g.y),Math.max(d.x,g.x),Math.max(d.y,g.y)])}else{var _=e.length-t;c=this.createPoint_(e[_],e[_+1],y++);d=c;for(l=_-t,s=0;l>=s;l-=t){g=this.createPoint_(e[l],e[l+1],y++);u.push(this.insertItem_(d,g,r));m.push([Math.min(d.x,g.x),Math.min(d.y,g.y),Math.max(d.x,g.x),Math.max(d.y,g.y)]);d=g}u.push(this.insertItem_(g,c,r));m.push([Math.min(d.x,g.x),Math.min(d.y,g.y),Math.max(d.x,g.x),Math.max(d.y,g.y)])}o.load(m,u)};ol.render.webgl.PolygonReplay.prototype.getMaxCoords_=function(e){var t=e.firstItem(),r=t,o=[r.p0.x,r.p0.y];do{r=e.nextItem();if(r.p0.x>o[0]){o=[r.p0.x,r.p0.y]}}while(r!==t);return o};ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(e,t,r){var o=e.firstItem(),i=o,n=e.nextItem(),a=!1;do{var p=r?ol.render.webgl.triangleIsCounterClockwise(n.p1.x,n.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):ol.render.webgl.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,n.p1.x,n.p1.y);if(p===void 0){this.removeItem_(i,n,e,t);a=!0;if(n===o){o=e.getNextItem()}n=i;e.prevItem()}else if(i.p1.reflex!==p){i.p1.reflex=p;a=!0}i=n;n=e.nextItem()}while(i!==o);return a};ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(e,t,r,o,n){var a=e.firstItem();while(a.p1.x!==t){a=e.nextItem()}var p=a.p1,l={x:o,y:p.y,i:-1},s=1/0,y,c,d,g,m=this.getIntersections_({p0:p,p1:l},n,!0);for(y=0,c=m.length;y<c;++y){var u=m[y],_=this.calculateIntersection_(p,l,u.p0,u.p1,!0),f=Math.abs(p.x-_[0]);if(f<s&&ol.render.webgl.triangleIsCounterClockwise(p.x,p.y,u.p0.x,u.p0.y,u.p1.x,u.p1.y)!==void 0){s=f;g={x:_[0],y:_[1],i:-1};a=u}}if(s===1/0){return!1}d=a.p1;if(0<s){var S=this.getPointsInTriangle_(p,g,a.p1,n);if(S.length){var x=1/0;for(y=0,c=S.length;y<c;++y){var P=S[y],T=Math.atan2(p.y-P.y,l.x-P.x);if(T<x||T===x&&P.x<d.x){x=T;d=P}}}}a=r.firstItem();while(a.p1.x!==d.x||a.p1.y!==d.y){a=r.nextItem()}var E={x:p.x,y:p.y,i:p.i,reflex:void 0},h={x:a.p1.x,y:a.p1.y,i:a.p1.i,reflex:void 0};e.getNextItem().p0=E;this.insertItem_(p,a.p1,e,n);this.insertItem_(h,E,e,n);a.p1=h;e.setFirstItem();r.concat(e);return!0};ol.render.webgl.PolygonReplay.prototype.triangulate_=function(e,t){var r=!1,o=this.isSimple_(e,t);while(3<e.getLength()){if(o){if(!this.clipEars_(e,t,o,r)){if(!this.classifyPoints_(e,t,r)){if(!this.resolveSelfIntersections_(e,t,!0)){break}}}}else{if(!this.clipEars_(e,t,o,r)){if(!this.classifyPoints_(e,t,r)){if(!this.resolveSelfIntersections_(e,t)){o=this.isSimple_(e,t);if(!o){this.splitPolygon_(e,t);break}else{r=!this.isClockwise_(e);this.classifyPoints_(e,t,r)}}}}}}if(3===e.getLength()){var i=this.indices.length;this.indices[i++]=e.getPrevItem().p0.i;this.indices[i++]=e.getCurrItem().p0.i;this.indices[i++]=e.getNextItem().p0.i}};ol.render.webgl.PolygonReplay.prototype.clipEars_=function(e,t,r,o){var i=this.indices.length,n=e.firstItem(),a=e.getPrevItem(),p=n,l=e.nextItem(),s=e.getNextItem(),y,c,d,g=!1;do{y=p.p0;c=p.p1;d=l.p1;if(!1===c.reflex){var m;if(r){m=0===this.getPointsInTriangle_(y,c,d,t,!0).length}else{m=o?this.diagonalIsInside_(s.p1,d,c,y,a.p0):this.diagonalIsInside_(a.p0,y,c,d,s.p1)}if((r||0===this.getIntersections_({p0:y,p1:d},t).length)&&m){if(r||!1===y.reflex||!1===d.reflex||ol.geom.flat.orient.linearRingIsClockwise([a.p0.x,a.p0.y,y.x,y.y,c.x,c.y,d.x,d.y,s.p1.x,s.p1.y],0,10,2)===!o){this.indices[i++]=y.i;this.indices[i++]=c.i;this.indices[i++]=d.i;this.removeItem_(p,l,e,t);if(l===n){n=s}g=!0}}}a=e.getPrevItem();p=e.getCurrItem();l=e.nextItem();s=e.getNextItem()}while(p!==n&&3<e.getLength());return g};ol.render.webgl.PolygonReplay.prototype.resolveSelfIntersections_=function(e,t,r){var o=e.firstItem();e.nextItem();var i=o,n=e.nextItem(),a=!1;do{var l=this.calculateIntersection_(i.p0,i.p1,n.p0,n.p1,r);if(l){var s=!1,y=this.vertices.length,c=this.indices.length,d=e.prevItem();e.removeItem();t.remove(d);s=d===o;var g;if(r){if(l[0]===i.p0.x&&l[1]===i.p0.y){e.prevItem();g=i.p0;n.p0=g;t.remove(i);s=s||i===o}else{g=n.p1;i.p1=g;t.remove(n);s=s||n===o}e.removeItem()}else{g=this.createPoint_(l[0],l[1],y/2);i.p1=g;n.p0=g;t.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i);t.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)}this.indices[c++]=d.p0.i;this.indices[c++]=d.p1.i;this.indices[c++]=g.i;a=!0;if(s){break}}i=e.getPrevItem();n=e.nextItem()}while(i!==o);return a};ol.render.webgl.PolygonReplay.prototype.isSimple_=function(e,t){var r=e.firstItem(),o=r;do{if(this.getIntersections_(o,t).length){return!1}o=e.nextItem()}while(o!==r);return!0};ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(e){var t=2*e.getLength(),r=Array(t),o=e.firstItem(),n=o,a=0;do{r[a++]=n.p0.x;r[a++]=n.p0.y;n=e.nextItem()}while(n!==o);return ol.geom.flat.orient.linearRingIsClockwise(r,0,t,2)};ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(e,t){var r=e.firstItem(),o=r;do{var i=this.getIntersections_(o,t);if(i.length){var a=i[0],l=this.vertices.length/2,n=this.calculateIntersection_(o.p0,o.p1,a.p0,a.p1),s=this.createPoint_(n[0],n[1],l),p=new ol.structs.LinkedList,y=new ol.structs.RBush;this.insertItem_(s,o.p1,p,y);o.p1=s;t.update([Math.min(o.p0.x,s.x),Math.min(o.p0.y,s.y),Math.max(o.p0.x,s.x),Math.max(o.p0.y,s.y)],o);var c=e.nextItem();while(c!==a){this.insertItem_(c.p0,c.p1,p,y);t.remove(c);e.removeItem();c=e.getCurrItem()}this.insertItem_(a.p0,s,p,y);a.p0=s;t.update([Math.min(a.p1.x,s.x),Math.min(a.p1.y,s.y),Math.max(a.p1.x,s.x),Math.max(a.p1.y,s.y)],a);this.classifyPoints_(e,t,!1);this.triangulate_(e,t);this.classifyPoints_(p,y,!1);this.triangulate_(p,y);break}o=e.nextItem()}while(o!==r)};ol.render.webgl.PolygonReplay.prototype.createPoint_=function(e,t,r){var o=this.vertices.length;this.vertices[o++]=e;this.vertices[o++]=t;return{x:e,y:t,i:r,reflex:void 0}};ol.render.webgl.PolygonReplay.prototype.insertItem_=function(e,t,r,o){var i={p0:e,p1:t};r.insertItem(i);if(o){o.insert([Math.min(e.x,t.x),Math.min(e.y,t.y),Math.max(e.x,t.x),Math.max(e.y,t.y)],i)}return i};ol.render.webgl.PolygonReplay.prototype.removeItem_=function(e,t,r,o){if(r.getCurrItem()===t){r.removeItem();e.p1=t.p1;o.remove(t);o.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e)}};ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(e,t,r,o,n){var a,l,s,y,c=[],d=o.getInExtent([Math.min(e.x,t.x,r.x),Math.min(e.y,t.y,r.y),Math.max(e.x,t.x,r.x),Math.max(e.y,t.y,r.y)]);for(a=0,l=d.length;a<l;++a){for(s in d[a]){y=d[a][s];if("object"===_typeof(y)&&(!n||y.reflex)){if((y.x!==e.x||y.y!==e.y)&&(y.x!==t.x||y.y!==t.y)&&(y.x!==r.x||y.y!==r.y)&&-1===c.indexOf(y)&&ol.geom.flat.contains.linearRingContainsXY([e.x,e.y,t.x,t.y,r.x,r.y],0,6,2,y.x,y.y)){c.push(y)}}}}return c};ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(e,t,r){var o=e.p0,n=e.p1,a=t.getInExtent([Math.min(o.x,n.x),Math.min(o.y,n.y),Math.max(o.x,n.x),Math.max(o.y,n.y)]),p=[],l,s;for(l=0,s=a.length;l<s;++l){var y=a[l];if(e!==y&&(r||y.p0!==n||y.p1!==o)&&this.calculateIntersection_(o,n,y.p0,y.p1,r)){p.push(y)}}return p};ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(e,t,r,o,i){var n=(o.y-r.y)*(t.x-e.x)-(o.x-r.x)*(t.y-e.y);if(0!=n){var a=((o.x-r.x)*(e.y-r.y)-(o.y-r.y)*(e.x-r.x))/n,p=((t.x-e.x)*(e.y-r.y)-(t.y-e.y)*(e.x-r.x))/n;if(!i&&a>ol.render.webgl.EPSILON&&a<1-ol.render.webgl.EPSILON&&p>ol.render.webgl.EPSILON&&p<1-ol.render.webgl.EPSILON||i&&0<=a&&1>=a&&0<=p&&1>=p){return[e.x+a*(t.x-e.x),e.y+a*(t.y-e.y)]}}};ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(e,t,r,o,i){if(t.reflex===void 0||o.reflex===void 0){return!1}var n=(r.x-o.x)*(t.y-o.y)>(r.y-o.y)*(t.x-o.x),a=(i.x-o.x)*(t.y-o.y)<(i.y-o.y)*(t.x-o.x),p=(e.x-t.x)*(o.y-t.y)>(e.y-t.y)*(o.x-t.x),l=(r.x-t.x)*(o.y-t.y)<(r.y-t.y)*(o.x-t.x),s=o.reflex?a||n:a&&n,y=t.reflex?l||p:l&&p;return s&&y};ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var r=e.getEndss(),o=e.getStride(),n=this.indices.length,a=this.lineStringReplay.getCurrentIndex(),p=e.getFlatCoordinates(),l,s,y,c,d=0;for(l=0,s=r.length;l<s;++l){var g=r[l];if(0<g.length){var m=ol.geom.flat.transform.translate(p,d,g[0],o,-this.origin[0],-this.origin[1]);if(m.length){var u=[],_;for(y=1,c=g.length;y<c;++y){if(g[y]!==g[y-1]){_=ol.geom.flat.transform.translate(p,g[y-1],g[y],o,-this.origin[0],-this.origin[1]);u.push(_)}}this.lineStringReplay.drawPolygonCoordinates(m,u,o);this.drawCoordinates_(m,u,o)}}d=g[g.length-1]}if(this.indices.length>n){this.startIndices.push(n);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(n);this.state_.changed=!1}}if(this.lineStringReplay.getCurrentIndex()>a){this.lineStringReplay.setPolygonStyle(t,a)}};ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(e,t){var r=e.getEnds(),o=e.getStride();if(0<r.length){var n=e.getFlatCoordinates().map(Number),a=ol.geom.flat.transform.translate(n,0,r[0],o,-this.origin[0],-this.origin[1]);if(a.length){var p=[],l,s,y;for(l=1,s=r.length;l<s;++l){if(r[l]!==r[l-1]){y=ol.geom.flat.transform.translate(n,r[l-1],r[l],o,-this.origin[0],-this.origin[1]);p.push(y)}}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=!1}this.lineStringReplay.setPolygonStyle(t);this.lineStringReplay.drawPolygonCoordinates(a,p,o);this.drawCoordinates_(a,p,o)}}};ol.render.webgl.PolygonReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);this.lineStringReplay.finish(e);if(0===this.styleIndices_.length&&0<this.styles_.length){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer,r=this.indicesBuffer,o=this.lineStringReplay.getDeleteResourcesFunction(e);return function(){e.deleteBuffer(t);e.deleteBuffer(r);o()}};ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(e,t){var r,o;r=ol.render.webgl.polygonreplay.defaultshader.fragment;o=ol.render.webgl.polygonreplay.defaultshader.vertex;var i=t.getProgram(r,o),n;if(!this.defaultLocations_){n=new ol.render.webgl.polygonreplay.defaultshader.Locations(e,i);this.defaultLocations_=n}else{n=this.defaultLocations_}t.useProgram(i);e.enableVertexAttribArray(n.a_position);e.vertexAttribPointer(n.a_position,2,ol.webgl.FLOAT,!1,8,0);return n};ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position)};ol.render.webgl.PolygonReplay.prototype.drawReplay=function(e,t,r,o){var n=e.getParameter(e.DEPTH_FUNC),a=e.getParameter(e.DEPTH_WRITEMASK);if(!o){e.enable(e.DEPTH_TEST);e.depthMask(!0);e.depthFunc(e.NOTEQUAL)}if(!ol.obj.isEmpty(r)){this.drawReplaySkipping_(e,t,r)}else{var p,l,s,y;s=this.startIndices[this.startIndices.length-1];for(p=this.styleIndices_.length-1;0<=p;--p){l=this.styleIndices_[p];y=this.styles_[p];this.setFillStyle_(e,y);this.drawElements(e,t,l,s);s=l}}if(!o){e.disable(e.DEPTH_TEST);e.clear(e.DEPTH_BUFFER_BIT);e.depthMask(a);e.depthFunc(n)}};ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,r,o,n){var a,p,l,s,y,c,d,g;g=this.startIndices.length-2;l=this.startIndices[g+1];for(a=this.styleIndices_.length-1;0<=a;--a){s=this.styles_[a];this.setFillStyle_(e,s);y=this.styleIndices_[a];while(0<=g&&this.startIndices[g]>=y){p=this.startIndices[g];c=this.startIndicesFeature[g];d=ol.getUid(c).toString();if(r[d]===void 0&&c.getGeometry()&&(n===void 0||ol.extent.intersects(n,c.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,p,l);var m=o(c);if(m){return m}}g--;l=p}}};ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(e,t,r){var o,n,a,p,l,s,y,c,d;c=this.startIndices.length-2;a=n=this.startIndices[c+1];for(o=this.styleIndices_.length-1;0<=o;--o){p=this.styles_[o];this.setFillStyle_(e,p);l=this.styleIndices_[o];while(0<=c&&this.startIndices[c]>=l){d=this.startIndices[c];s=this.startIndicesFeature[c];y=ol.getUid(s).toString();if(r[y]){if(n!==a){this.drawElements(e,t,n,a);e.clear(e.DEPTH_BUFFER_BIT)}a=d}c--;n=d}if(n!==a){this.drawElements(e,t,n,a);e.clear(e.DEPTH_BUFFER_BIT)}n=a=l}};ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_color,t)};ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(e,t){var r=e?e.getColor():[0,0,0,0];if(!(r instanceof CanvasGradient)&&!(r instanceof CanvasPattern)){r=ol.color.asArray(r).map(function(e,t){return 3!=t?e/255:e})||ol.render.webgl.defaultFillStyle}else{r=ol.render.webgl.defaultFillStyle}if(!this.state_.fillColor||!ol.array.equals(r,this.state_.fillColor)){this.state_.fillColor=r;this.state_.changed=!0;this.styles_.push(r)}if(t){this.lineStringReplay.setFillStrokeStyle(null,t)}else{var o=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,o)}};goog.provide("ol.style.Atlas");goog.require("ol.dom");ol.style.Atlas=function(e,t){this.space_=t;this.emptyBlocks_=[{x:0,y:0,width:e,height:e}];this.entries_={};this.context_=ol.dom.createCanvasContext2D(e,e);this.canvas_=this.context_.canvas};ol.style.Atlas.prototype.get=function(e){return this.entries_[e]||null};ol.style.Atlas.prototype.add=function(e,t,r,o,n){var a,p,l;for(p=0,l=this.emptyBlocks_.length;p<l;++p){a=this.emptyBlocks_[p];if(a.width>=t+this.space_&&a.height>=r+this.space_){var s={offsetX:a.x+this.space_,offsetY:a.y+this.space_,image:this.canvas_};this.entries_[e]=s;o.call(n,this.context_,a.x+this.space_,a.y+this.space_);this.split_(p,a,t+this.space_,r+this.space_);return s}}return null};ol.style.Atlas.prototype.split_=function(e,t,r,o){var i=t.width-r,n=t.height-o,a,p;if(i>n){a={x:t.x+r,y:t.y,width:t.width-r,height:t.height};p={x:t.x,y:t.y+o,width:r,height:t.height-o};this.updateBlocks_(e,a,p)}else{a={x:t.x+r,y:t.y,width:t.width-r,height:o};p={x:t.x,y:t.y+o,width:t.width,height:t.height-o};this.updateBlocks_(e,a,p)}};ol.style.Atlas.prototype.updateBlocks_=function(e,t,r){var o=[e,1];if(0<t.width&&0<t.height){o.push(t)}if(0<r.width&&0<r.height){o.push(r)}this.emptyBlocks_.splice.apply(this.emptyBlocks_,o)};goog.provide("ol.style.AtlasManager");goog.require("ol");goog.require("ol.style.Atlas");ol.style.AtlasManager=function(e){var t=e||{};this.currentSize_=t.initialSize!==void 0?t.initialSize:ol.INITIAL_ATLAS_SIZE;this.maxSize_=t.maxSize!==void 0?t.maxSize:-1!=ol.MAX_ATLAS_SIZE?ol.MAX_ATLAS_SIZE:ol.WEBGL_MAX_TEXTURE_SIZE!==void 0?ol.WEBGL_MAX_TEXTURE_SIZE:2048;this.space_=t.space!==void 0?t.space:1;this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)];this.currentHitSize_=this.currentSize_;this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]};ol.style.AtlasManager.prototype.getInfo=function(e){var t=this.getInfo_(this.atlases_,e);if(!t){return null}var r=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(t,r)};ol.style.AtlasManager.prototype.getInfo_=function(e,t){var r,o,n,a;for(n=0,a=e.length;n<a;++n){r=e[n];o=r.get(t);if(o){return o}}return null};ol.style.AtlasManager.prototype.mergeInfos_=function(e,t){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:t.image}};ol.style.AtlasManager.prototype.add=function(e,t,r,o,i,n){if(t+this.space_>this.maxSize_||r+this.space_>this.maxSize_){return null}var a=this.add_(!1,e,t,r,o,n);if(!a){return null}var p=i!==void 0?i:ol.nullFunction,l=this.add_(!0,e,t,r,p,n);return this.mergeInfos_(a,l)};ol.style.AtlasManager.prototype.add_=function(e,t,r,o,n,a){var p=e?this.hitAtlases_:this.atlases_,l,s,y,c;for(y=0,c=p.length;y<c;++y){l=p[y];s=l.add(t,r,o,n,a);if(s){return s}else if(!s&&y===c-1){var d;if(e){d=Math.min(2*this.currentHitSize_,this.maxSize_);this.currentHitSize_=d}else{d=Math.min(2*this.currentSize_,this.maxSize_);this.currentSize_=d}l=new ol.style.Atlas(d,this.space_);p.push(l);++c}}return null};goog.provide("ol.render.webgl.TextReplay");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.geom.GeometryType");goog.require("ol.has");goog.require("ol.render.replay");goog.require("ol.render.webgl");goog.require("ol.render.webgl.TextureReplay");goog.require("ol.style.AtlasManager");goog.require("ol.webgl.Buffer");ol.render.webgl.TextReplay=function(e,t){ol.render.webgl.TextureReplay.call(this,e,t);this.images_=[];this.textures_=[];this.measureCanvas_=ol.dom.createCanvasContext2D(0,0).canvas;this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0};this.text_="";this.textAlign_=void 0;this.textBaseline_=void 0;this.offsetX_=void 0;this.offsetY_=void 0;this.atlases_={};this.currAtlas_=void 0;this.scale=1;this.opacity=1};ol.inherits(ol.render.webgl.TextReplay,ol.render.webgl.TextureReplay);ol.render.webgl.TextReplay.prototype.drawText=function(e,t){if(this.text_){var r=null,o=2,n=2;switch(e.getType()){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:r=e.getFlatCoordinates();o=r.length;n=e.getStride();break;case ol.geom.GeometryType.CIRCLE:r=e.getCenter();break;case ol.geom.GeometryType.LINE_STRING:r=e.getFlatMidpoint();break;case ol.geom.GeometryType.MULTI_LINE_STRING:r=e.getFlatMidpoints();o=r.length;break;case ol.geom.GeometryType.POLYGON:r=e.getFlatInteriorPoint();break;case ol.geom.GeometryType.MULTI_POLYGON:r=e.getFlatInteriorPoints();o=r.length;break;default:}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var a=this.currAtlas_,p=this.text_.split("\n"),l=this.getTextSize_(p),s,y,c,d,g,m,u,_,f=Math.round(l[0]*this.textAlign_-this.offsetX_),S=Math.round(l[1]*this.textBaseline_-this.offsetY_),x=this.state_.lineWidth/2*this.state_.scale;for(s=0,y=p.length;s<y;++s){g=0;m=a.height*s;u=p[s].split("");for(c=0,d=u.length;c<d;++c){_=a.atlas.getInfo(u[c]);if(_){var P=_.image;this.anchorX=f-g;this.anchorY=S-m;this.originX=0===c?_.offsetX-x:_.offsetX;this.originY=_.offsetY;this.height=a.height;this.width=0===c||c===u.length-1?a.width[u[c]]+x:a.width[u[c]];this.imageHeight=P.height;this.imageWidth=P.width;var T;if(0===this.images_.length){this.images_.push(P)}else{T=this.images_[this.images_.length-1];if(ol.getUid(T)!=ol.getUid(P)){this.groupIndices.push(this.indices.length);this.images_.push(P)}}this.drawText_(r,0,o,n)}g+=this.width}}}};ol.render.webgl.TextReplay.prototype.getTextSize_=function(e){var t=this,r=this.currAtlas_,o=e.length*r.height,i=e.map(function(e){var o=0,n,a;for(n=0,a=e.length;n<a;++n){var p=e[n];if(!r.width[p]){t.addCharToAtlas_(p)}o+=r.width[p]?r.width[p]:0}return o}).reduce(function(e,t){return Math.max(e,t)});return[i,o]};ol.render.webgl.TextReplay.prototype.drawText_=function(e,t,r,o){var n,a;for(n=t,a=r;n<a;n+=o){this.drawCoordinates(e,t,r,o)}};ol.render.webgl.TextReplay.prototype.addCharToAtlas_=function(e){if(1===e.length){var t=this.currAtlas_,r=this.state_,o=this.measureCanvas_.getContext("2d");o.font=r.font;var i=Math.ceil(o.measureText(e).width*r.scale),n=t.atlas.add(e,i,t.height,function(t,o,i){t.font=r.font;t.fillStyle=r.fillColor;t.strokeStyle=r.strokeColor;t.lineWidth=r.lineWidth;t.lineCap=r.lineCap;t.lineJoin=r.lineJoin;t.miterLimit=r.miterLimit;t.textAlign="left";t.textBaseline="top";if(ol.has.CANVAS_LINE_DASH&&r.lineDash){t.setLineDash(r.lineDash);t.lineDashOffset=r.lineDashOffset}if(1!==r.scale){t.setTransform(r.scale,0,0,r.scale,0,0)}if(r.strokeColor){t.strokeText(e,o,i)}if(r.fillColor){t.fillText(e,o,i)}});if(n){t.width[e]=i}}};ol.render.webgl.TextReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices=this.groupIndices;this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.createTextures(this.textures_,this.images_,{},t);this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0};this.text_="";this.textAlign_=void 0;this.textBaseline_=void 0;this.offsetX_=void 0;this.offsetY_=void 0;this.images_=null;this.atlases_={};this.currAtlas_=void 0;ol.render.webgl.TextureReplay.prototype.finish.call(this,e)};ol.render.webgl.TextReplay.prototype.setTextStyle=function(e){var t=this.state_,r=e.getFill(),o=e.getStroke();if(!e||!e.getText()||!r&&!o){this.text_=""}else{if(!r){t.fillColor=null}else{var i=r.getColor();t.fillColor=ol.colorlike.asColorLike(i?i:ol.render.webgl.defaultFillStyle)}if(!o){t.strokeColor=null;t.lineWidth=0}else{var n=o.getColor();t.strokeColor=ol.colorlike.asColorLike(n?n:ol.render.webgl.defaultStrokeStyle);t.lineWidth=o.getWidth()||ol.render.webgl.defaultLineWidth;t.lineCap=o.getLineCap()||ol.render.webgl.defaultLineCap;t.lineDashOffset=o.getLineDashOffset()||ol.render.webgl.defaultLineDashOffset;t.lineJoin=o.getLineJoin()||ol.render.webgl.defaultLineJoin;t.miterLimit=o.getMiterLimit()||ol.render.webgl.defaultMiterLimit;var a=o.getLineDash();t.lineDash=a?a.slice():ol.render.webgl.defaultLineDash}t.font=e.getFont()||ol.render.webgl.defaultFont;t.scale=e.getScale()||1;this.text_=e.getText();var p=ol.render.replay.TEXT_ALIGN[e.getTextAlign()],l=ol.render.replay.TEXT_ALIGN[e.getTextBaseline()];this.textAlign_=p===void 0?ol.render.webgl.defaultTextAlign:p;this.textBaseline_=l===void 0?ol.render.webgl.defaultTextBaseline:l;this.offsetX_=e.getOffsetX()||0;this.offsetY_=e.getOffsetY()||0;this.rotateWithView=!!e.getRotateWithView();this.rotation=e.getRotation()||0;this.currAtlas_=this.getAtlas_(t)}};ol.render.webgl.TextReplay.prototype.getAtlas_=function(e){var t=[],r;for(r in e){if(e[r]||0===e[r]){if(Array.isArray(e[r])){t=t.concat(e[r])}else{t.push(e[r])}}}var o=this.calculateHash_(t);if(!this.atlases_[o]){var n=this.measureCanvas_.getContext("2d");n.font=e.font;var a=Math.ceil((1.5*n.measureText("M").width+e.lineWidth/2)*e.scale);this.atlases_[o]={atlas:new ol.style.AtlasManager({space:e.lineWidth+1}),width:{},height:a}}return this.atlases_[o]};ol.render.webgl.TextReplay.prototype.calculateHash_=function(e){var t,r,o="";for(t=0,r=e.length;t<r;++t){o+=e[t]}return o};ol.render.webgl.TextReplay.prototype.getTextures=function(){return this.textures_};ol.render.webgl.TextReplay.prototype.getHitDetectionTextures=function(){return this.textures_};goog.provide("ol.render.webgl.ReplayGroup");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.replay");goog.require("ol.render.ReplayGroup");goog.require("ol.render.webgl.CircleReplay");goog.require("ol.render.webgl.ImageReplay");goog.require("ol.render.webgl.LineStringReplay");goog.require("ol.render.webgl.PolygonReplay");goog.require("ol.render.webgl.TextReplay");ol.render.webgl.ReplayGroup=function(e,t,r){ol.render.ReplayGroup.call(this);this.maxExtent_=t;this.tolerance_=e;this.renderBuffer_=r;this.replaysByZIndex_={}};ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup);ol.render.webgl.ReplayGroup.prototype.addDeclutter=function(){};ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var t=[],r;for(r in this.replaysByZIndex_){var o=this.replaysByZIndex_[r],i;for(i in o){t.push(o[i].getDeleteResourcesFunction(e))}}return function(){for(var e=t.length,r,o=0;o<e;o++){r=t[o].apply(this,arguments)}return r}};ol.render.webgl.ReplayGroup.prototype.finish=function(e){for(var t in this.replaysByZIndex_){var r=this.replaysByZIndex_[t],o;for(o in r){r[o].finish(e)}}};ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,t){var r=e!==void 0?e.toString():"0",o=this.replaysByZIndex_[r];if(o===void 0){o={};this.replaysByZIndex_[r]=o}var i=o[t];if(i===void 0){var n=ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[t];i=new n(this.tolerance_,this.maxExtent_);o[t]=i}return i};ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.webgl.ReplayGroup.prototype.replay=function(e,t,r,o,n,a,p,l){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(ol.array.numberSafeCompareFunction);var y,c,d,g,m,u;for(y=0,c=s.length;y<c;++y){m=this.replaysByZIndex_[s[y].toString()];for(d=0,g=ol.render.replay.ORDER.length;d<g;++d){u=m[ol.render.replay.ORDER[d]];if(u!==void 0){u.replay(e,t,r,o,n,a,p,l,void 0,!1)}}}};ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(e,t,r,o,n,a,p,l,s,y,c){var d=Object.keys(this.replaysByZIndex_).map(Number);d.sort(function(e,t){return t-e});var g,m,u,_,f,S;for(g=0,m=d.length;g<m;++g){_=this.replaysByZIndex_[d[g].toString()];for(u=ol.render.replay.ORDER.length-1;0<=u;--u){f=_[ol.render.replay.ORDER[u]];if(f!==void 0){S=f.replay(e,t,r,o,n,a,p,l,s,y,c);if(S){return S}}}}};ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i,n,a,p,l,s){var y=t.getGL();y.bindFramebuffer(y.FRAMEBUFFER,t.getHitDetectionFramebuffer());var c;if(this.renderBuffer_!==void 0){c=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),o*this.renderBuffer_)}return this.replayHitDetection_(t,e,o,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,a,p,l,function(e){var t=new Uint8Array(4);y.readPixels(0,0,1,1,y.RGBA,y.UNSIGNED_BYTE,t);if(0<t[3]){var r=s(e);if(r){return r}}},!0,c)};ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(e,t,r,o,i,n,a,p,l){var s=t.getGL();s.bindFramebuffer(s.FRAMEBUFFER,t.getHitDetectionFramebuffer());var y=this.replayHitDetection_(t,e,o,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,a,p,l,function(){var e=new Uint8Array(4);s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,e);return 0<e[3]},!1);return y!==void 0};ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1];ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay};goog.provide("ol.render.webgl.Immediate");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.render.ReplayType");goog.require("ol.render.VectorContext");goog.require("ol.render.webgl.ReplayGroup");ol.render.webgl.Immediate=function(e,t,r,o,i,n,a){ol.render.VectorContext.call(this);this.context_=e;this.center_=t;this.extent_=n;this.pixelRatio_=a;this.size_=i;this.rotation_=o;this.resolution_=r;this.imageStyle_=null;this.fillStyle_=null;this.strokeStyle_=null;this.textStyle_=null};ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext);ol.render.webgl.Immediate.prototype.drawText_=function(e,t){var r=this.context_,o=e.getReplay(0,ol.render.ReplayType.TEXT);o.setTextStyle(this.textStyle_);o.drawText(t,null);o.finish(r);var i;o.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},i,!1);o.getDeleteResourcesFunction(r)()};ol.render.webgl.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage());this.setTextStyle(e.getText())};ol.render.webgl.Immediate.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case ol.geom.GeometryType.POINT:this.drawPoint(e,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e,null);break;default:}};ol.render.webgl.Immediate.prototype.drawFeature=function(e,t){var r=t.getGeometryFunction()(e);if(!r||!ol.extent.intersects(this.extent_,r.getExtent())){return}this.setStyle(t);this.drawGeometry(r)};ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(e){var t=e.getGeometriesArray(),r,o;for(r=0,o=t.length;r<o;++r){this.drawGeometry(t[r])}};ol.render.webgl.Immediate.prototype.drawPoint=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_);i.drawPoint(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.drawMultiPoint=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_);i.drawMultiPoint(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.drawLineString=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_);i.drawLineString(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.drawMultiLineString=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_);i.drawMultiLineString(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.drawPolygon=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawPolygon(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawMultiPolygon(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.drawCircle=function(e,t){var r=this.context_,o=new ol.render.webgl.ReplayGroup(1,this.extent_),i=o.getReplay(0,ol.render.ReplayType.CIRCLE);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawCircle(e,t);i.finish(r);var n;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},n,!1);i.getDeleteResourcesFunction(r)();if(this.textStyle_){this.drawText_(o,e)}};ol.render.webgl.Immediate.prototype.setImageStyle=function(e){this.imageStyle_=e};ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(e,t){this.fillStyle_=e;this.strokeStyle_=t};ol.render.webgl.Immediate.prototype.setTextStyle=function(e){this.textStyle_=e};goog.provide("ol.renderer.webgl.defaultmapshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.renderer.webgl.defaultmapshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");ol.renderer.webgl.defaultmapshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");goog.provide("ol.renderer.webgl.defaultmapshader.Locations");goog.require("ol");ol.renderer.webgl.defaultmapshader.Locations=function(e,t){this.u_texCoordMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"e");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f");this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"g");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")};goog.provide("ol.renderer.webgl.Layer");goog.require("ol");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.renderer.webgl.defaultmapshader");goog.require("ol.renderer.webgl.defaultmapshader.Locations");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");goog.require("ol.webgl.Context");ol.renderer.webgl.Layer=function(e,t){ol.renderer.Layer.call(this,t);this.mapRenderer=e;this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.texture=null;this.framebuffer=null;this.framebufferDimension=void 0;this.texCoordMatrix=ol.transform.create();this.projectionMatrix=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.defaultLocations_=null};ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer);ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(e,t){var r=this.mapRenderer.getGL();if(this.framebufferDimension===void 0||this.framebufferDimension!=t){var o=function(e,t,r){if(!e.isContextLost()){e.deleteFramebuffer(t);e.deleteTexture(r)}}.bind(null,r,this.framebuffer,this.texture);e.postRenderFunctions.push(o);var i=ol.webgl.Context.createEmptyTexture(r,t,t),n=r.createFramebuffer();r.bindFramebuffer(ol.webgl.FRAMEBUFFER,n);r.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,i,0);this.texture=i;this.framebuffer=n;this.framebufferDimension=t}else{r.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)}};ol.renderer.webgl.Layer.prototype.composeFrame=function(e,t,r){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,r,e);r.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var o=r.getGL(),i=ol.renderer.webgl.defaultmapshader.fragment,n=ol.renderer.webgl.defaultmapshader.vertex,a=r.getProgram(i,n),p;if(!this.defaultLocations_){p=new ol.renderer.webgl.defaultmapshader.Locations(o,a);this.defaultLocations_=p}else{p=this.defaultLocations_}if(r.useProgram(a)){o.enableVertexAttribArray(p.a_position);o.vertexAttribPointer(p.a_position,2,ol.webgl.FLOAT,!1,16,0);o.enableVertexAttribArray(p.a_texCoord);o.vertexAttribPointer(p.a_texCoord,2,ol.webgl.FLOAT,!1,16,8);o.uniform1i(p.u_texture,0)}o.uniformMatrix4fv(p.u_texCoordMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix()));o.uniformMatrix4fv(p.u_projectionMatrix,!1,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix()));o.uniform1f(p.u_opacity,t.opacity);o.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture());o.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,r,e)};ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,t,r){var o=this.getLayer();if(o.hasListener(e)){var i=r.viewState,n=i.resolution,a=r.pixelRatio,p=r.extent,l=i.center,s=i.rotation,y=r.size,c=new ol.render.webgl.Immediate(t,l,n,s,y,p,a),d=new ol.render.Event(e,c,r,null,t);o.dispatchEvent(d)}};ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix};ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture};ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix};ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null;this.framebuffer=null;this.framebufferDimension=void 0};ol.renderer.webgl.Layer.prototype.prepareFrame=function(){};ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(){};goog.provide("ol.reproj");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.calculateSourceResolution=function(e,t,r,o){var i=ol.proj.transform(r,t,e),n=ol.proj.getPointResolution(t,o,r),a=t.getMetersPerUnit();if(a!==void 0){n*=a}var p=e.getMetersPerUnit();if(p!==void 0){n/=p}var l=e.getExtent();if(!l||ol.extent.containsCoordinate(l,i)){var s=ol.proj.getPointResolution(e,n,i)/n;if(isFinite(s)&&0<s){n/=s}}return n};ol.reproj.enlargeClipPoint_=function(e,t,r,o){var i=r-e,n=o-t,a=Math.sqrt(i*i+n*n);return[Math.round(r+i/a),Math.round(o+n/a)]};ol.reproj.render=function(e,t,r,o,i,n,a,p,l,s,y){var c=ol.dom.createCanvasContext2D(Math.round(r*e),Math.round(r*t));if(0===l.length){return c.canvas}c.scale(r,r);var d=ol.extent.createEmpty();l.forEach(function(e){ol.extent.extend(d,e.extent)});var g=ol.extent.getWidth(d),m=ol.extent.getHeight(d),u=ol.dom.createCanvasContext2D(Math.round(r*g/o),Math.round(r*m/o)),_=r/o;l.forEach(function(e){var t=e.extent[0]-d[0],r=-(e.extent[3]-d[3]),o=ol.extent.getWidth(e.extent),i=ol.extent.getHeight(e.extent);u.drawImage(e.image,s,s,e.image.width-2*s,e.image.height-2*s,t*_,r*_,o*_,i*_)});var f=ol.extent.getTopLeft(a);p.getTriangles().forEach(function(e){var t=e.source,i=e.target,a=t[0][0],p=t[0][1],l=t[1][0],s=t[1][1],y=t[2][0],g=t[2][1],m=(i[0][0]-f[0])/n,_=-(i[0][1]-f[1])/n,S=(i[1][0]-f[0])/n,x=-(i[1][1]-f[1])/n,P=(i[2][0]-f[0])/n,T=-(i[2][1]-f[1])/n,E=a,h=p;a=0;p=0;l-=E;s-=h;y-=E;g-=h;var v=[[l,s,0,0,S-m],[y,g,0,0,P-m],[0,0,l,s,x-_],[0,0,y,g,T-_]],R=ol.math.solveLinearSystem(v);if(!R){return}c.save();c.beginPath();var C=(m+S+P)/3,L=(_+x+T)/3,M=ol.reproj.enlargeClipPoint_(C,L,m,_),I=ol.reproj.enlargeClipPoint_(C,L,S,x),b=ol.reproj.enlargeClipPoint_(C,L,P,T);c.moveTo(I[0],I[1]);c.lineTo(M[0],M[1]);c.lineTo(b[0],b[1]);c.clip();c.transform(R[0],R[2],R[1],R[3],m,_);c.translate(d[0]-E,d[3]-h);c.scale(o/r,-o/r);c.drawImage(u.canvas,0,0);c.restore()});if(y){c.save();c.strokeStyle="black";c.lineWidth=1;p.getTriangles().forEach(function(e){var t=e.target,r=(t[0][0]-f[0])/n,o=-(t[0][1]-f[1])/n,i=(t[1][0]-f[0])/n,a=-(t[1][1]-f[1])/n,p=(t[2][0]-f[0])/n,l=-(t[2][1]-f[1])/n;c.beginPath();c.moveTo(i,a);c.lineTo(r,o);c.lineTo(p,l);c.closePath();c.stroke()});c.restore()}return c.canvas};goog.provide("ol.reproj.Triangulation");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.Triangulation=function(e,t,r,o,i){this.sourceProj_=e;this.targetProj_=t;var n={},a=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];if(!n[t]){n[t]=a(e)}return n[t]};this.maxSourceExtent_=o;this.errorThresholdSquared_=i*i;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(o)==ol.extent.getWidth(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var p=ol.extent.getTopLeft(r),l=ol.extent.getTopRight(r),s=ol.extent.getBottomRight(r),y=ol.extent.getBottomLeft(r),c=this.transformInv_(p),d=this.transformInv_(l),g=this.transformInv_(s),m=this.transformInv_(y);this.addQuad_(p,l,s,y,c,d,g,m,ol.RASTER_REPROJECTION_MAX_SUBDIVISION);if(this.wrapsXInSource_){var u=1/0;this.triangles_.forEach(function(e){u=Math.min(u,e.source[0][0],e.source[1][0],e.source[2][0])});this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-u>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];if(t[0][0]-u>this.sourceWorldWidth_/2){t[0][0]-=this.sourceWorldWidth_}if(t[1][0]-u>this.sourceWorldWidth_/2){t[1][0]-=this.sourceWorldWidth_}if(t[2][0]-u>this.sourceWorldWidth_/2){t[2][0]-=this.sourceWorldWidth_}var r=Math.min(t[0][0],t[1][0],t[2][0]),o=Math.max(t[0][0],t[1][0],t[2][0]);if(o-r<this.sourceWorldWidth_/2){e.source=t}}},this)}n={}};ol.reproj.Triangulation.prototype.addTriangle_=function(e,t,r,o,i,n){this.triangles_.push({source:[o,i,n],target:[e,t,r]})};ol.reproj.Triangulation.prototype.addQuad_=function(e,t,r,o,i,n,a,p,l){var s=ol.extent.boundingExtent([i,n,a,p]),y=this.sourceWorldWidth_?ol.extent.getWidth(s)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&.5<y&&1>y,g=!1;if(0<l){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=ol.extent.boundingExtent([e,t,r,o]),u=ol.extent.getWidth(m)/this.targetWorldWidth_;g|=u>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}if(!d&&this.sourceProj_.isGlobal()&&y){g|=y>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}}if(!g&&this.maxSourceExtent_){if(!ol.extent.intersects(s,this.maxSourceExtent_)){return}}if(!g){if(!isFinite(i[0])||!isFinite(i[1])||!isFinite(n[0])||!isFinite(n[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(p[0])||!isFinite(p[1])){if(0<l){g=!0}else{return}}}if(0<l){if(!g){var _=[(e[0]+r[0])/2,(e[1]+r[1])/2],f=this.transformInv_(_),S;if(d){var x=(ol.math.modulo(i[0],c)+ol.math.modulo(a[0],c))/2;S=x-ol.math.modulo(f[0],c)}else{S=(i[0]+a[0])/2-f[0]}var P=(i[1]+a[1])/2-f[1],T=S*S+P*P;g=T>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var E=[(t[0]+r[0])/2,(t[1]+r[1])/2],h=this.transformInv_(E),v=[(o[0]+e[0])/2,(o[1]+e[1])/2],R=this.transformInv_(v);this.addQuad_(e,t,E,v,i,n,h,R,l-1);this.addQuad_(v,E,r,o,R,h,a,p,l-1)}else{var C=[(e[0]+t[0])/2,(e[1]+t[1])/2],L=this.transformInv_(C),M=[(r[0]+o[0])/2,(r[1]+o[1])/2],I=this.transformInv_(M);this.addQuad_(e,C,M,o,i,L,I,p,l-1);this.addQuad_(C,t,r,M,L,n,a,I,l-1)}return}}if(d){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=!0}this.addTriangle_(e,r,o,i,a,p);this.addTriangle_(e,t,r,i,n,a)};ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var e=ol.extent.createEmpty();this.triangles_.forEach(function(t){var r=t.source;ol.extent.extendCoordinate(e,r[0]);ol.extent.extendCoordinate(e,r[1]);ol.extent.extendCoordinate(e,r[2])});return e};ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_};goog.provide("ol.reproj.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Image=function(e,t,r,o,i,n){this.targetProj_=t;this.maxSourceExtent_=e.getExtent();var a=t.getExtent(),p=a?ol.extent.getIntersection(r,a):r,l=ol.extent.getCenter(p),s=ol.reproj.calculateSourceResolution(e,t,l,o),y=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,t,p,this.maxSourceExtent_,s*y);this.targetResolution_=o;this.targetExtent_=r;var c=this.triangulation_.calculateSourceExtent();this.sourceImage_=n(c,s,i);this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1;this.canvas_=null;this.sourceListenerKey_=null;var d=ol.ImageState.LOADED;if(this.sourceImage_){d=ol.ImageState.IDLE}ol.ImageBase.call(this,r,o,this.sourcePixelRatio_,d)};ol.inherits(ol.reproj.Image,ol.ImageBase);ol.reproj.Image.prototype.disposeInternal=function(){if(this.state==ol.ImageState.LOADING){this.unlistenSource_()}ol.ImageBase.prototype.disposeInternal.call(this)};ol.reproj.Image.prototype.getImage=function(){return this.canvas_};ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_};ol.reproj.Image.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED){var t=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_,r=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(t,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e;this.changed()};ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED||e==ol.ImageState.ERROR){this.reproject_()}else{this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(){var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED||e==ol.ImageState.ERROR){this.unlistenSource_();this.reproject_()}},this);this.sourceImage_.load()}}};ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_);this.sourceListenerKey_=null};goog.provide("ol.source.Image");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.array");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.reproj.Image");goog.require("ol.source.Source");ol.source.Image=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state});this.resolutions_=e.resolutions!==void 0?e.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0};ol.inherits(ol.source.Image,ol.source.Source);ol.source.Image.prototype.getResolutions=function(){return this.resolutions_};ol.source.Image.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=ol.array.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[t]}return e};ol.source.Image.prototype.getImage=function(e,t,r,o){var i=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!i||!o||ol.proj.equivalent(i,o)){if(i){o=i}return this.getImageInternal(e,t,r,o)}else{if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==t&&ol.extent.equals(this.reprojectedImage_.getExtent(),e)){return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new ol.reproj.Image(i,o,e,t,r,function(e,t,r){return this.getImageInternal(e,t,r,i)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};ol.source.Image.prototype.getImageInternal=function(){};ol.source.Image.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,t));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,t));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,t));break;default:}};ol.source.Image.defaultImageLoadFunction=function(e,t){e.getImage().src=t};ol.source.Image.Event=function(e,t){ol.events.Event.call(this,e);this.image=t};ol.inherits(ol.source.Image.Event,ol.events.Event);ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};goog.provide("ol.source.ImageCanvas");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.extent");goog.require("ol.source.Image");ol.source.ImageCanvas=function(e){ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions,state:e.state});this.canvasFunction_=e.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=e.ratio!==void 0?e.ratio:1.5};ol.inherits(ol.source.ImageCanvas,ol.source.Image);ol.source.ImageCanvas.prototype.getImageInternal=function(e,t,r,o){t=this.findNearestResolution(t);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&ol.extent.containsExtent(i.getExtent(),e)){return i}e=e.slice();ol.extent.scaleFromCenter(e,this.ratio_);var n=ol.extent.getWidth(e)/t,a=ol.extent.getHeight(e)/t,p=this.canvasFunction_(e,t,r,[n*r,a*r],o);if(p){i=new ol.ImageCanvas(e,t,r,p)}this.canvas_=i;this.renderedRevision_=this.getRevision();return i};goog.provide("ol.source.ImageVector");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.vector");goog.require("ol.source.ImageCanvas");goog.require("ol.style.Style");goog.require("ol.transform");ol.source.ImageVector=function(e){this.source_=e.source;this.transform_=ol.transform.create();this.canvasContext_=ol.dom.createCanvasContext2D();this.canvasSize_=[0,0];this.declutterTree_=ol.ext.rbush(9);this.renderBuffer_=e.renderBuffer==void 0?100:e.renderBuffer;this.replayGroup_=null;ol.source.ImageCanvas.call(this,{attributions:e.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:e.logo,projection:e.projection,ratio:e.ratio,resolutions:e.resolutions,state:this.source_.getState()});this.style_=null;this.styleFunction_=void 0;this.setStyle(e.style);ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)};ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas);ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,t,r,o,i){var n=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(t,r),e,t,r,this.source_.getOverlaps(),this.declutterTree_,this.renderBuffer_);this.source_.loadFeatures(e,t,i);var a=!1;this.source_.forEachFeatureInExtent(e,function(e){a=a||this.renderFeature_(e,t,r,n)},this);n.finish();if(a){return null}if(this.canvasSize_[0]!=o[0]||this.canvasSize_[1]!=o[1]){this.canvasContext_.canvas.width=o[0];this.canvasContext_.canvas.height=o[1];this.canvasSize_[0]=o[0];this.canvasSize_[1]=o[1]}else{this.canvasContext_.clearRect(0,0,o[0],o[1])}var p=this.getTransform_(ol.extent.getCenter(e),t,r,o);n.replay(this.canvasContext_,p,0,{});this.replayGroup_=n;this.declutterTree_.clear();return this.canvasContext_.canvas};ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i,n){if(!this.replayGroup_){}else{var a={},p=this.replayGroup_.forEachFeatureAtCoordinate(e,t,0,o,i,function(e){var t=ol.getUid(e).toString();if(!(t in a)){a[t]=!0;return n(e)}},null);this.declutterTree_.clear();return p}};ol.source.ImageVector.prototype.getSource=function(){return this.source_};ol.source.ImageVector.prototype.getStyle=function(){return this.style_};ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.source.ImageVector.prototype.getTransform_=function(e,t,r,o){var i=o[0]/2,n=o[1]/2,a=r/t,p=-e[0],l=-e[1];return ol.transform.compose(this.transform_,i,n,a,-a,0,p,l)};ol.source.ImageVector.prototype.handleImageChange_=function(){this.changed()};ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())};ol.source.ImageVector.prototype.renderFeature_=function(e,t,r,o){var n,a=e.getStyleFunction();if(a){n=a.call(e,t)}else if(this.styleFunction_){n=this.styleFunction_(e,t)}if(!n){return!1}var p,l,s=!1;if(!Array.isArray(n)){n=[n]}for(p=0,l=n.length;p<l;++p){s=ol.renderer.vector.renderFeature(o,e,n[p],ol.renderer.vector.getSquaredTolerance(t,r),this.handleImageChange_,this)||s}return s};ol.source.ImageVector.prototype.setStyle=function(e){this.style_=e!==void 0?e:ol.style.Style.defaultFunction;this.styleFunction_=!e?void 0:ol.style.Style.createFunction(this.style_);this.changed()};goog.provide("ol.renderer.webgl.ImageLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.renderer.Type");goog.require("ol.renderer.webgl.Layer");goog.require("ol.source.ImageVector");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Context");ol.renderer.webgl.ImageLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.image_=null;this.hitCanvasContext_=null;this.hitTransformationMatrix_=null};ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.ImageLayer.handles=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.IMAGE};ol.renderer.webgl.ImageLayer.create=function(e,t){return new ol.renderer.webgl.ImageLayer(e,t)};ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(e){var t=e.getImage(),r=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(r,t,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)};ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i){var n=this.getLayer(),a=n.getSource(),p=t.viewState.resolution,l=t.viewState.rotation,s=t.skippedFeatureUids;return a.forEachFeatureAtCoordinate(e,p,l,r,s,function(e){return o.call(i,e,n)})};ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(e,t){var r=this.mapRenderer.getGL(),o=e.pixelRatio,i=e.viewState,n=i.center,a=i.resolution,p=i.rotation,l=this.image_,s=this.texture,y=this.getLayer(),c=y.getSource(),d=e.viewHints,g=e.extent;if(t.extent!==void 0){g=ol.extent.getIntersection(g,t.extent)}if(!d[ol.ViewHint.ANIMATING]&&!d[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(g)){var m=i.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var u=c.getProjection();if(u){m=u}}var _=c.getImage(g,a,o,m);if(_){var f=this.loadImage(_);if(f){l=_;s=this.createTexture_(_);if(this.texture){var S=function(e,t){if(!e.isContextLost()){e.deleteTexture(t)}}.bind(null,r,this.texture);e.postRenderFunctions.push(S)}}}}if(l){var x=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(x.width,x.height,o,n,a,p,l.getExtent());this.hitTransformationMatrix_=null;var P=this.texCoordMatrix;ol.transform.reset(P);ol.transform.scale(P,1,-1);ol.transform.translate(P,0,-1);this.image_=l;this.texture=s;this.updateLogos(e,c)}return!!l};ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(e,t,r,o,i,n,a){var p=this.projectionMatrix;ol.transform.reset(p);ol.transform.scale(p,2*r/(e*i),2*r/(t*i));ol.transform.rotate(p,-n);ol.transform.translate(p,a[0]-o[0],a[1]-o[1]);ol.transform.scale(p,(a[2]-a[0])/2,(a[3]-a[1])/2);ol.transform.translate(p,1,1)};ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(e,t){var r=this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this);return r!==void 0};ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(e,t,r,o){if(!this.image_||!this.image_.getImage()){return}if(this.getLayer().getSource()instanceof ol.source.ImageVector){var i=ol.transform.apply(t.pixelToCoordinateTransform,e.slice()),n=this.forEachFeatureAtCoordinate(i,t,0,ol.functions.TRUE,this);if(n){return r.call(o,this.getLayer(),null)}else{}}else{var a=[this.image_.getImage().width,this.image_.getImage().height];if(!this.hitTransformationMatrix_){this.hitTransformationMatrix_=this.getHitTransformationMatrix_(t.size,a)}var p=ol.transform.apply(this.hitTransformationMatrix_,e.slice());if(0>p[0]||p[0]>a[0]||0>p[1]||p[1]>a[1]){return}if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.image_.getImage(),p[0],p[1],1,1,0,0,1,1);var l=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(0<l[3]){return r.call(o,this.getLayer(),l)}else{}}};ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(e,t){var r=ol.transform.create();ol.transform.translate(r,-1,-1);ol.transform.scale(r,2/e[0],2/e[1]);ol.transform.translate(r,0,e[1]);ol.transform.scale(r,1,-1);var o=ol.transform.invert(this.projectionMatrix.slice()),i=ol.transform.create();ol.transform.translate(i,0,t[1]);ol.transform.scale(i,1,-1);ol.transform.scale(i,t[0]/2,t[1]/2);ol.transform.translate(i,1,1);ol.transform.multiply(i,o);ol.transform.multiply(i,r);return i};goog.provide("ol.renderer.webgl.Map");goog.require("ol");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.has");goog.require("ol.layer.Layer");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.source.State");goog.require("ol.structs.LRUCache");goog.require("ol.structs.PriorityQueue");goog.require("ol.webgl");goog.require("ol.webgl.Context");goog.require("ol.webgl.ContextEventType");ol.renderer.webgl.Map=function(e,t){ol.renderer.Map.call(this,e,t);this.canvas_=document.createElement("CANVAS");this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;e.insertBefore(this.canvas_,e.childNodes[0]||null);this.clipTileCanvasWidth_=0;this.clipTileCanvasHeight_=0;this.clipTileContext_=ol.dom.createCanvasContext2D();this.renderedVisible_=!0;this.gl_=ol.webgl.getContext(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.context_=new ol.webgl.Context(this.canvas_,this.gl_);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this);this.textureCache_=new ol.structs.LRUCache;this.focus_=null;this.tileTextureQueue_=new ol.structs.PriorityQueue(function(e){var t=e[1],r=e[2],o=t[0]-this.focus_[0],i=t[1]-this.focus_[1];return 65536*Math.log(r)+Math.sqrt(o*o+i*i)/r}.bind(this),function(e){return e[0].getKey()});this.loadNextTileTexture_=function(){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var e=this.tileTextureQueue_.dequeue(),t=e[0],r=e[3],o=e[4];this.bindTileTexture(t,r,o,ol.webgl.LINEAR,ol.webgl.LINEAR)}return!1}.bind(this);this.textureCacheFrameMarkerCount_=0;this.initializeGL_()};ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map);ol.renderer.webgl.Map.handles=function(e){return ol.has.WEBGL&&e===ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.create=function(e,t){return new ol.renderer.webgl.Map(e,t)};ol.renderer.webgl.Map.prototype.bindTileTexture=function(e,t,r,o,i){var n=this.getGL(),a=e.getKey();if(this.textureCache_.containsKey(a)){var p=this.textureCache_.get(a);n.bindTexture(ol.webgl.TEXTURE_2D,p.texture);if(p.magFilter!=o){n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,o);p.magFilter=o}if(p.minFilter!=i){n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i);p.minFilter=i}}else{var l=n.createTexture();n.bindTexture(ol.webgl.TEXTURE_2D,l);if(0<r){var s=this.clipTileContext_.canvas,y=this.clipTileContext_;if(this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]){s.width=t[0];s.height=t[1];this.clipTileCanvasWidth_=t[0];this.clipTileCanvasHeight_=t[1]}else{y.clearRect(0,0,t[0],t[1])}y.drawImage(e.getImage(),r,r,t[0],t[1],0,0,t[0],t[1]);n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,s)}else{n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,e.getImage())}n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,o);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE);this.textureCache_.set(a,{texture:l,magFilter:o,minFilter:i})}};ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(e,t){var r=this.getMap();if(r.hasListener(e)){var o=this.context_,i=t.extent,n=t.size,a=t.viewState,p=t.pixelRatio,l=a.resolution,s=a.center,y=a.rotation,c=new ol.render.webgl.Immediate(o,s,l,y,n,i,p),d=new ol.render.Event(e,c,t,null,o);r.dispatchEvent(d)}};ol.renderer.webgl.Map.prototype.disposeInternal=function(){var e=this.getGL();if(!e.isContextLost()){this.textureCache_.forEach(function(t){if(t){e.deleteTexture(t.texture)}})}this.context_.dispose();ol.renderer.Map.prototype.disposeInternal.call(this)};ol.renderer.webgl.Map.prototype.expireCache_=function(e,t){var r=this.getGL(),o;while(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){o=this.textureCache_.peekLast();if(!o){if(+this.textureCache_.peekLastKey()==t.index){break}else{--this.textureCacheFrameMarkerCount_}}else{r.deleteTexture(o.texture)}this.textureCache_.pop()}};ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_};ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_};ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_};ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(e){e.preventDefault();this.textureCache_.clear();this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var r in t){var o=t[r];o.handleWebGLContextLost()}};ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_();this.getMap().render()};ol.renderer.webgl.Map.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(ol.webgl.TEXTURE0);e.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA);e.disable(ol.webgl.CULL_FACE);e.disable(ol.webgl.DEPTH_TEST);e.disable(ol.webgl.SCISSOR_TEST);e.disable(ol.webgl.STENCIL_TEST)};ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())};ol.renderer.webgl.Map.prototype.renderFrame=function(e){var t=this.getContext(),r=this.getGL();if(r.isContextLost()){return!1}if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=!1}return!1}this.focus_=e.focus;this.textureCache_.set((-e.index).toString(),null);++this.textureCacheFrameMarkerCount_;this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var o=[],n=e.layerStatesArray;ol.array.stableSort(n,ol.renderer.Map.sortByZIndex);var a=e.viewState.resolution,p,l,s,y;for(p=0,l=n.length;p<l;++p){y=n[p];if(ol.layer.Layer.visibleAtResolution(y,a)&&y.sourceState==ol.source.State.READY){s=this.getLayerRenderer(y.layer);if(s.prepareFrame(e,y,t)){o.push(y)}}}var c=e.size[0]*e.pixelRatio,d=e.size[1]*e.pixelRatio;if(this.canvas_.width!=c||this.canvas_.height!=d){this.canvas_.width=c;this.canvas_.height=d}r.bindFramebuffer(ol.webgl.FRAMEBUFFER,null);r.clearColor(0,0,0,0);r.clear(ol.webgl.COLOR_BUFFER_BIT);r.enable(ol.webgl.BLEND);r.viewport(0,0,this.canvas_.width,this.canvas_.height);for(p=0,l=o.length;p<l;++p){y=o[p];s=this.getLayerRenderer(y.layer);s.composeFrame(e,y,t)}if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=!0}this.calculateMatrices2D(e);if(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){e.postRenderFunctions.push(this.expireCache_.bind(this))}if(!this.tileTextureQueue_.isEmpty()){e.postRenderFunctions.push(this.loadNextTileTexture_);e.animate=!0}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e);this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,n,a,p){var l;if(this.getGL().isContextLost()){return!1}var s=t.viewState,y=t.layerStatesArray,c=y.length,d;for(d=c-1;0<=d;--d){var g=y[d],m=g.layer;if(ol.layer.Layer.visibleAtResolution(g,s.resolution)&&a.call(p,m)){var u=this.getLayerRenderer(m);l=u.forEachFeatureAtCoordinate(e,t,r,o,n);if(l){return l}}}};ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(e,t,r,o,n){var a=!1;if(this.getGL().isContextLost()){return!1}var p=t.viewState,l=t.layerStatesArray,s=l.length,y;for(y=s-1;0<=y;--y){var c=l[y],d=c.layer;if(ol.layer.Layer.visibleAtResolution(c,p.resolution)&&o.call(n,d)){var g=this.getLayerRenderer(d);a=g.hasFeatureAtCoordinate(e,t);if(a){return!0}}}return a};ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(e,t,r,o,n){if(this.getGL().isContextLost()){return!1}var a=t.viewState,p,l=t.layerStatesArray,s=l.length,y;for(y=s-1;0<=y;--y){var c=l[y],d=c.layer;if(ol.layer.Layer.visibleAtResolution(c,a.resolution)&&n.call(o,d)){var g=this.getLayerRenderer(d);p=g.forEachLayerAtPixel(e,t,r,o);if(p){return p}}}};goog.provide("ol.renderer.webgl.tilelayershader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.renderer.webgl.tilelayershader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");ol.renderer.webgl.tilelayershader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");goog.provide("ol.renderer.webgl.tilelayershader.Locations");goog.require("ol");ol.renderer.webgl.tilelayershader.Locations=function(e,t){this.u_tileOffset=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_tileOffset":"d");this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"e");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")};goog.provide("ol.renderer.webgl.TileLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.TileRange");goog.require("ol.TileState");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.renderer.Type");goog.require("ol.renderer.webgl.Layer");goog.require("ol.renderer.webgl.tilelayershader");goog.require("ol.renderer.webgl.tilelayershader.Locations");goog.require("ol.size");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.renderer.webgl.TileLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment;this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex;this.locations_=null;this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;this.tmpSize_=[0,0]};ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.TileLayer.handles=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.TILE};ol.renderer.webgl.TileLayer.create=function(e,t){return new ol.renderer.webgl.TileLayer(e,t)};ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){var e=this.mapRenderer.getContext();e.deleteBuffer(this.renderArrayBuffer_);ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(e,t,r){var o=this.mapRenderer;return function(i,n){return e.forEachLoadedTile(t,i,n,function(e){var t=o.isTileTextureLoaded(e);if(t){if(!r[i]){r[i]={}}r[i][e.tileCoord.toString()]=e}return t})}};ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this);this.locations_=null};ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(e,t,r){var o=this.mapRenderer,n=r.getGL(),a=e.viewState,p=a.projection,l=this.getLayer(),s=l.getSource(),c=s.getTileGridForProjection(p),d=c.getZForResolution(a.resolution),g=c.getResolution(d),m=s.getTilePixelSize(d,e.pixelRatio,p),u=m[0]/ol.size.toSize(c.getTileSize(d),this.tmpSize_)[0],_=g/u,f=s.getTilePixelRatio(u)*s.getGutter(p),S=a.center,P=e.extent,T=c.getTileRangeForExtentAndZ(P,d),E;if(this.renderedTileRange_&&this.renderedTileRange_.equals(T)&&this.renderedRevision_==s.getRevision()){E=this.renderedFramebufferExtent_}else{var h=T.getSize(),v=Math.max(h[0]*m[0],h[1]*m[1]),R=ol.math.roundUpToPowerOfTwo(v),C=_*R,L=c.getOrigin(d),M=L[0]+T.minX*m[0]*_,I=L[1]+T.minY*m[1]*_;E=[M,I,M+C,I+C];this.bindFramebuffer(e,R);n.viewport(0,0,R,R);n.clearColor(0,0,0,0);n.clear(ol.webgl.COLOR_BUFFER_BIT);n.disable(ol.webgl.BLEND);var b=r.getProgram(this.fragmentShader_,this.vertexShader_);r.useProgram(b);if(!this.locations_){this.locations_=new ol.renderer.webgl.tilelayershader.Locations(n,b)}r.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_);n.enableVertexAttribArray(this.locations_.a_position);n.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,!1,16,0);n.enableVertexAttribArray(this.locations_.a_texCoord);n.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,!1,16,8);n.uniform1i(this.locations_.u_texture,0);var A={};A[d]={};var O=this.createLoadedTileFinder(s,p,A),G=l.getUseInterimTilesOnError(),F=!0,N=ol.extent.createEmpty(),w=new ol.TileRange(0,0,0,0),D,q,U,k,j,W,V,B;for(W=T.minX;W<=T.maxX;++W){for(V=T.minY;V<=T.maxY;++V){k=s.getTile(d,W,V,u,p);if(t.extent!==void 0){B=c.getTileCoordExtent(k.tileCoord,N);if(!ol.extent.intersects(B,t.extent)){continue}}j=k.getState();q=j==ol.TileState.LOADED||j==ol.TileState.EMPTY||j==ol.TileState.ERROR&&!G;if(!q){k=k.getInterimTile()}j=k.getState();if(j==ol.TileState.LOADED){if(o.isTileTextureLoaded(k)){A[d][k.tileCoord.toString()]=k;continue}}else if(j==ol.TileState.EMPTY||j==ol.TileState.ERROR&&!G){continue}F=!1;U=c.forEachTileCoordParentTileRange(k.tileCoord,O,null,w,N);if(!U){D=c.getTileCoordChildTileRange(k.tileCoord,w,N);if(D){O(d+1,D)}}}}var K=Object.keys(A).map(Number);K.sort(ol.array.numberSafeCompareFunction);var X=new Float32Array(4),Z,Y,H,z;for(Z=0,Y=K.length;Z<Y;++Z){z=A[K[Z]];for(H in z){k=z[H];B=c.getTileCoordExtent(k.tileCoord,N);X[0]=2*(B[2]-B[0])/C;X[1]=2*(B[3]-B[1])/C;X[2]=2*(B[0]-E[0])/C-1;X[3]=2*(B[1]-E[1])/C-1;n.uniform4fv(this.locations_.u_tileOffset,X);o.bindTileTexture(k,m,f*u,ol.webgl.LINEAR,ol.webgl.LINEAR);n.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}}if(F){this.renderedTileRange_=T;this.renderedFramebufferExtent_=E;this.renderedRevision_=s.getRevision()}else{this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;e.animate=!0}}this.updateUsedTiles(e.usedTiles,s,d,T);var J=o.getTileTextureQueue();this.manageTilePyramid(e,s,c,u,p,P,d,l.getPreload(),function(e){if(e.getState()==ol.TileState.LOADED&&!o.isTileTextureLoaded(e)&&!J.isKeyQueued(e.getKey())){J.enqueue([e,c.getTileCoordCenter(e.tileCoord),c.getResolution(e.tileCoord[0]),m,f*u])}},this);this.scheduleExpireCache(e,s);this.updateLogos(e,s);var Q=this.texCoordMatrix;ol.transform.reset(Q);ol.transform.translate(Q,(Math.round(S[0]/g)*g-E[0])/(E[2]-E[0]),(Math.round(S[1]/g)*g-E[1])/(E[3]-E[1]));if(0!==a.rotation){ol.transform.rotate(Q,a.rotation)}ol.transform.scale(Q,e.size[0]*a.resolution/(E[2]-E[0]),e.size[1]*a.resolution/(E[3]-E[1]));ol.transform.translate(Q,-.5,-.5);return!0};ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(e,t,r,o){if(!this.framebuffer){return}var i=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]],n=ol.transform.apply(this.texCoordMatrix,i.slice()),a=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension],p=this.mapRenderer.getContext().getGL();p.bindFramebuffer(p.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);p.readPixels(a[0],a[1],1,1,p.RGBA,p.UNSIGNED_BYTE,l);if(0<l[3]){return r.call(o,this.getLayer(),l)}else{}};goog.provide("ol.renderer.webgl.VectorLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.extent");goog.require("ol.render.webgl.ReplayGroup");goog.require("ol.renderer.Type");goog.require("ol.renderer.vector");goog.require("ol.renderer.webgl.Layer");goog.require("ol.transform");ol.renderer.webgl.VectorLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.dirty_=!1;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.layerState_=null};ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.VectorLayer.handles=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.VECTOR};ol.renderer.webgl.VectorLayer.create=function(e,t){return new ol.renderer.webgl.VectorLayer(e,t)};ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(e,t,r){this.layerState_=t;var o=e.viewState,i=this.replayGroup_,n=e.size,a=e.pixelRatio,p=this.mapRenderer.getGL();if(i&&!i.isEmpty()){p.enable(p.SCISSOR_TEST);p.scissor(0,0,n[0]*a,n[1]*a);i.replay(r,o.center,o.resolution,o.rotation,n,a,t.opacity,t.managed?e.skippedFeatureUids:{});p.disable(p.SCISSOR_TEST)}};ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var t=this.mapRenderer.getContext();e.getDeleteResourcesFunction(t)();this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,r,o,i){if(!this.replayGroup_||!this.layerState_){}else{var n=this.mapRenderer.getContext(),a=t.viewState,p=this.getLayer(),l=this.layerState_,s={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,a.center,a.resolution,a.rotation,t.size,t.pixelRatio,l.opacity,{},function(e){var t=ol.getUid(e).toString();if(!(t in s)){s[t]=!0;return o.call(i,e,p)}})}};ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(e,t){if(!this.replayGroup_||!this.layerState_){return!1}else{var r=this.mapRenderer.getContext(),o=t.viewState,i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,r,o.center,o.resolution,o.rotation,t.size,t.pixelRatio,i.opacity,t.skippedFeatureUids)}};ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(e,t,r,o){var i=ol.transform.apply(t.pixelToCoordinateTransform,e.slice()),n=this.hasFeatureAtCoordinate(i,t);if(n){return r.call(o,this.getLayer(),null)}else{}};ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()};ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(e,t,r){var o=this.getLayer(),i=o.getSource();this.updateLogos(e,i);var n=e.viewHints[ol.ViewHint.ANIMATING],a=e.viewHints[ol.ViewHint.INTERACTING],p=o.getUpdateWhileAnimating(),l=o.getUpdateWhileInteracting();if(!this.dirty_&&!p&&n||!l&&a){return!0}var s=e.extent,y=e.viewState,c=y.projection,d=y.resolution,g=e.pixelRatio,m=o.getRevision(),u=o.getRenderBuffer(),_=o.getRenderOrder();if(_===void 0){_=ol.renderer.vector.defaultOrder}var f=ol.extent.buffer(s,u*d);if(!this.dirty_&&this.renderedResolution_==d&&this.renderedRevision_==m&&this.renderedRenderOrder_==_&&ol.extent.containsExtent(this.renderedExtent_,f)){return!0}if(this.replayGroup_){e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(r))}this.dirty_=!1;var S=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(d,g),f,o.getRenderBuffer());i.loadFeatures(f,d,c);var x=function(e){var t,r=e.getStyleFunction();if(r){t=r.call(e,d)}else{r=o.getStyleFunction();if(r){t=r(e,d)}}if(t){var i=this.renderFeature(e,d,g,t,S);this.dirty_=this.dirty_||i}};if(_){var P=[];i.forEachFeatureInExtent(f,function(e){P.push(e)},this);P.sort(_);P.forEach(x,this)}else{i.forEachFeatureInExtent(f,x,this)}S.finish(r);this.renderedResolution_=d;this.renderedRevision_=m;this.renderedRenderOrder_=_;this.renderedExtent_=f;this.replayGroup_=S;return!0};ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(e,t,r,o,n){if(!o){return!1}var a=!1;if(Array.isArray(o)){for(var p=o.length-1;p>=0;--p){a=ol.renderer.vector.renderFeature(n,e,o[p],ol.renderer.vector.getSquaredTolerance(t,r),this.handleStyleImageChange_,this)||a}}else{a=ol.renderer.vector.renderFeature(n,e,o,ol.renderer.vector.getSquaredTolerance(t,r),this.handleStyleImageChange_,this)||a}return a};goog.provide("ol.Map");goog.require("ol");goog.require("ol.PluggableMap");goog.require("ol.PluginType");goog.require("ol.control");goog.require("ol.interaction");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");goog.require("ol.renderer.webgl.ImageLayer");goog.require("ol.renderer.webgl.Map");goog.require("ol.renderer.webgl.TileLayer");goog.require("ol.renderer.webgl.VectorLayer");if(ol.ENABLE_CANVAS){ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer])}if(ol.ENABLE_WEBGL){ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.webgl.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.webgl.ImageLayer,ol.renderer.webgl.TileLayer,ol.renderer.webgl.VectorLayer])}ol.Map=function(e){e=ol.obj.assign({},e);if(!e.controls){e.controls=ol.control.defaults()}if(!e.interactions){e.interactions=ol.interaction.defaults()}ol.PluggableMap.call(this,e)};ol.inherits(ol.Map,ol.PluggableMap);goog.provide("ol.net");goog.require("ol");ol.net.jsonp=function(e,t,r,o){var n=document.createElement("script"),a="olc_"+ol.getUid(t);function i(){delete window[a];n.parentNode.removeChild(n)}n.async=!0;n.src=e+(-1==e.indexOf("?")?"?":"&")+(o||"callback")+"="+a;var p=setTimeout(function(){i();if(r){r()}},1e4);window[a]=function(e){clearTimeout(p);i();t(e)};document.getElementsByTagName("head")[0].appendChild(n)};goog.provide("ol.proj.common");goog.require("ol.proj");ol.proj.common.add=ol.proj.addCommon;goog.provide("ol.render");goog.require("ol.has");goog.require("ol.transform");goog.require("ol.render.canvas.Immediate");ol.render.toContext=function(e,t){var r=e.canvas,o=t?t:{},i=o.pixelRatio||ol.has.DEVICE_PIXEL_RATIO,n=o.size;if(n){r.width=n[0]*i;r.height=n[1]*i;r.style.width=n[0]+"px";r.style.height=n[1]+"px"}var a=[0,0,r.width,r.height],p=ol.transform.scale(ol.transform.create(),i,i);return new ol.render.canvas.Immediate(e,i,a,p,0)};goog.provide("ol.reproj.Tile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Tile=function(e,t,r,o,i,n,a,p,l,s,y){ol.Tile.call(this,i,ol.TileState.IDLE);this.renderEdges_=y!==void 0?y:!1;this.pixelRatio_=a;this.gutter_=p;this.canvas_=null;this.sourceTileGrid_=t;this.targetTileGrid_=o;this.wrappedTileCoord_=n?n:i;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var c=o.getTileCoordExtent(this.wrappedTileCoord_),d=this.targetTileGrid_.getExtent(),g=this.sourceTileGrid_.getExtent(),m=d?ol.extent.getIntersection(c,d):c;if(0===ol.extent.getArea(m)){this.state=ol.TileState.EMPTY;return}var u=e.getExtent();if(u){if(!g){g=u}else{g=ol.extent.getIntersection(g,u)}}var _=o.getResolution(this.wrappedTileCoord_[0]),f=ol.extent.getCenter(m),S=ol.reproj.calculateSourceResolution(e,r,f,_);if(!isFinite(S)||0>=S){this.state=ol.TileState.EMPTY;return}var x=s!==void 0?s:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,r,m,g,S*x);if(0===this.triangulation_.getTriangles().length){this.state=ol.TileState.EMPTY;return}this.sourceZ_=t.getZForResolution(S);var P=this.triangulation_.calculateSourceExtent();if(g){if(e.canWrapX()){P[1]=ol.math.clamp(P[1],g[1],g[3]);P[3]=ol.math.clamp(P[3],g[1],g[3])}else{P=ol.extent.getIntersection(P,g)}}if(!ol.extent.getArea(P)){this.state=ol.TileState.EMPTY}else{for(var T=t.getTileRangeForExtentAndZ(P,this.sourceZ_),E=T.minX;E<=T.maxX;E++){for(var h=T.minY,v;h<=T.maxY;h++){v=l(this.sourceZ_,E,h,a);if(v){this.sourceTiles_.push(v)}}}if(0===this.sourceTiles_.length){this.state=ol.TileState.EMPTY}}};ol.inherits(ol.reproj.Tile,ol.Tile);ol.reproj.Tile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenSources_()}ol.Tile.prototype.disposeInternal.call(this)};ol.reproj.Tile.prototype.getImage=function(){return this.canvas_};ol.reproj.Tile.prototype.reproject_=function(){var e=[];this.sourceTiles_.forEach(function(t){if(t&&t.getState()==ol.TileState.LOADED){e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}},this);this.sourceTiles_.length=0;if(0===e.length){this.state=ol.TileState.ERROR}else{var t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),o="number"==typeof r?r:r[0],i="number"==typeof r?r:r[1],n=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),p=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(o,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),n,p,this.triangulation_,e,this.gutter_,this.renderEdges_);this.state=ol.TileState.LOADED}this.changed()};ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();var e=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(t){var r=t.getState();if(r==ol.TileState.IDLE||r==ol.TileState.LOADING){e++;var o=ol.events.listen(t,ol.events.EventType.CHANGE,function(){var r=t.getState();if(r==ol.TileState.LOADED||r==ol.TileState.ERROR||r==ol.TileState.EMPTY){ol.events.unlistenByKey(o);e--;if(0==e){this.unlistenSources_();this.reproject_()}}},this);this.sourcesListenerKeys_.push(o)}},this);this.sourceTiles_.forEach(function(e){var t=e.getState();if(t==ol.TileState.IDLE){e.load()}});if(0==e){setTimeout(this.reproject_.bind(this),0)}}};ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey);this.sourcesListenerKeys_=null};goog.provide("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.math");goog.require("ol.tilecoord");ol.TileUrlFunction.createFromTemplate=function(e,t){var r=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,n=/\{-y\}/g;return function(a){if(!a){}else{return e.replace(r,a[0].toString()).replace(o,a[1].toString()).replace(i,function(){var e=-a[2]-1;return e.toString()}).replace(n,function(){var e=a[0],r=t.getFullTileRange(e);ol.asserts.assert(r,55);var o=r.getHeight()+a[2];return o.toString()})}}};ol.TileUrlFunction.createFromTemplates=function(e,t){for(var r=e.length,o=Array(r),n=0;n<r;++n){o[n]=ol.TileUrlFunction.createFromTemplate(e[n],t)}return ol.TileUrlFunction.createFromTileUrlFunctions(o)};ol.TileUrlFunction.createFromTileUrlFunctions=function(e){if(1===e.length){return e[0]}return function(t,r,o){if(!t){}else{var i=ol.tilecoord.hash(t),n=ol.math.modulo(i,e.length);return e[n](t,r,o)}}};ol.TileUrlFunction.nullTileUrlFunction=function(){};ol.TileUrlFunction.expandUrl=function(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var o=r[1].charCodeAt(0),n=r[2].charCodeAt(0),a;for(a=o;a<=n;++a){t.push(e.replace(r[0],String.fromCharCode(a)))}return t}r=r=/\{(\d+)-(\d+)\}/.exec(e);if(r){for(var p=parseInt(r[2],10),l=parseInt(r[1],10);l<=p;l++){t.push(e.replace(r[0],l.toString()))}return t}t.push(e);return t};goog.provide("ol.TileCache");goog.require("ol");goog.require("ol.structs.LRUCache");goog.require("ol.tilecoord");ol.TileCache=function(e){ol.structs.LRUCache.call(this,e)};ol.inherits(ol.TileCache,ol.structs.LRUCache);ol.TileCache.prototype.expireCache=function(e){var t,r;while(this.canExpireCache()){t=this.peekLast();r=t.tileCoord[0].toString();if(r in e&&e[r].contains(t.tileCoord)){break}else{this.pop().dispose()}}};ol.TileCache.prototype.pruneExceptNewestZ=function(){if(0===this.getCount()){return}var e=this.peekFirstKey(),t=ol.tilecoord.fromKey(e),r=t[0];this.forEach(function(e){if(e.tileCoord[0]!==r){this.remove(ol.tilecoord.getKey(e.tileCoord));e.dispose()}},this)};goog.provide("ol.source.Tile");goog.require("ol");goog.require("ol.TileCache");goog.require("ol.TileState");goog.require("ol.events.Event");goog.require("ol.proj");goog.require("ol.size");goog.require("ol.source.Source");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.Tile=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX});this.opaque_=e.opaque!==void 0?e.opaque:!1;this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1;this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;this.tileCache=new ol.TileCache(e.cacheSize);this.tmpSize=[0,0];this.key_="";this.tileOptions={transition:e.transition}};ol.inherits(ol.source.Tile,ol.source.Source);ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};ol.source.Tile.prototype.expireCache=function(e,t){var r=this.getTileCacheForProjection(e);if(r){r.expireCache(t)}};ol.source.Tile.prototype.forEachLoadedTile=function(e,t,r,o){var i=this.getTileCacheForProjection(e);if(!i){return!1}for(var n=!0,a,p,l,s=r.minX;s<=r.maxX;++s){for(var c=r.minY;c<=r.maxY;++c){p=ol.tilecoord.getKeyZXY(t,s,c);l=!1;if(i.containsKey(p)){a=i.get(p);l=a.getState()===ol.TileState.LOADED;if(l){l=!1!==o(a)}}if(!l){n=!1}}}return n};ol.source.Tile.prototype.getGutter=function(){return 0};ol.source.Tile.prototype.getKey=function(){return this.key_};ol.source.Tile.prototype.setKey=function(e){if(this.key_!==e){this.key_=e;this.changed()}};ol.source.Tile.prototype.getOpaque=function(){return this.opaque_};ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};ol.source.Tile.prototype.getTile=function(){};ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid};ol.source.Tile.prototype.getTileGridForProjection=function(e){if(!this.tileGrid){return ol.tilegrid.getForProjection(e)}else{return this.tileGrid}};ol.source.Tile.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();if(t&&!ol.proj.equivalent(t,e)){return null}else{return this.tileCache}};ol.source.Tile.prototype.getTilePixelRatio=function(){return this.tilePixelRatio_};ol.source.Tile.prototype.getTilePixelSize=function(e,t,r){var o=this.getTileGridForProjection(r),i=this.getTilePixelRatio(t),n=ol.size.toSize(o.getTileSize(e),this.tmpSize);if(1==i){return n}else{return ol.size.scale(n,i,this.tmpSize)}};ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(e,t){var r=t!==void 0?t:this.getProjection(),o=this.getTileGridForProjection(r);if(this.getWrapX()&&r.isGlobal()){e=ol.tilegrid.wrapX(o,e,r)}return ol.tilecoord.withinExtentAndZ(e,o)?e:null};ol.source.Tile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.Tile.prototype.useTile=ol.nullFunction;ol.source.Tile.Event=function(e,t){ol.events.Event.call(this,e);this.tile=t};ol.inherits(ol.source.Tile.Event,ol.events.Event);goog.provide("ol.source.TileEventType");ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};goog.provide("ol.source.UrlTile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.source.Tile");goog.require("ol.source.TileEventType");goog.require("ol.tilecoord");ol.source.UrlTile=function(e){ol.source.Tile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition});this.tileLoadFunction=e.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction;this.urls=null;if(e.urls){this.setUrls(e.urls)}else if(e.url){this.setUrl(e.url)}if(e.tileUrlFunction){this.setTileUrlFunction(e.tileUrlFunction)}this.tileLoadingKeys_={}};ol.inherits(ol.source.UrlTile,ol.source.Tile);ol.source.UrlTile.prototype.fixedTileUrlFunction;ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};ol.source.UrlTile.prototype.getUrls=function(){return this.urls};ol.source.UrlTile.prototype.handleTileChange=function(e){var t=e.target,r=ol.getUid(t),o=t.getState(),i;if(o==ol.TileState.LOADING){this.tileLoadingKeys_[r]=!0;i=ol.source.TileEventType.TILELOADSTART}else if(r in this.tileLoadingKeys_){delete this.tileLoadingKeys_[r];i=o==ol.TileState.ERROR?ol.source.TileEventType.TILELOADERROR:o==ol.TileState.LOADED||o==ol.TileState.ABORT?ol.source.TileEventType.TILELOADEND:void 0}if(i!=void 0){this.dispatchEvent(new ol.source.Tile.Event(i,t))}};ol.source.UrlTile.prototype.setTileLoadFunction=function(e){this.tileCache.clear();this.tileLoadFunction=e;this.changed()};ol.source.UrlTile.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e;this.tileCache.pruneExceptNewestZ();if("undefined"!=typeof t){this.setKey(t)}else{this.changed()}};ol.source.UrlTile.prototype.setUrl=function(e){var t=this.urls=ol.TileUrlFunction.expandUrl(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(t,this.tileGrid),e)};ol.source.UrlTile.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(e,this.tileGrid),t)};ol.source.UrlTile.prototype.useTile=function(e,t,r){var o=ol.tilecoord.getKeyZXY(e,t,r);if(this.tileCache.containsKey(o)){this.tileCache.get(o)}};goog.provide("ol.source.TileImage");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.TileCache");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.proj");goog.require("ol.reproj.Tile");goog.require("ol.source.UrlTile");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.TileImage=function(e){ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition});this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null;this.tileClass=e.tileClass!==void 0?e.tileClass:ol.ImageTile;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold;this.renderReprojectionEdges_=!1};ol.inherits(ol.source.TileImage,ol.source.UrlTile);ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return!0}else{for(var e in this.tileCacheForProjection){if(this.tileCacheForProjection[e].canExpireCache()){return!0}}}return!1};ol.source.TileImage.prototype.expireCache=function(e,t){if(!ol.ENABLE_RASTER_REPROJECTION){ol.source.UrlTile.prototype.expireCache.call(this,e,t);return}var r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?t:{});for(var o in this.tileCacheForProjection){var i=this.tileCacheForProjection[o];i.expireCache(i==r?t:{})}};ol.source.TileImage.prototype.getGutter=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){return 0}else{return this.getGutterInternal()}};ol.source.TileImage.prototype.getGutterInternal=function(){return 0};ol.source.TileImage.prototype.getOpaque=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){return!1}else{return ol.source.UrlTile.prototype.getOpaque.call(this,e)}};ol.source.TileImage.prototype.getTileGridForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,e)}var t=this.getProjection();if(this.tileGrid&&(!t||ol.proj.equivalent(t,e))){return this.tileGrid}else{var r=ol.getUid(e).toString();if(!(r in this.tileGridForProjection)){this.tileGridForProjection[r]=ol.tilegrid.getForProjection(e)}return this.tileGridForProjection[r]}};ol.source.TileImage.prototype.getTileCacheForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,e)}var t=this.getProjection();if(!t||ol.proj.equivalent(t,e)){return this.tileCache}else{var r=ol.getUid(e).toString();if(!(r in this.tileCacheForProjection)){this.tileCacheForProjection[r]=new ol.TileCache(this.tileCache.highWaterMark)}return this.tileCacheForProjection[r]}};ol.source.TileImage.prototype.createTile_=function(e,t,r,o,i,n){var a=[e,t,r],p=this.getTileCoordForTileUrlFunction(a,i),l=p?this.tileUrlFunction(p,o,i):void 0,s=new this.tileClass(a,l!==void 0?ol.TileState.IDLE:ol.TileState.EMPTY,l!==void 0?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);s.key=n;ol.events.listen(s,ol.events.EventType.CHANGE,this.handleTileChange,this);return s};ol.source.TileImage.prototype.getTile=function(e,t,r,o,i){var n=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!n||!i||ol.proj.equivalent(n,i)){return this.getTileInternal(e,t,r,o,n||i)}else{var a=this.getTileCacheForProjection(i),p=[e,t,r],l,s=ol.tilecoord.getKey(p);if(a.containsKey(s)){l=a.get(s)}var y=this.getKey();if(l&&l.key==y){return l}else{var c=this.getTileGridForProjection(n),d=this.getTileGridForProjection(i),g=this.getTileCoordForTileUrlFunction(p,i),m=new ol.reproj.Tile(n,c,i,d,p,g,this.getTilePixelRatio(o),this.getGutterInternal(),function(e,t,r,o){return this.getTileInternal(e,t,r,o,n)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);m.key=y;if(l){m.interimTile=l;m.refreshInterimChain();a.replace(s,m)}else{a.set(s,m)}return m}}};ol.source.TileImage.prototype.getTileInternal=function(e,t,r,o,i){var n=null,a=ol.tilecoord.getKeyZXY(e,t,r),p=this.getKey();if(!this.tileCache.containsKey(a)){n=this.createTile_(e,t,r,o,i,p);this.tileCache.set(a,n)}else{n=this.tileCache.get(a);if(n.key!=p){var l=n;n=this.createTile_(e,t,r,o,i,p);if(l.getState()==ol.TileState.IDLE){n.interimTile=l.interimTile}else{n.interimTile=l}n.refreshInterimChain();this.tileCache.replace(a,n)}}return n};ol.source.TileImage.prototype.setRenderReprojectionEdges=function(e){if(!ol.ENABLE_RASTER_REPROJECTION||this.renderReprojectionEdges_==e){return}this.renderReprojectionEdges_=e;for(var t in this.tileCacheForProjection){this.tileCacheForProjection[t].clear()}this.changed()};ol.source.TileImage.prototype.setTileGridForProjection=function(e,t){if(ol.ENABLE_RASTER_REPROJECTION){var r=ol.proj.get(e);if(r){var o=ol.getUid(r).toString();if(!(o in this.tileGridForProjection)){this.tileGridForProjection[o]=t}}}};ol.source.TileImage.defaultTileLoadFunction=function(e,t){e.getImage().src=t};goog.provide("ol.source.BingMaps");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.BingMaps=function(e){this.hidpi_=e.hidpi!==void 0?e.hidpi:!1;ol.source.TileImage.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition});this.culture_=e.culture!==void 0?e.culture:"en-us";this.maxZoom_=e.maxZoom!==void 0?e.maxZoom:-1;this.apiKey_=e.key;this.imagerySet_=e.imagerySet;var t="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;ol.net.jsonp(t,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")};ol.inherits(ol.source.BingMaps,ol.source.TileImage);ol.source.BingMaps.TOS_ATTRIBUTION="<a class=\"ol-attribution-bing-tos\" href=\"https://www.microsoft.com/maps/product/terms.html\">Terms of Use</a>";ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_};ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_};ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(e){if(200!=e.statusCode||"OK"!=e.statusDescription||"ValidCredentials"!=e.authenticationResultCode||1!=e.resourceSets.length||1!=e.resourceSets[0].resources.length){this.setState(ol.source.State.ERROR);return}var t=e.brandLogoUri;if(-1==t.indexOf("https")){t=t.replace("http","https")}var r=e.resourceSets[0].resources[0],o=-1==this.maxZoom_?r.zoomMax:this.maxZoom_,i=this.getProjection(),n=ol.tilegrid.extentFromProjection(i),a=r.imageWidth==r.imageHeight?r.imageWidth:[r.imageWidth,r.imageHeight],p=ol.tilegrid.createXYZ({extent:n,minZoom:r.zoomMin,maxZoom:o,tileSize:a/(this.hidpi_?2:1)});this.tileGrid=p;var l=this.culture_,s=this.hidpi_;this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(r.imageUrlSubdomains.map(function(e){var t=[0,0,0],o=r.imageUrl.replace("{subdomain}",e).replace("{culture}",l);return function(e){if(!e){}else{ol.tilecoord.createOrUpdate(e[0],e[1],-e[2]-1,t);var r=o;if(s){r+="&dpi=d1&device=mobile"}return r.replace("{quadkey}",ol.tilecoord.quadKey(t))}}}));if(r.imageryProviders){var y=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var t=[],o=e.viewState.zoom;r.imageryProviders.map(function(r){for(var n=!1,a=r.coverageAreas,p=0,l=a.length,s;p<l;++p){s=a[p];if(o>=s.zoomMin&&o<=s.zoomMax){var c=s.bbox,d=[c[1],c[0],c[3],c[2]],g=ol.extent.applyTransform(d,y);if(ol.extent.intersects(g,e.extent)){n=!0;break}}}if(n){t.push(r.attribution)}});t.push(ol.source.BingMaps.TOS_ATTRIBUTION);return t})}this.setLogo(t);this.setState(ol.source.State.READY)};goog.provide("ol.source.XYZ");goog.require("ol");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.XYZ=function(e){var t=e||{},r=t.projection!==void 0?t.projection:"EPSG:3857",o=t.tileGrid!==void 0?t.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:r,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition})};ol.inherits(ol.source.XYZ,ol.source.TileImage);goog.provide("ol.source.CartoDB");goog.require("ol");goog.require("ol.obj");goog.require("ol.source.State");goog.require("ol.source.XYZ");ol.source.CartoDB=function(e){this.account_=e.account;this.mapId_=e.map||"";this.config_=e.config||{};this.templateCache_={};ol.source.XYZ.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,maxZoom:e.maxZoom!==void 0?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,state:ol.source.State.LOADING,wrapX:e.wrapX});this.initializeMap_()};ol.inherits(ol.source.CartoDB,ol.source.XYZ);ol.source.CartoDB.prototype.getConfig=function(){return this.config_};ol.source.CartoDB.prototype.updateConfig=function(e){ol.obj.assign(this.config_,e);this.initializeMap_()};ol.source.CartoDB.prototype.setConfig=function(e){this.config_=e||{};this.initializeMap_()};ol.source.CartoDB.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e]){this.applyTemplate_(this.templateCache_[e]);return}var t="https://"+this.account_+".carto.com/api/v1/map";if(this.mapId_){t+="/named/"+this.mapId_}var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,e));r.addEventListener("error",this.handleInitError_.bind(this));r.open("POST",t);r.setRequestHeader("Content-type","application/json");r.send(JSON.stringify(this.config_))};ol.source.CartoDB.prototype.handleInitResponse_=function(e,t){var r=t.target;if(!r.status||200<=r.status&&300>r.status){var o;try{o=JSON.parse(r.responseText)}catch(e){this.setState(ol.source.State.ERROR);return}this.applyTemplate_(o);this.templateCache_[e]=o;this.setState(ol.source.State.READY)}else{this.setState(ol.source.State.ERROR)}};ol.source.CartoDB.prototype.handleInitError_=function(){this.setState(ol.source.State.ERROR)};ol.source.CartoDB.prototype.applyTemplate_=function(e){var t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)};goog.provide("ol.source.Cluster");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Point");goog.require("ol.source.Vector");ol.source.Cluster=function(e){ol.source.Vector.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,wrapX:e.wrapX});this.resolution=void 0;this.distance=e.distance!==void 0?e.distance:20;this.features=[];this.geometryFunction=e.geometryFunction||function(e){var t=e.getGeometry();ol.asserts.assert(t instanceof ol.geom.Point,10);return t};this.source=e.source;this.source.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh,this)};ol.inherits(ol.source.Cluster,ol.source.Vector);ol.source.Cluster.prototype.getDistance=function(){return this.distance};ol.source.Cluster.prototype.getSource=function(){return this.source};ol.source.Cluster.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r);if(t!==this.resolution){this.clear();this.resolution=t;this.cluster();this.addFeatures(this.features)}};ol.source.Cluster.prototype.setDistance=function(e){this.distance=e;this.refresh()};ol.source.Cluster.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features);ol.source.Vector.prototype.refresh.call(this)};ol.source.Cluster.prototype.cluster=function(){if(this.resolution===void 0){return}this.features.length=0;for(var e=ol.extent.createEmpty(),t=this.distance*this.resolution,r=this.source.getFeatures(),o={},n=0,a=r.length,p;n<a;n++){p=r[n];if(!(ol.getUid(p).toString()in o)){var l=this.geometryFunction(p);if(l){var s=l.getCoordinates();ol.extent.createOrUpdateFromCoordinate(s,e);ol.extent.buffer(e,t,e);var y=this.source.getFeaturesInExtent(e);y=y.filter(function(e){var t=ol.getUid(e).toString();if(!(t in o)){o[t]=!0;return!0}else{return!1}});this.features.push(this.createCluster(y))}}}};ol.source.Cluster.prototype.createCluster=function(e){for(var t=[0,0],r=e.length-1,o;0<=r;--r){o=this.geometryFunction(e[r]);if(o){ol.coordinate.add(t,o.getCoordinates())}else{e.splice(r,1)}}ol.coordinate.scale(t,1/e.length);var n=new ol.Feature(new ol.geom.Point(t));n.set("features",e);return n};goog.provide("ol.uri");ol.uri.appendParams=function(e,t){var r=[];Object.keys(t).forEach(function(e){if(null!==t[e]&&t[e]!==void 0){r.push(e+"="+encodeURIComponent(t[e]))}});var o=r.join("&");e=e.replace(/[?&]$/,"");e=-1===e.indexOf("?")?e+"?":e+"&";return e+o};goog.provide("ol.source.ImageArcGISRest");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageArcGISRest=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions});this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;this.hidpi_=t.hidpi!==void 0?t.hidpi:!0;this.url_=t.url;this.imageLoadFunction_=t.imageLoadFunction!==void 0?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=t.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=t.ratio!==void 0?t.ratio:1.5};ol.inherits(ol.source.ImageArcGISRest,ol.source.Image);ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_};ol.source.ImageArcGISRest.prototype.getImageInternal=function(e,t,r,o){if(this.url_===void 0){return null}t=this.findNearestResolution(t);r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&ol.extent.containsExtent(i.getExtent(),e)){return i}var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ol.obj.assign(n,this.params_);e=e.slice();var a=(e[0]+e[2])/2,p=(e[1]+e[3])/2;if(1!=this.ratio_){var l=this.ratio_*ol.extent.getWidth(e)/2,s=this.ratio_*ol.extent.getHeight(e)/2;e[0]=a-l;e[1]=p-s;e[2]=a+l;e[3]=p+s}var y=t/r,c=Math.ceil(ol.extent.getWidth(e)/y),d=Math.ceil(ol.extent.getHeight(e)/y);e[0]=a-y*c/2;e[2]=a+y*c/2;e[1]=p-y*d/2;e[3]=p+y*d/2;this.imageSize_[0]=c;this.imageSize_[1]=d;var g=this.getRequestUrl_(e,this.imageSize_,r,o,n);this.image_=new ol.Image(e,t,r,g,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(e,t,r,o,i){var n=o.getCode().split(":").pop();i.SIZE=t[0]+","+t[1];i.BBOX=e.join(",");i.BBOXSR=n;i.IMAGESR=n;i.DPI=Math.round(90*r);var a=this.url_,p=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");if(p==a){ol.asserts.assert(!1,50)}return ol.uri.appendParams(p,i)};ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_};ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};ol.source.ImageArcGISRest.prototype.setUrl=function(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};ol.source.ImageArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.image_=null;this.changed()};goog.provide("ol.source.ImageMapGuide");goog.require("ol");goog.require("ol.Image");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageMapGuide=function(e){ol.source.Image.call(this,{projection:e.projection,resolutions:e.resolutions});this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;this.displayDpi_=e.displayDpi!==void 0?e.displayDpi:96;this.params_=e.params||{};this.url_=e.url;this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.hidpi_=e.hidpi!==void 0?e.hidpi:!0;this.metersPerUnit_=e.metersPerUnit!==void 0?e.metersPerUnit:1;this.ratio_=e.ratio!==void 0?e.ratio:1;this.useOverlay_=e.useOverlay!==void 0?e.useOverlay:!1;this.image_=null;this.renderedRevision_=0};ol.inherits(ol.source.ImageMapGuide,ol.source.Image);ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_};ol.source.ImageMapGuide.prototype.getImageInternal=function(e,t,r,o){t=this.findNearestResolution(t);r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&ol.extent.containsExtent(i.getExtent(),e)){return i}if(1!=this.ratio_){e=e.slice();ol.extent.scaleFromCenter(e,this.ratio_)}var n=ol.extent.getWidth(e)/t,a=ol.extent.getHeight(e)/t,p=[n*r,a*r];if(this.url_!==void 0){var l=this.getUrl(this.url_,this.params_,e,p,o);i=new ol.Image(e,t,r,l,this.crossOrigin_,this.imageLoadFunction_);ol.events.listen(i,ol.events.EventType.CHANGE,this.handleImageChange,this)}else{i=null}this.image_=i;this.renderedRevision_=this.getRevision();return i};ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageMapGuide.getScale=function(e,t,r,o){var i=ol.extent.getWidth(e),n=ol.extent.getHeight(e),a=t[0],p=t[1],l=.0254/o;if(p*i>a*n){return i*r/(a*l)}else{return n*r/(p*l)}};ol.source.ImageMapGuide.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.changed()};ol.source.ImageMapGuide.prototype.getUrl=function(e,t,r,o){var i=ol.source.ImageMapGuide.getScale(r,o,this.metersPerUnit_,this.displayDpi_),n=ol.extent.getCenter(r),a={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(o[0]),SETDISPLAYHEIGHT:Math.round(o[1]),SETVIEWSCALE:i,SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]};ol.obj.assign(a,t);return ol.uri.appendParams(e,a)};ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};goog.provide("ol.source.ImageStatic");goog.require("ol");goog.require("ol.Image");goog.require("ol.ImageState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.source.Image");ol.source.ImageStatic=function(e){var t=e.imageExtent,r=e.crossOrigin!==void 0?e.crossOrigin:null,o=e.imageLoadFunction!==void 0?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:ol.proj.get(e.projection)});this.image_=new ol.Image(t,void 0,1,e.url,r,o);this.imageSize_=e.imageSize?e.imageSize:null;ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)};ol.inherits(ol.source.ImageStatic,ol.source.Image);ol.source.ImageStatic.prototype.getImageInternal=function(e){if(ol.extent.intersects(e,this.image_.getExtent())){return this.image_}return null};ol.source.ImageStatic.prototype.handleImageChange=function(e){if(this.image_.getState()==ol.ImageState.LOADED){var t=this.image_.getExtent(),r=this.image_.getImage(),o,i;if(this.imageSize_){o=this.imageSize_[0];i=this.imageSize_[1]}else{o=r.width;i=r.height}var n=ol.extent.getHeight(t)/i,a=Math.ceil(ol.extent.getWidth(t)/n);if(a!=o){var p=ol.dom.createCanvasContext2D(a,i),l=p.canvas;p.drawImage(r,0,0,o,i,0,0,l.width,l.height);this.image_.setImage(l)}}ol.source.Image.prototype.handleImageChange.call(this,e)};goog.provide("ol.source.WMSServerType");ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};goog.provide("ol.source.ImageWMS");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.reproj");goog.require("ol.source.Image");goog.require("ol.source.WMSServerType");goog.require("ol.string");goog.require("ol.uri");ol.source.ImageWMS=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions});this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;this.url_=t.url;this.imageLoadFunction_=t.imageLoadFunction!==void 0?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=t.params||{};this.v13_=!0;this.updateV13_();this.serverType_=t.serverType;this.hidpi_=t.hidpi!==void 0?t.hidpi:!0;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=t.ratio!==void 0?t.ratio:1.5};ol.inherits(ol.source.ImageWMS,ol.source.Image);ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101];ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(e,t,r,o){if(this.url_===void 0){return}var i=ol.proj.get(r),n=this.getProjection();if(n&&n!==i){t=ol.reproj.calculateSourceResolution(n,i,e,t);e=ol.proj.transform(e,i,n)}var a=ol.extent.getForViewAndSize(e,t,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_),p={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(p,this.params_,o);var l=Math.floor((e[0]-a[0])/t),s=Math.floor((a[3]-e[1])/t);p[this.v13_?"I":"X"]=l;p[this.v13_?"J":"Y"]=s;return this.getRequestUrl_(a,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,n||i,p)};ol.source.ImageWMS.prototype.getParams=function(){return this.params_};ol.source.ImageWMS.prototype.getImageInternal=function(e,t,r,o){if(this.url_===void 0){return null}t=this.findNearestResolution(t);if(1!=r&&(!this.hidpi_||this.serverType_===void 0)){r=1}var i=t/r,n=ol.extent.getCenter(e),a=Math.ceil(ol.extent.getWidth(e)/i),p=Math.ceil(ol.extent.getHeight(e)/i),l=ol.extent.getForViewAndSize(n,i,0,[a,p]),s=Math.ceil(this.ratio_*ol.extent.getWidth(e)/i),y=Math.ceil(this.ratio_*ol.extent.getHeight(e)/i),c=ol.extent.getForViewAndSize(n,i,0,[s,y]),d=this.image_;if(d&&this.renderedRevision_==this.getRevision()&&d.getResolution()==t&&d.getPixelRatio()==r&&ol.extent.containsExtent(d.getExtent(),l)){return d}var g={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ol.obj.assign(g,this.params_);this.imageSize_[0]=Math.round(ol.extent.getWidth(c)/i);this.imageSize_[1]=Math.round(ol.extent.getHeight(c)/i);var m=this.getRequestUrl_(c,this.imageSize_,r,o,g);this.image_=new ol.Image(c,t,r,m,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageWMS.prototype.getRequestUrl_=function(e,t,r,o,i){ol.asserts.assert(this.url_!==void 0,9);i[this.v13_?"CRS":"SRS"]=o.getCode();if(!("STYLES"in this.params_)){i.STYLES=""}if(1!=r){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var n=0|90*r+.5;if("FORMAT_OPTIONS"in i){i.FORMAT_OPTIONS+=";dpi:"+n}else{i.FORMAT_OPTIONS="dpi:"+n}break;case ol.source.WMSServerType.MAPSERVER:i.MAP_RESOLUTION=90*r;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:i.DPI=90*r;break;default:ol.asserts.assert(!1,8);break;}}i.WIDTH=t[0];i.HEIGHT=t[1];var a=o.getAxisOrientation(),p;if(this.v13_&&"ne"==a.substr(0,2)){p=[e[1],e[0],e[3],e[2]]}else{p=e}i.BBOX=p.join(",");return ol.uri.appendParams(this.url_,i)};ol.source.ImageWMS.prototype.getUrl=function(){return this.url_};ol.source.ImageWMS.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};ol.source.ImageWMS.prototype.setUrl=function(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};ol.source.ImageWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.updateV13_();this.image_=null;this.changed()};ol.source.ImageWMS.prototype.updateV13_=function(){var e=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=0<=ol.string.compareVersions(e,"1.3")};goog.provide("ol.source.OSM");goog.require("ol");goog.require("ol.source.XYZ");ol.source.OSM=function(e){var t=e||{},r;if(t.attributions!==void 0){r=t.attributions}else{r=[ol.source.OSM.ATTRIBUTION]}var o=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",i=t.url!==void 0?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";ol.source.XYZ.call(this,{attributions:r,cacheSize:t.cacheSize,crossOrigin:o,opaque:t.opaque!==void 0?t.opaque:!0,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:i,wrapX:t.wrapX})};ol.inherits(ol.source.OSM,ol.source.XYZ);ol.source.OSM.ATTRIBUTION="&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors.";goog.provide("ol.ext.pixelworks.Processor");ol.ext.pixelworks.Processor=function(){};(function(){(function(e){'use strict';var a=!0;try{new ImageData(10,10)}catch(e){a=!1}var p=document.createElement("canvas").getContext("2d");function t(e,t,r){if(a){return new ImageData(e,t,r)}else{var o=p.createImageData(t,r);o.data.set(e);return o}}var l={newImageData:t}.newImageData;function r(e){var r=!0;try{new ImageData(10,10)}catch(e){r=!1}function t(e,t,o){if(r){return new ImageData(e,t,o)}else{return{data:e,width:t,height:o}}}return function(r){var o=r.buffers,n=r.meta,a=r.imageOps,p=r.width,l=r.height,s=o.length,y=o[0].byteLength,c,d;if(a){var g=Array(s);for(d=0;d<s;++d){g[d]=t(new Uint8ClampedArray(o[d]),p,l)}c=e(g,n).data}else{c=new Uint8ClampedArray(y);var m=Array(s),u=Array(s);for(d=0;d<s;++d){m[d]=new Uint8ClampedArray(o[d]);u[d]=[0,0,0,0]}for(var _=0;_<y;_+=4){for(var f=0,S;f<s;++f){S=m[f];u[f][0]=S[_];u[f][1]=S[_+1];u[f][2]=S[_+2];u[f][3]=S[_+3]}var x=e(u,n);c[_]=x[0];c[_+1]=x[1];c[_+2]=x[2];c[_+3]=x[3]}}return c.buffer}}function o(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"}),i=o.concat(["var __minion__ = ("+r.toString()+")(",e.operation.toString(),");","self.addEventListener(\"message\", function(event) {","  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(i,{type:"text/javascript"}),a=URL.createObjectURL(n),p=new Worker(a);p.addEventListener("message",t);return p}function i(e,t){var o=r(e.operation);return{postMessage:function postMessage(e){setTimeout(function(){t({data:{buffer:o(e),meta:e.meta}})},0)}}}function n(e){this._imageOps=!!e.imageOps;var t;if(0===e.threads){t=0}else if(this._imageOps){t=1}else{t=e.threads||1}var r=[];if(t){for(var n=0;n<t;++n){r[n]=o(e,this._onWorkerMessage.bind(this,n))}}else{r[0]=i(e,this._onWorkerMessage.bind(this,0))}this._workers=r;this._queue=[];this._maxQueueLength=e.queue||1/0;this._running=0;this._dataLookup={};this._job=null}n.prototype.process=function(e,t,r){this._enqueue({inputs:e,meta:t,callback:r});this._dispatch()};n.prototype.destroy=function(){for(var e in this){this[e]=null}this._destroyed=!0};n.prototype._enqueue=function(e){this._queue.push(e);while(this._queue.length>this._maxQueueLength){this._queue.shift().callback(null,null)}};n.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var e=this._job=this._queue.shift(),t=e.inputs[0].width,r=e.inputs[0].height,o=e.inputs.map(function(e){return e.data.buffer}),n=this._workers.length;this._running=n;if(1===n){this._workers[0].postMessage({buffers:o,meta:e.meta,imageOps:this._imageOps,width:t,height:r},o)}else{for(var a=e.inputs[0].data.length,p=4*Math.ceil(a/4/n),l=0;l<n;++l){for(var s=l*p,y=[],c=0,d=o.length;c<d;++c){y.push(o[l].slice(s,s+p))}this._workers[l].postMessage({buffers:y,meta:e.meta,imageOps:this._imageOps,width:t,height:r},y)}}}};n.prototype._onWorkerMessage=function(e,t){if(this._destroyed){return}this._dataLookup[e]=t.data;--this._running;if(0===this._running){this._resolveJob()}};n.prototype._resolveJob=function(){var e=this._job,t=this._workers.length,r,o;if(1===t){r=new Uint8ClampedArray(this._dataLookup[0].buffer);o=this._dataLookup[0].meta}else{var n=e.inputs[0].data.length;r=new Uint8ClampedArray(n);o=Array(n);for(var a=4*Math.ceil(n/4/t),p=0;p<t;++p){var s=this._dataLookup[p].buffer,y=p*a;r.set(new Uint8ClampedArray(s),y);o[p]=this._dataLookup[p].meta}}this._job=null;this._dataLookup={};e.callback(null,l(r,e.inputs[0].width,e.inputs[0].height),o);this._dispatch()};var s=n;e["default"]={Processor:s};e.Processor=s})(this.pixelworks=this.pixelworks||{})}).call(ol.ext);goog.provide("ol.source.RasterOperationType");ol.source.RasterOperationType={PIXEL:"pixel",IMAGE:"image"};goog.provide("ol.source.Raster");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.TileQueue");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.ext.pixelworks.Processor");goog.require("ol.extent");goog.require("ol.layer.Image");goog.require("ol.layer.Tile");goog.require("ol.obj");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.source.Image");goog.require("ol.source.RasterOperationType");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.transform");ol.source.Raster=function(e){this.worker_=null;this.operationType_=e.operationType!==void 0?e.operationType:ol.source.RasterOperationType.PIXEL;this.threads_=e.threads!==void 0?e.threads:1;this.renderers_=ol.source.Raster.createRenderers_(e.sources);for(var t=0,o=this.renderers_.length;t<o;++t){ol.events.listen(this.renderers_[t],ol.events.EventType.CHANGE,this.changed,this)}this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));for(var n=ol.source.Raster.getLayerStatesArray_(this.renderers_),a={},p=0,l=n.length;p<l;++p){a[ol.getUid(n[p].layer)]=n[p]}this.requestedFrameState_;this.renderedImageCanvas_=null;this.renderedRevision_;this.frameState_={animate:!1,attributions:{},coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:a,layerStatesArray:n,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};ol.source.Image.call(this,{});if(e.operation!==void 0){this.setOperation(e.operation,e.lib)}};ol.inherits(ol.source.Raster,ol.source.Image);ol.source.Raster.prototype.setOperation=function(e,t){this.worker_=new ol.ext.pixelworks.Processor({operation:e,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:t,threads:this.threads_});this.changed()};ol.source.Raster.prototype.updateFrameState_=function(e,t,r){var o=ol.obj.assign({},this.frameState_);o.viewState=ol.obj.assign({},o.viewState);var i=ol.extent.getCenter(e);o.extent=e.slice();o.focus=i;o.size[0]=Math.round(ol.extent.getWidth(e)/t);o.size[1]=Math.round(ol.extent.getHeight(e)/t);o.time=Date.now();o.animate=!1;var n=o.viewState;n.center=i;n.projection=r;n.resolution=t;return o};ol.source.Raster.prototype.allSourcesReady_=function(){for(var e=!0,t,r=0,o=this.renderers_.length;r<o;++r){t=this.renderers_[r].getLayer().getSource();if(t.getState()!==ol.source.State.READY){e=!1;break}}return e};ol.source.Raster.prototype.getImage=function(e,t,r,o){if(!this.allSourcesReady_()){return null}var i=this.updateFrameState_(e,t,o);this.requestedFrameState_=i;if(this.renderedImageCanvas_){var n=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();if(t!==n||!ol.extent.equals(e,a)){this.renderedImageCanvas_=null}}if(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_){this.processSources_()}i.tileQueue.loadMoreTiles(16,16);if(i.animate){requestAnimationFrame(this.changed.bind(this))}return this.renderedImageCanvas_};ol.source.Raster.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.renderers_.length,r=Array(t),o=0,n;o<t;++o){n=ol.source.Raster.getImageData_(this.renderers_[o],e,e.layerStatesArray[o]);if(n){r[o]=n}else{return}}var a={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,e,a));this.worker_.process(r,a,this.onWorkerComplete_.bind(this,e))};ol.source.Raster.prototype.onWorkerComplete_=function(e,t,r,o){if(t||!r){return}var i=e.extent,n=e.viewState.resolution;if(n!==this.requestedFrameState_.viewState.resolution||!ol.extent.equals(i,this.requestedFrameState_.extent)){return}var a;if(this.renderedImageCanvas_){a=this.renderedImageCanvas_.getImage().getContext("2d")}else{var p=Math.round(ol.extent.getWidth(i)/n),l=Math.round(ol.extent.getHeight(i)/n);a=ol.dom.createCanvasContext2D(p,l);this.renderedImageCanvas_=new ol.ImageCanvas(i,n,1,a.canvas)}a.putImageData(r,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,e,o))};ol.source.Raster.getImageData_=function(e,t,r){if(!e.prepareFrame(t,r)){return null}var o=t.size[0],i=t.size[1];if(!ol.source.Raster.context_){ol.source.Raster.context_=ol.dom.createCanvasContext2D(o,i)}else{var n=ol.source.Raster.context_.canvas;if(n.width!==o||n.height!==i){ol.source.Raster.context_=ol.dom.createCanvasContext2D(o,i)}else{ol.source.Raster.context_.clearRect(0,0,o,i)}}e.composeFrame(t,r,ol.source.Raster.context_);return ol.source.Raster.context_.getImageData(0,0,o,i)};ol.source.Raster.context_=null;ol.source.Raster.getLayerStatesArray_=function(e){return e.map(function(e){return e.getLayer().getLayerState()})};ol.source.Raster.createRenderers_=function(e){for(var t=e.length,r=Array(t),o=0;o<t;++o){r[o]=ol.source.Raster.createRenderer_(e[o])}return r};ol.source.Raster.createRenderer_=function(e){var t=null;if(e instanceof ol.source.Tile){t=ol.source.Raster.createTileRenderer_(e)}else if(e instanceof ol.source.Image){t=ol.source.Raster.createImageRenderer_(e)}return t};ol.source.Raster.createImageRenderer_=function(e){var t=new ol.layer.Image({source:e});return new ol.renderer.canvas.ImageLayer(t)};ol.source.Raster.createTileRenderer_=function(e){var t=new ol.layer.Tile({source:e});return new ol.renderer.canvas.TileLayer(t)};ol.source.Raster.Event=function(e,t,r){ol.events.Event.call(this,e);this.extent=t.extent;this.resolution=t.viewState.resolution/t.pixelRatio;this.data=r};ol.inherits(ol.source.Raster.Event,ol.events.Event);ol.source.Raster.prototype.getImageInternal=function(){return null};ol.source.Raster.EventType_={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};goog.provide("ol.source.Stamen");goog.require("ol");goog.require("ol.source.OSM");goog.require("ol.source.XYZ");ol.source.Stamen=function(e){var t=e.layer.indexOf("-"),r=-1==t?e.layer:e.layer.slice(0,t),o=ol.source.Stamen.ProviderConfig[r],i=ol.source.Stamen.LayerConfig[e.layer],n=e.url!==void 0?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+i.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:e.maxZoom!=void 0?e.maxZoom:o.maxZoom,minZoom:e.minZoom!=void 0?e.minZoom:o.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:n,wrapX:e.wrapX})};ol.inherits(ol.source.Stamen,ol.source.XYZ);ol.source.Stamen.ATTRIBUTIONS=["Map tiles by <a href=\"https://stamen.com/\">Stamen Design</a>, under <a href=\"https://creativecommons.org/licenses/by/3.0/\">CC BY 3.0</a>.",ol.source.OSM.ATTRIBUTION];ol.source.Stamen.LayerConfig={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}};ol.source.Stamen.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};goog.provide("ol.source.TileArcGISRest");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.uri");ol.source.TileArcGISRest=function(e){var t=e||{};ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition});this.params_=t.params||{};this.tmpExtent_=ol.extent.createEmpty();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage);ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_){t[e++]=r+"-"+this.params_[r]}return t.join("/")};ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_};ol.source.TileArcGISRest.prototype.getRequestUrl_=function(e,t,r,o,i,n){var a=this.urls;if(!a){return}var p=i.getCode().split(":").pop();n.SIZE=t[0]+","+t[1];n.BBOX=r.join(",");n.BBOXSR=p;n.IMAGESR=p;n.DPI=Math.round(n.DPI?n.DPI*o:90*o);var l;if(1==a.length){l=a[0]}else{var s=ol.math.modulo(ol.tilecoord.hash(e),a.length);l=a[s]}var y=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ol.uri.appendParams(y,n)};ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(e){return e};ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(e,t,r){var o=this.getTileGrid();if(!o){o=this.getTileGridForProjection(r)}if(o.getResolutions().length<=e[0]){return}var i=o.getTileCoordExtent(e,this.tmpExtent_),n=ol.size.toSize(o.getTileSize(e[0]),this.tmpSize);if(1!=t){n=ol.size.scale(n,t,this.tmpSize)}var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};ol.obj.assign(a,this.params_);return this.getRequestUrl_(e,n,i,t,r,a)};ol.source.TileArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.setKey(this.getKeyForParams_())};goog.provide("ol.source.TileDebug");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.size");goog.require("ol.source.Tile");goog.require("ol.tilecoord");ol.source.TileDebug=function(e){ol.source.Tile.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:e.wrapX!==void 0?e.wrapX:!0})};ol.inherits(ol.source.TileDebug,ol.source.Tile);ol.source.TileDebug.prototype.getTile=function(e,t,r){var o=ol.tilecoord.getKeyZXY(e,t,r);if(this.tileCache.containsKey(o)){return this.tileCache.get(o)}else{var i=ol.size.toSize(this.tileGrid.getTileSize(e)),n=[e,t,r],a=this.getTileCoordForTileUrlFunction(n),p=!a?"":this.getTileCoordForTileUrlFunction(a).toString(),l=new ol.source.TileDebug.Tile_(n,i,p);this.tileCache.set(o,l);return l}};ol.source.TileDebug.Tile_=function(e,t,r){ol.Tile.call(this,e,ol.TileState.LOADED);this.tileSize_=t;this.text_=r;this.canvas_=null};ol.inherits(ol.source.TileDebug.Tile_,ol.Tile);ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_){return this.canvas_}else{var e=this.tileSize_,t=ol.dom.createCanvasContext2D(e[0],e[1]);t.strokeStyle="black";t.strokeRect(.5,.5,e[0]+.5,e[1]+.5);t.fillStyle="black";t.textAlign="center";t.textBaseline="middle";t.font="24px sans-serif";t.fillText(this.text_,e[0]/2,e[1]/2);this.canvas_=t.canvas;return t.canvas}};ol.source.TileDebug.Tile_.prototype.load=function(){};goog.provide("ol.source.TileJSON");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.TileJSON=function(e){this.tileJSON_=null;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition});if(e.url){if(e.jsonp){ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this));t.addEventListener("error",this.onXHRError_.bind(this));t.open("GET",e.url);t.send()}}else if(e.tileJSON){this.handleTileJSONResponse(e.tileJSON)}else{ol.asserts.assert(!1,51)}};ol.inherits(ol.source.TileJSON,ol.source.TileImage);ol.source.TileJSON.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||200<=t.status&&300>t.status){var r;try{r=JSON.parse(t.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(r)}else{this.handleTileJSONError()}};ol.source.TileJSON.prototype.onXHRError_=function(){this.handleTileJSONError()};ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_};ol.source.TileJSON.prototype.handleTileJSONResponse=function(e){var t=ol.proj.get("EPSG:4326"),r=this.getProjection(),o;if(e.bounds!==void 0){var i=ol.proj.getTransformFromProjections(t,r);o=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0,a=e.maxzoom||22,p=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:a,minZoom:n});this.tileGrid=p;this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(e.tiles,p);if(e.attribution!==void 0&&!this.getAttributions2()){var l=o!==void 0?o:t.getExtent();this.setAttributions(function(t){if(ol.extent.intersects(l,t.extent)){return[e.attribution]}return null})}this.tileJSON_=e;this.setState(ol.source.State.READY)};ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};goog.provide("ol.source.TileUTFGrid");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.TileUTFGrid=function(e){ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING});this.preemptive_=e.preemptive!==void 0?e.preemptive:!0;this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction;this.template_=void 0;this.jsonp_=e.jsonp||!1;if(e.url){if(this.jsonp_){ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this));t.addEventListener("error",this.onXHRError_.bind(this));t.open("GET",e.url);t.send()}}else if(e.tileJSON){this.handleTileJSONResponse(e.tileJSON)}else{ol.asserts.assert(!1,51)}};ol.inherits(ol.source.TileUTFGrid,ol.source.Tile);ol.source.TileUTFGrid.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||200<=t.status&&300>t.status){var r;try{r=JSON.parse(t.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(r)}else{this.handleTileJSONError()}};ol.source.TileUTFGrid.prototype.onXHRError_=function(){this.handleTileJSONError()};ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_};ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,t,r,o,i){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(e,t),a=this.getTile(n[0],n[1],n[2],1,this.getProjection());a.forDataAtCoordinate(e,r,o,i)}else{if(!0===i){setTimeout(function(){r.call(o,null)},0)}else{r.call(o,null)}}};ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(e){var t=ol.proj.get("EPSG:4326"),r=this.getProjection(),o;if(e.bounds!==void 0){var i=ol.proj.getTransformFromProjections(t,r);o=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0,a=e.maxzoom||22,p=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(r),maxZoom:a,minZoom:n});this.tileGrid=p;this.template_=e.template;var l=e.grids;if(!l){this.setState(ol.source.State.ERROR);return}this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(l,p);if(e.attribution!==void 0){var s=o!==void 0?o:t.getExtent();this.setAttributions(function(t){if(ol.extent.intersects(s,t.extent)){return[e.attribution]}return null})}this.setState(ol.source.State.READY)};ol.source.TileUTFGrid.prototype.getTile=function(e,t,r,o,i){var n=ol.tilecoord.getKeyZXY(e,t,r);if(this.tileCache.containsKey(n)){return this.tileCache.get(n)}else{var a=[e,t,r],p=this.getTileCoordForTileUrlFunction(a,i),l=this.tileUrlFunction_(p,o,i),s=new ol.source.TileUTFGrid.Tile_(a,l!==void 0?ol.TileState.IDLE:ol.TileState.EMPTY,l!==void 0?l:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);this.tileCache.set(n,s);return s}};ol.source.TileUTFGrid.prototype.useTile=function(e,t,r){var o=ol.tilecoord.getKeyZXY(e,t,r);if(this.tileCache.containsKey(o)){this.tileCache.get(o)}};ol.source.TileUTFGrid.Tile_=function(e,t,r,o,i,n){ol.Tile.call(this,e,t);this.src_=r;this.extent_=o;this.preemptive_=i;this.grid_=null;this.keys_=null;this.data_=null;this.jsonp_=n};ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile);ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null};ol.source.TileUTFGrid.Tile_.prototype.getData=function(e){if(!this.grid_||!this.keys_){return null}var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),o=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof o){return null}var i=o.charCodeAt(Math.floor(t*o.length));if(93<=i){i--}if(35<=i){i--}i-=32;var n=null;if(i in this.keys_){var a=this.keys_[i];if(this.data_&&a in this.data_){n=this.data_[a]}else{n=a}}return n};ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(e,t,r,o){if(this.state==ol.TileState.IDLE&&!0===o){ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(){t.call(r,this.getData(e))},this);this.loadInternal_()}else{if(!0===o){setTimeout(function(){t.call(r,this.getData(e))}.bind(this),0)}else{t.call(r,this.getData(e))}}};ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_};ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(e){this.grid_=e.grid;this.keys_=e.keys;this.data_=e.data;this.state=ol.TileState.EMPTY;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;if(this.jsonp_){ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this))}else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this));e.addEventListener("error",this.onXHRError_.bind(this));e.open("GET",this.src_);e.send()}}};ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||200<=t.status&&300>t.status){var r;try{r=JSON.parse(t.responseText)}catch(e){this.handleError_();return}this.handleLoad_(r)}else{this.handleError_()}};ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(){this.handleError_()};ol.source.TileUTFGrid.Tile_.prototype.load=function(){if(this.preemptive_){this.loadInternal_()}};goog.provide("ol.source.TileWMS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.reproj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.source.WMSServerType");goog.require("ol.tilecoord");goog.require("ol.string");goog.require("ol.uri");ol.source.TileWMS=function(e){var t=e||{},r=t.params||{},o="TRANSPARENT"in r?r.TRANSPARENT:!0;ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!o,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition});this.gutter_=t.gutter!==void 0?t.gutter:0;this.params_=r;this.v13_=!0;this.serverType_=t.serverType;this.hidpi_=t.hidpi!==void 0?t.hidpi:!0;this.tmpExtent_=ol.extent.createEmpty();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileWMS,ol.source.TileImage);ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,t,r,o){var i=ol.proj.get(r),n=this.getProjection(),a=this.getTileGrid();if(!a){a=this.getTileGridForProjection(i)}var p=a.getTileCoordForCoordAndResolution(e,t);if(a.getResolutions().length<=p[0]){return}var l=a.getResolution(p[0]),s=a.getTileCoordExtent(p,this.tmpExtent_),c=ol.size.toSize(a.getTileSize(p[0]),this.tmpSize),d=this.gutter_;if(0!==d){c=ol.size.buffer(c,d,this.tmpSize);s=ol.extent.buffer(s,l*d,s)}if(n&&n!==i){l=ol.reproj.calculateSourceResolution(n,i,e,l);s=ol.proj.transformExtent(s,i,n);e=ol.proj.transform(e,i,n)}var g={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};ol.obj.assign(g,this.params_,o);var m=Math.floor((e[0]-s[0])/l),u=Math.floor((s[3]-e[1])/l);g[this.v13_?"I":"X"]=m;g[this.v13_?"J":"Y"]=u;return this.getRequestUrl_(p,c,s,1,n||i,g)};ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_};ol.source.TileWMS.prototype.getParams=function(){return this.params_};ol.source.TileWMS.prototype.getRequestUrl_=function(e,t,r,o,i,n){var a=this.urls;if(!a){return}n.WIDTH=t[0];n.HEIGHT=t[1];n[this.v13_?"CRS":"SRS"]=i.getCode();if(!("STYLES"in this.params_)){n.STYLES=""}if(1!=o){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var p=0|90*o+.5;if("FORMAT_OPTIONS"in n){n.FORMAT_OPTIONS+=";dpi:"+p}else{n.FORMAT_OPTIONS="dpi:"+p}break;case ol.source.WMSServerType.MAPSERVER:n.MAP_RESOLUTION=90*o;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:n.DPI=90*o;break;default:ol.asserts.assert(!1,52);break;}}var l=i.getAxisOrientation(),s=r;if(this.v13_&&"ne"==l.substr(0,2)){var y=r[0];s[0]=r[1];s[1]=y;y=r[2];s[2]=r[3];s[3]=y}n.BBOX=s.join(",");var c;if(1==a.length){c=a[0]}else{var d=ol.math.modulo(ol.tilecoord.hash(e),a.length);c=a[d]}return ol.uri.appendParams(c,n)};ol.source.TileWMS.prototype.getTilePixelRatio=function(e){return!this.hidpi_||this.serverType_===void 0?1:e};ol.source.TileWMS.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_){t[e++]=r+"-"+this.params_[r]}return t.join("/")};ol.source.TileWMS.prototype.fixedTileUrlFunction=function(e,t,r){var o=this.getTileGrid();if(!o){o=this.getTileGridForProjection(r)}if(o.getResolutions().length<=e[0]){return}if(1!=t&&(!this.hidpi_||this.serverType_===void 0)){t=1}var i=o.getResolution(e[0]),n=o.getTileCoordExtent(e,this.tmpExtent_),a=ol.size.toSize(o.getTileSize(e[0]),this.tmpSize),p=this.gutter_;if(0!==p){a=ol.size.buffer(a,p,this.tmpSize);n=ol.extent.buffer(n,i*p,n)}if(1!=t){a=ol.size.scale(a,t,this.tmpSize)}var l={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};ol.obj.assign(l,this.params_);return this.getRequestUrl_(e,a,n,t,r,l)};ol.source.TileWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.updateV13_();this.setKey(this.getKeyForParams_())};ol.source.TileWMS.prototype.updateV13_=function(){var e=this.params_.VERSION||ol.DEFAULT_WMS_VERSION;this.v13_=0<=ol.string.compareVersions(e,"1.3")};goog.provide("ol.VectorImageTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.extent");goog.require("ol.events.EventType");goog.require("ol.featureloader");ol.VectorImageTile=function(e,t,r,o,i,n,a,p,l,s,y,c,d,g,m){ol.Tile.call(this,e,t,m);this.context_={};this.loader_;this.replayState_={};this.sourceTiles_=s;this.tileKeys=[];this.sourceRevision_=r;this.wrappedTileCoord=n;this.loadListenerKeys_=[];this.sourceTileListenerKeys_=[];if(n){var u=l.getTileCoordExtent(n),_=l.getResolution(e[0]),f=p.getZForResolution(_);p.forEachTileCoord(u,f,function(e){var t=ol.extent.getIntersection(u,p.getTileCoordExtent(e)),r=p.getExtent();if(r){t=ol.extent.getIntersection(t,r)}if(.5<=ol.extent.getWidth(t)/_&&.5<=ol.extent.getHeight(t)/_){var n=e.toString(),l=s[n];if(!l){var m=a(e,y,c);l=s[n]=new d(e,m==void 0?ol.TileState.EMPTY:ol.TileState.IDLE,m==void 0?"":m,o,i);this.sourceTileListenerKeys_.push(ol.events.listen(l,ol.events.EventType.CHANGE,g))}l.consumers++;this.tileKeys.push(n)}}.bind(this))}};ol.inherits(ol.VectorImageTile,ol.Tile);ol.VectorImageTile.prototype.disposeInternal=function(){for(var e=0,t=this.tileKeys.length;e<t;++e){var r=this.tileKeys[e],o=this.getTile(r);o.consumers--;if(0==o.consumers){delete this.sourceTiles_[r];o.dispose()}}this.tileKeys.length=0;this.sourceTiles_=null;this.loadListenerKeys_.forEach(ol.events.unlistenByKey);this.loadListenerKeys_.length=0;if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();this.sourceTileListenerKeys_.forEach(ol.events.unlistenByKey);this.sourceTileListenerKeys_.length=0;ol.Tile.prototype.disposeInternal.call(this)};ol.VectorImageTile.prototype.getContext=function(e){var t=ol.getUid(e).toString();if(!(t in this.context_)){this.context_[t]=ol.dom.createCanvasContext2D()}return this.context_[t]};ol.VectorImageTile.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas};ol.VectorImageTile.prototype.getReplayState=function(e){var t=ol.getUid(e).toString();if(!(t in this.replayState_)){this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}}return this.replayState_[t]};ol.VectorImageTile.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_};ol.VectorImageTile.prototype.getTile=function(e){return this.sourceTiles_[e]};ol.VectorImageTile.prototype.load=function(){var e=0,t={};if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING)}if(this.state==ol.TileState.LOADING){this.tileKeys.forEach(function(r){var o=this.getTile(r);if(o.state==ol.TileState.IDLE){o.setLoader(this.loader_);o.load()}if(o.state==ol.TileState.LOADING){var i=ol.events.listen(o,ol.events.EventType.CHANGE,function(){var r=o.getState();if(r==ol.TileState.LOADED||r==ol.TileState.ERROR){var i=ol.getUid(o);if(r==ol.TileState.ERROR){t[i]=!0}else{--e;delete t[i]}if(0==e-Object.keys(t).length){this.finishLoading_()}}}.bind(this));this.loadListenerKeys_.push(i);++e}}.bind(this))}if(0==e-Object.keys(t).length){setTimeout(this.finishLoading_.bind(this),0)}};ol.VectorImageTile.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,t=0,r=e-1,o;0<=r;--r){o=this.getTile(this.tileKeys[r]).getState();if(o!=ol.TileState.LOADED){--e}if(o==ol.TileState.EMPTY){++t}}if(e==this.tileKeys.length){this.loadListenerKeys_.forEach(ol.events.unlistenByKey);this.loadListenerKeys_.length=0;this.setState(ol.TileState.LOADED)}else{this.setState(t==this.tileKeys.length?ol.TileState.EMPTY:ol.TileState.ERROR)}};ol.VectorImageTile.defaultLoadFunction=function(e,t){var r=ol.featureloader.loadFeaturesXhr(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(r)};goog.provide("ol.VectorTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");ol.VectorTile=function(e,t,r,o,i,n){ol.Tile.call(this,e,t,n);this.consumers=0;this.extent_=null;this.format_=o;this.features_=null;this.loader_;this.projection_;this.replayGroups_={};this.tileLoadFunction_=i;this.url_=r};ol.inherits(ol.VectorTile,ol.Tile);ol.VectorTile.prototype.disposeInternal=function(){this.features_=null;this.replayGroups_={};this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.VectorTile.prototype.getExtent=function(){return this.extent_||ol.VectorTile.DEFAULT_EXTENT};ol.VectorTile.prototype.getFormat=function(){return this.format_};ol.VectorTile.prototype.getFeatures=function(){return this.features_};ol.VectorTile.prototype.getKey=function(){return this.url_};ol.VectorTile.prototype.getProjection=function(){return this.projection_};ol.VectorTile.prototype.getReplayGroup=function(e,t){return this.replayGroups_[ol.getUid(e)+","+t]};ol.VectorTile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING);this.tileLoadFunction_(this,this.url_);this.loader_(null,NaN,null)}};ol.VectorTile.prototype.onLoad=function(e,t,r){this.setProjection(t);this.setFeatures(e);this.setExtent(r)};ol.VectorTile.prototype.onError=function(){this.setState(ol.TileState.ERROR)};ol.VectorTile.prototype.setExtent=function(e){this.extent_=e};ol.VectorTile.prototype.setFeatures=function(e){this.features_=e;this.setState(ol.TileState.LOADED)};ol.VectorTile.prototype.setProjection=function(e){this.projection_=e};ol.VectorTile.prototype.setReplayGroup=function(e,t,r){this.replayGroups_[ol.getUid(e)+","+t]=r};ol.VectorTile.prototype.setLoader=function(e){this.loader_=e};ol.VectorTile.DEFAULT_EXTENT=[0,0,4096,4096];goog.provide("ol.source.VectorTile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.VectorImageTile");goog.require("ol.VectorTile");goog.require("ol.size");goog.require("ol.source.UrlTile");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.VectorTile=function(e){var t=e.projection||"EPSG:3857",r=e.extent||ol.tilegrid.extentFromProjection(t),o=e.tileGrid||ol.tilegrid.createXYZ({extent:r,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize!==void 0?e.cacheSize:128,extent:r,logo:e.logo,opaque:!1,projection:t,state:e.state,tileGrid:o,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.VectorImageTile.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition});this.format_=e.format?e.format:null;this.sourceTiles_={};this.overlaps_=e.overlaps==void 0?!0:e.overlaps;this.tileClass=e.tileClass?e.tileClass:ol.VectorTile;this.tileGrids_={}};ol.inherits(ol.source.VectorTile,ol.source.UrlTile);ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_};ol.source.VectorTile.prototype.clear=function(){this.tileCache.clear();this.sourceTiles_={}};ol.source.VectorTile.prototype.getTile=function(e,t,r,o,i){var n=ol.tilecoord.getKeyZXY(e,t,r);if(this.tileCache.containsKey(n)){return this.tileCache.get(n)}else{var a=[e,t,r],p=this.getTileCoordForTileUrlFunction(a,i),l=new ol.VectorImageTile(a,null!==p?ol.TileState.IDLE:ol.TileState.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,p,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(i),this.sourceTiles_,o,i,this.tileClass,this.handleTileChange.bind(this),this.tileOptions);this.tileCache.set(n,l);return l}};ol.source.VectorTile.prototype.getTileGridForProjection=function(e){var t=e.getCode(),r=this.tileGrids_[t];if(!r){var o=this.tileGrid;r=this.tileGrids_[t]=ol.tilegrid.createForProjection(e,void 0,o?o.getTileSize(o.getMinZoom()):void 0)}return r};ol.source.VectorTile.prototype.getTilePixelRatio=function(e){return e};ol.source.VectorTile.prototype.getTilePixelSize=function(e,t,r){var o=ol.size.toSize(this.getTileGridForProjection(r).getTileSize(e));return[Math.round(o[0]*t),Math.round(o[1]*t)]};goog.provide("ol.source.WMTSRequestEncoding");ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"};goog.provide("ol.tilegrid.WMTS");goog.require("ol");goog.require("ol.array");goog.require("ol.proj");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.WMTS=function(e){this.matrixIds_=e.matrixIds;ol.tilegrid.TileGrid.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid);ol.tilegrid.WMTS.prototype.getMatrixId=function(e){return this.matrixIds_[e]};ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_};ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(e,t,r){var o=[],i=[],n=[],a=[],p=[],l=r!==void 0?r:[],s="TileMatrix",y="Identifier",c="ScaleDenominator",d="TopLeftCorner",g;g=ol.proj.get(e["SupportedCRS"].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=g.getMetersPerUnit(),u="ne"==g.getAxisOrientation().substr(0,2);e[s].sort(function(e,t){return t[c]-e[c]});e[s].forEach(function(e){var t;if(0<l.length){t=ol.array.find(l,function(t){return e[y]==t[s]})}else{t=!0}if(t){i.push(e[y]);var r=28e-5*e[c]/m,g=e["TileWidth"],_=e["TileHeight"];if(u){n.push([e[d][1],e[d][0]])}else{n.push(e[d])}o.push(r);a.push(g==_?g:[g,_]);p.push([e.MatrixWidth,-e.MatrixHeight])}});return new ol.tilegrid.WMTS({extent:t,origins:n,resolutions:o,matrixIds:i,tileSizes:a,sizes:p})};goog.provide("ol.source.WMTS");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.source.TileImage");goog.require("ol.source.WMTSRequestEncoding");goog.require("ol.tilegrid.WMTS");goog.require("ol.uri");ol.source.WMTS=function(e){this.version_=e.version!==void 0?e.version:"1.0.0";this.format_=e.format!==void 0?e.format:"image/jpeg";this.dimensions_=e.dimensions!==void 0?e.dimensions:{};this.layer_=e.layer;this.matrixSet_=e.matrixSet;this.style_=e.style;var t=e.urls;if(t===void 0&&e.url!==void 0){t=ol.TileUrlFunction.expandUrl(e.url)}this.requestEncoding_=e.requestEncoding!==void 0?e.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var r=this.requestEncoding_,o=e.tileGrid,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};if(r==ol.source.WMTSRequestEncoding.KVP){ol.obj.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_})}var n=this.dimensions_;var a=t&&0<t.length?ol.TileUrlFunction.createFromTileUrlFunctions(t.map(function(e){e=r==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(e,i):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in i?i[t.toLowerCase()]:e});return function(t){if(!t){}else{var i={TileMatrix:o.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};ol.obj.assign(i,n);var a=e;if(r==ol.source.WMTSRequestEncoding.KVP){a=ol.uri.appendParams(a,i)}else{a=a.replace(/\{(\w+?)\}/g,function(e,t){return i[t]})}return a}}})):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:a,urls:t,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition});this.setKey(this.getKeyForDimensions_())};ol.inherits(ol.source.WMTS,ol.source.TileImage);ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_};ol.source.WMTS.prototype.getFormat=function(){return this.format_};ol.source.WMTS.prototype.getLayer=function(){return this.layer_};ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_};ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_};ol.source.WMTS.prototype.getStyle=function(){return this.style_};ol.source.WMTS.prototype.getVersion=function(){return this.version_};ol.source.WMTS.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var r in this.dimensions_){t[e++]=r+"-"+this.dimensions_[r]}return t.join("/")};ol.source.WMTS.prototype.updateDimensions=function(e){ol.obj.assign(this.dimensions_,e);this.setKey(this.getKeyForDimensions_())};ol.source.WMTS.optionsFromCapabilities=function(e,t){var r=e.Contents.Layer,o=ol.array.find(r,function(e){return e.Identifier==t.layer});if(null===o){return null}var n=e.Contents.TileMatrixSet,a,p,l;if(1<o.TileMatrixSetLink.length){if("projection"in t){a=ol.array.findIndex(o.TileMatrixSetLink,function(e){var r=ol.array.find(n,function(t){return t.Identifier==e.TileMatrixSet}),o=r.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),i=ol.proj.get(o),a=ol.proj.get(t.projection);if(i&&a){return ol.proj.equivalent(i,a)}else{return o==t.projection}})}else{a=ol.array.findIndex(o.TileMatrixSetLink,function(e){return e.TileMatrixSet==t.matrixSet})}}else{a=0}if(0>a){a=0}p=o.TileMatrixSetLink[a].TileMatrixSet;l=o.TileMatrixSetLink[a].TileMatrixSetLimits;var s=o.Format[0];if("format"in t){s=t.format}a=ol.array.findIndex(o.Style,function(e){if("style"in t){return e.Title==t.style}else{return e.isDefault}});if(0>a){a=0}var y=o.Style[a].Identifier,c={};if("Dimension"in o){o.Dimension.forEach(function(e){var t=e.Identifier,r=e.Default;if(r===void 0){r=e.Value[0]}c[t]=r})}var d=e.Contents.TileMatrixSet,g=ol.array.find(d,function(e){return e.Identifier==p}),m;if("projection"in t){m=ol.proj.get(t.projection)}else{m=ol.proj.get(g.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))}var u=o.WGS84BoundingBox,_,f;if(u!==void 0){var S=ol.proj.get("EPSG:4326").getExtent();f=u[0]==S[0]&&u[2]==S[2];_=ol.proj.transformExtent(u,"EPSG:4326",m);var x=m.getExtent();if(x){if(!ol.extent.containsExtent(x,_)){_=void 0}}}var P=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(g,_,l),T=[],E=t.requestEncoding;E=E!==void 0?E:"";if("OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata){for(var h=e.OperationsMetadata.GetTile.DCP.HTTP.Get,v=0,R=h.length;v<R;++v){var C=ol.array.find(h[v].Constraint,function(e){return"GetEncoding"==e.name}),L=C.AllowedValues.Value;if(""===E){E=L[0]}if(E===ol.source.WMTSRequestEncoding.KVP){if(ol.array.includes(L,ol.source.WMTSRequestEncoding.KVP)){T.push(h[v].href)}}else{break}}}if(0===T.length){E=ol.source.WMTSRequestEncoding.REST;o.ResourceURL.forEach(function(e){if("tile"===e.resourceType){s=e.format;T.push(e.template)}})}return{urls:T,layer:t.layer,matrixSet:p,format:s,projection:m,requestEncoding:E,tileGrid:P,style:y,dimensions:c,wrapX:f,crossOrigin:t.crossOrigin}};goog.provide("ol.source.Zoomify");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.tilegrid.TileGrid");ol.source.Zoomify=function(e){var t=e||{},r=t.size,o=t.tierSizeCalculation!==void 0?t.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT,n=r[0],a=r[1],p=t.extent||[0,-r[1],r[0],0],l=[],s=t.tileSize||ol.DEFAULT_TILE_SIZE,y=s;switch(o){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:while(n>y||a>y){l.push([Math.ceil(n/y),Math.ceil(a/y)]);y+=y}break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:var c=n,d=a;while(c>y||d>y){l.push([Math.ceil(c/y),Math.ceil(d/y)]);c>>=1;d>>=1}break;default:ol.asserts.assert(!1,53);break;}l.push([1,1]);l.reverse();var g=[1],m=[0],u,_;for(u=1,_=l.length;u<_;u++){g.push(1<<u);m.push(l[u-1][0]*l[u-1][1]+m[u-1])}g.reverse();var f=new ol.tilegrid.TileGrid({tileSize:s,extent:p,origin:ol.extent.getTopLeft(p),resolutions:g}),S=t.url;if(S&&-1==S.indexOf("{TileGroup}")&&-1==S.indexOf("{tileIndex}")){S+="{TileGroup}/{z}-{x}-{y}.jpg"}var x=ol.TileUrlFunction.expandUrl(S);var P=ol.TileUrlFunction.createFromTileUrlFunctions(x.map(function(e){return function(t){if(!t){}else{var r=t[0],o=t[1],i=-t[2]-1,n=o+i*l[r][0],a=f.getTileSize(r),p=0|(n+m[r])/a,s={z:r,x:o,y:i,tileIndex:n,TileGroup:"TileGroup"+p};return e.replace(/\{(\w+?)\}/g,function(e,t){return s[t]})}}})),T=ol.source.Zoomify.Tile_.bind(null,f);ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:T,tileGrid:f,tileUrlFunction:P,transition:t.transition})};ol.inherits(ol.source.Zoomify,ol.source.TileImage);ol.source.Zoomify.Tile_=function(e,t,r,o,i,n,a){ol.ImageTile.call(this,t,r,o,i,n,a);this.zoomifyImage_=null;this.tileSize_=ol.size.toSize(e.getTileSize(t[0]))};ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile);ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_){return this.zoomifyImage_}var e=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){var t=this.tileSize_;if(e.width==t[0]&&e.height==t[1]){this.zoomifyImage_=e;return e}else{var r=ol.dom.createCanvasContext2D(t[0],t[1]);r.drawImage(e,0,0);this.zoomifyImage_=r.canvas;return r.canvas}}else{return e}};ol.source.Zoomify.TierSizeCalculation_={DEFAULT:"default",TRUNCATED:"truncated"};goog.provide("ol.ext.vectortile.VectorTile");ol.ext.vectortile.VectorTile=function(){};(function(){(function(e){'use strict';function t(e,t){this.x=e;this.y=t}t.prototype={clone:function clone(){return new t(this.x,this.y)},add:function add(e){return this.clone()._add(e)},sub:function sub(e){return this.clone()._sub(e)},multByPoint:function multByPoint(e){return this.clone()._multByPoint(e)},divByPoint:function divByPoint(e){return this.clone()._divByPoint(e)},mult:function mult(e){return this.clone()._mult(e)},div:function div(e){return this.clone()._div(e)},rotate:function rotate(e){return this.clone()._rotate(e)},rotateAround:function rotateAround(e,t){return this.clone()._rotateAround(e,t)},matMult:function matMult(e){return this.clone()._matMult(e)},unit:function unit(){return this.clone()._unit()},perp:function perp(){return this.clone()._perp()},round:function round(){return this.clone()._round()},mag:function mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function equals(e){return this.x===e.x&&this.y===e.y},dist:function dist(e){return Math.sqrt(this.distSqr(e))},distSqr:function distSqr(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function angle(){return Math.atan2(this.y,this.x)},angleTo:function angleTo(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function angleWith(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function angleWithSep(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function _matMult(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;this.x=t;this.y=r;return this},_add:function _add(e){this.x+=e.x;this.y+=e.y;return this},_sub:function _sub(e){this.x-=e.x;this.y-=e.y;return this},_mult:function _mult(e){this.x*=e;this.y*=e;return this},_div:function _div(e){this.x/=e;this.y/=e;return this},_multByPoint:function _multByPoint(e){this.x*=e.x;this.y*=e.y;return this},_divByPoint:function _divByPoint(e){this.x/=e.x;this.y/=e.y;return this},_unit:function _unit(){this._div(this.mag());return this},_perp:function _perp(){var e=this.y;this.y=this.x;this.x=-e;return this},_rotate:function _rotate(e){var t=Math.cos(e),r=Math.sin(e),o=t*this.x-r*this.y,i=r*this.x+t*this.y;this.x=o;this.y=i;return this},_rotateAround:function _rotateAround(e,t){var r=Math.cos(e),o=Math.sin(e),i=t.x+r*(this.x-t.x)-o*(this.y-t.y),n=t.y+o*(this.x-t.x)+r*(this.y-t.y);this.x=i;this.y=n;return this},_round:function _round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};t.convert=function(e){if(e instanceof t){return e}if(Array.isArray(e)){return new t(e[0],e[1])}return e};var c=r;function r(e,t,r,i,n){this.properties={};this.extent=r;this.type=0;this._pbf=e;this._geometry=-1;this._keys=i;this._values=n;e.readFields(o,this,t)}function o(e,t,r){if(1==e)t.id=r.readVarint();else if(2==e)i(r,t);else if(3==e)t.type=r.readVarint();else if(4==e)t._geometry=r.pos}function i(e,t){var r=e.readVarint()+e.pos;while(e.pos<r){var o=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[o]=i}}r.types=["Unknown","Point","LineString","Polygon"];r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;var r=e.readVarint()+e.pos,o=1,i=0,n=0,a=0,p=[],l;while(e.pos<r){if(!i){var s=e.readVarint();o=7&s;i=s>>3}i--;if(1==o||2==o){n+=e.readSVarint();a+=e.readSVarint();if(1==o){if(l)p.push(l);l=[]}l.push(new t(n,a))}else if(7==o){if(l){l.push(l[0].clone())}}else{throw new Error("unknown command "+o)}}if(l)p.push(l);return p};r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;var t=e.readVarint()+e.pos,r=1,o=0,i=0,n=0,a=1/0,p=-Infinity,l=1/0,s=-Infinity;while(e.pos<t){if(!o){var c=e.readVarint();r=7&c;o=c>>3}o--;if(1==r||2==r){i+=e.readSVarint();n+=e.readSVarint();if(i<a)a=i;if(i>p)p=i;if(n<l)l=n;if(n>s)s=n}else if(7!=r){throw new Error("unknown command "+r)}}return[a,l,p,s]};r.prototype.toGeoJSON=function(e,t,o){var l=this.extent*Math.pow(2,o),s=this.extent*e,y=this.extent*t,p=this.loadGeometry(),c=r.types[this.type],d,g;function a(e){for(var t=0;t<e.length;t++){var r=e[t],o=180-360*(r.y+y)/l;e[t]=[360*(r.x+s)/l-180,360/Math.PI*Math.atan(Math.exp(o*Math.PI/180))-90]}}switch(this.type){case 1:var m=[];for(d=0;d<p.length;d++){m[d]=p[d][0]}p=m;a(p);break;case 2:for(d=0;d<p.length;d++){a(p[d])}break;case 3:p=n(p);for(d=0;d<p.length;d++){for(g=0;g<p[d].length;g++){a(p[d][g])}}break;}if(1===p.length){p=p[0]}else{c="Multi"+c}var u={type:"Feature",geometry:{type:c,coordinates:p},properties:this.properties};if("id"in this){u.id=this.id}return u};function n(e){var t=e.length;if(1>=t)return[e];for(var r=[],o,n,p=0,l;p<t;p++){l=a(e[p]);if(0===l)continue;if(n===void 0)n=0>l;if(n===0>l){if(o)r.push(o);o=[e[p]]}else{o.push(e[p])}}if(o)r.push(o);return r}function a(e){for(var t=0,r=0,o=e.length,n=o-1,a,p;r<o;n=r++){a=e[r];p=e[n];t+=(p.x-a.x)*(a.y+p.y)}return t}var d=p;function p(e,t){this.version=1;this.name=null;this.extent=4096;this.length=0;this._pbf=e;this._keys=[];this._values=[];this._features=[];e.readFields(l,this,t);this.length=this._features.length}function l(e,t,r){if(15===e)t.version=r.readVarint();else if(1===e)t.name=r.readString();else if(5===e)t.extent=r.readVarint();else if(2===e)t._features.push(r.pos);else if(3===e)t._keys.push(r.readString());else if(4===e)t._values.push(s(r))}function s(e){var t=null,r=e.readVarint()+e.pos;while(e.pos<r){var o=e.readVarint()>>3;t=1==o?e.readString():2==o?e.readFloat():3==o?e.readDouble():4==o?e.readVarint64():5==o?e.readVarint():6==o?e.readSVarint():7==o?e.readBoolean():null}return t}p.prototype.feature=function(e){if(0>e||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new c(this._pbf,t,this.extent,this._keys,this._values)};function y(e,t,r){if(3===e){var o=new d(r,r.readVarint()+r.pos);if(o.length)t[o.name]=o}}var g=function(e,t){this.layers=e.readFields(y,{},t)},m=c,u=d;e["default"]={VectorTile:g,VectorTileFeature:m,VectorTileLayer:u};e.VectorTile=g;e.VectorTileFeature=m;e.VectorTileLayer=u})(this.vectortile=this.vectortile||{})}).call(ol.ext);goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]);goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]);goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]);goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]);goog.require("ol");goog.require("ol.AssertionError");goog.require("ol.Attribution");goog.require("ol.CanvasMap");goog.require("ol.Collection");goog.require("ol.DeviceOrientation");goog.require("ol.Feature");goog.require("ol.Geolocation");goog.require("ol.Graticule");goog.require("ol.Image");goog.require("ol.ImageTile");goog.require("ol.Kinetic");goog.require("ol.Map");goog.require("ol.MapBrowserEvent");goog.require("ol.MapEvent");goog.require("ol.Object");goog.require("ol.Observable");goog.require("ol.Overlay");goog.require("ol.PluggableMap");goog.require("ol.Sphere");goog.require("ol.Tile");goog.require("ol.VectorTile");goog.require("ol.View");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.control");goog.require("ol.control.Attribution");goog.require("ol.control.Control");goog.require("ol.control.FullScreen");goog.require("ol.control.MousePosition");goog.require("ol.control.OverviewMap");goog.require("ol.control.Rotate");goog.require("ol.control.ScaleLine");goog.require("ol.control.Zoom");goog.require("ol.control.ZoomSlider");goog.require("ol.control.ZoomToExtent");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.format.EsriJSON");goog.require("ol.format.Feature");goog.require("ol.format.GML");goog.require("ol.format.GML2");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.GPX");goog.require("ol.format.GeoJSON");goog.require("ol.format.IGC");goog.require("ol.format.KML");goog.require("ol.format.MVT");goog.require("ol.format.OSMXML");goog.require("ol.format.Polyline");goog.require("ol.format.TopoJSON");goog.require("ol.format.WFS");goog.require("ol.format.WKT");goog.require("ol.format.WMSCapabilities");goog.require("ol.format.WMSGetFeatureInfo");goog.require("ol.format.WMTSCapabilities");goog.require("ol.format.filter");goog.require("ol.format.filter.And");goog.require("ol.format.filter.Bbox");goog.require("ol.format.filter.Comparison");goog.require("ol.format.filter.ComparisonBinary");goog.require("ol.format.filter.Contains");goog.require("ol.format.filter.During");goog.require("ol.format.filter.EqualTo");goog.require("ol.format.filter.Filter");goog.require("ol.format.filter.GreaterThan");goog.require("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol.format.filter.Intersects");goog.require("ol.format.filter.IsBetween");goog.require("ol.format.filter.IsLike");goog.require("ol.format.filter.IsNull");goog.require("ol.format.filter.LessThan");goog.require("ol.format.filter.LessThanOrEqualTo");goog.require("ol.format.filter.Not");goog.require("ol.format.filter.NotEqualTo");goog.require("ol.format.filter.Or");goog.require("ol.format.filter.Spatial");goog.require("ol.format.filter.Within");goog.require("ol.geom.Circle");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.has");goog.require("ol.interaction");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragAndDrop");goog.require("ol.interaction.DragBox");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragRotateAndZoom");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.Draw");goog.require("ol.interaction.Extent");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.Modify");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Select");goog.require("ol.interaction.Snap");goog.require("ol.interaction.Translate");goog.require("ol.layer.Base");goog.require("ol.layer.Group");goog.require("ol.layer.Heatmap");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTile");goog.require("ol.loadingstrategy");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.common");goog.require("ol.render");goog.require("ol.render.Event");goog.require("ol.render.Feature");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas.Immediate");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");goog.require("ol.renderer.webgl.ImageLayer");goog.require("ol.renderer.webgl.Map");goog.require("ol.renderer.webgl.TileLayer");goog.require("ol.renderer.webgl.VectorLayer");goog.require("ol.size");goog.require("ol.source.BingMaps");goog.require("ol.source.CartoDB");goog.require("ol.source.Cluster");goog.require("ol.source.Image");goog.require("ol.source.ImageArcGISRest");goog.require("ol.source.ImageCanvas");goog.require("ol.source.ImageMapGuide");goog.require("ol.source.ImageStatic");goog.require("ol.source.ImageVector");goog.require("ol.source.ImageWMS");goog.require("ol.source.OSM");goog.require("ol.source.Raster");goog.require("ol.source.Source");goog.require("ol.source.Stamen");goog.require("ol.source.Tile");goog.require("ol.source.TileArcGISRest");goog.require("ol.source.TileDebug");goog.require("ol.source.TileImage");goog.require("ol.source.TileJSON");goog.require("ol.source.TileUTFGrid");goog.require("ol.source.TileWMS");goog.require("ol.source.UrlTile");goog.require("ol.source.Vector");goog.require("ol.source.VectorTile");goog.require("ol.source.WMTS");goog.require("ol.source.XYZ");goog.require("ol.source.Zoomify");goog.require("ol.style.AtlasManager");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.Image");goog.require("ol.style.RegularShape");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.tilegrid");goog.require("ol.tilegrid.TileGrid");goog.require("ol.tilegrid.WMTS");goog.require("ol.webgl.Context");goog.require("ol.xml");goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code);goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS);goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML);goog.exportSymbol("ol.CanvasMap",ol.CanvasMap,OPENLAYERS);goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS);goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear);goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend);goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach);goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray);goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item);goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength);goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt);goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop);goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push);goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove);goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt);goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt);goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element);goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS);goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS);goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS);goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS);goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS);goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS);goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS);goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS);goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS);goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha);goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta);goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma);goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading);goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking);goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking);goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS);goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS);goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS);goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS);goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS);goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS);goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS);goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS);goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS);goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS);goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS);goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS);goog.exportSymbol("ol.extent.getArea",ol.extent.getArea,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS);goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS);goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS);goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS);goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS);goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS);goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS);goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS);goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS);goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS);goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone);goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry);goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId);goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName);goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle);goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction);goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry);goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle);goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId);goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName);goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS);goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS);goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry);goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude);goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading);goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition);goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection);goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed);goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking);goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions);goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection);goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking);goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions);goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS);goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap);goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians);goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels);goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap);goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS);goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS);goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS);goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS);goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS);goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS);goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage);goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load);goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage);goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS);goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS);goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS);goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS);goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging);goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map);goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState);goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get);goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys);goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties);goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set);goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties);goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset);goog.exportProperty(ol.Object.Event.prototype,"key",ol.Object.Event.prototype.key);goog.exportProperty(ol.Object.Event.prototype,"oldValue",ol.Object.Event.prototype.oldValue);goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS);goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS);goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed);goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent);goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision);goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on);goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once);goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un);goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS);goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement);goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId);goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap);goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset);goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition);goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning);goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement);goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap);goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset);goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition);goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning);goog.exportSymbol("ol.PluggableMap",ol.PluggableMap,OPENLAYERS);goog.exportProperty(ol.PluggableMap.prototype,"addControl",ol.PluggableMap.prototype.addControl);goog.exportProperty(ol.PluggableMap.prototype,"addInteraction",ol.PluggableMap.prototype.addInteraction);goog.exportProperty(ol.PluggableMap.prototype,"addLayer",ol.PluggableMap.prototype.addLayer);goog.exportProperty(ol.PluggableMap.prototype,"addOverlay",ol.PluggableMap.prototype.addOverlay);goog.exportProperty(ol.PluggableMap.prototype,"forEachFeatureAtPixel",ol.PluggableMap.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"getFeaturesAtPixel",ol.PluggableMap.prototype.getFeaturesAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"forEachLayerAtPixel",ol.PluggableMap.prototype.forEachLayerAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"hasFeatureAtPixel",ol.PluggableMap.prototype.hasFeatureAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"getEventCoordinate",ol.PluggableMap.prototype.getEventCoordinate);goog.exportProperty(ol.PluggableMap.prototype,"getEventPixel",ol.PluggableMap.prototype.getEventPixel);goog.exportProperty(ol.PluggableMap.prototype,"getTarget",ol.PluggableMap.prototype.getTarget);goog.exportProperty(ol.PluggableMap.prototype,"getTargetElement",ol.PluggableMap.prototype.getTargetElement);goog.exportProperty(ol.PluggableMap.prototype,"getCoordinateFromPixel",ol.PluggableMap.prototype.getCoordinateFromPixel);goog.exportProperty(ol.PluggableMap.prototype,"getControls",ol.PluggableMap.prototype.getControls);goog.exportProperty(ol.PluggableMap.prototype,"getOverlays",ol.PluggableMap.prototype.getOverlays);goog.exportProperty(ol.PluggableMap.prototype,"getOverlayById",ol.PluggableMap.prototype.getOverlayById);goog.exportProperty(ol.PluggableMap.prototype,"getInteractions",ol.PluggableMap.prototype.getInteractions);goog.exportProperty(ol.PluggableMap.prototype,"getLayerGroup",ol.PluggableMap.prototype.getLayerGroup);goog.exportProperty(ol.PluggableMap.prototype,"getLayers",ol.PluggableMap.prototype.getLayers);goog.exportProperty(ol.PluggableMap.prototype,"getPixelFromCoordinate",ol.PluggableMap.prototype.getPixelFromCoordinate);goog.exportProperty(ol.PluggableMap.prototype,"getSize",ol.PluggableMap.prototype.getSize);goog.exportProperty(ol.PluggableMap.prototype,"getView",ol.PluggableMap.prototype.getView);goog.exportProperty(ol.PluggableMap.prototype,"getViewport",ol.PluggableMap.prototype.getViewport);goog.exportProperty(ol.PluggableMap.prototype,"renderSync",ol.PluggableMap.prototype.renderSync);goog.exportProperty(ol.PluggableMap.prototype,"render",ol.PluggableMap.prototype.render);goog.exportProperty(ol.PluggableMap.prototype,"removeControl",ol.PluggableMap.prototype.removeControl);goog.exportProperty(ol.PluggableMap.prototype,"removeInteraction",ol.PluggableMap.prototype.removeInteraction);goog.exportProperty(ol.PluggableMap.prototype,"removeLayer",ol.PluggableMap.prototype.removeLayer);goog.exportProperty(ol.PluggableMap.prototype,"removeOverlay",ol.PluggableMap.prototype.removeOverlay);goog.exportProperty(ol.PluggableMap.prototype,"setLayerGroup",ol.PluggableMap.prototype.setLayerGroup);goog.exportProperty(ol.PluggableMap.prototype,"setSize",ol.PluggableMap.prototype.setSize);goog.exportProperty(ol.PluggableMap.prototype,"setTarget",ol.PluggableMap.prototype.setTarget);goog.exportProperty(ol.PluggableMap.prototype,"setView",ol.PluggableMap.prototype.setView);goog.exportProperty(ol.PluggableMap.prototype,"updateSize",ol.PluggableMap.prototype.updateSize);goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS);goog.exportSymbol("ol.proj.getPointResolution",ol.proj.getPointResolution,OPENLAYERS);goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS);goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS);goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS);goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS);goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS);goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS);goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS);goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS);goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS);goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS);goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS);goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea);goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance);goog.exportSymbol("ol.Sphere.getLength",ol.Sphere.getLength,OPENLAYERS);goog.exportSymbol("ol.Sphere.getArea",ol.Sphere.getArea,OPENLAYERS);goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord);goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load);goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS);goog.exportProperty(ol.VectorTile.prototype,"getExtent",ol.VectorTile.prototype.getExtent);goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat);goog.exportProperty(ol.VectorTile.prototype,"getFeatures",ol.VectorTile.prototype.getFeatures);goog.exportProperty(ol.VectorTile.prototype,"getProjection",ol.VectorTile.prototype.getProjection);goog.exportProperty(ol.VectorTile.prototype,"setExtent",ol.VectorTile.prototype.setExtent);goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures);goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection);goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader);goog.exportSymbol("ol.View",ol.View,OPENLAYERS);goog.exportProperty(ol.View.prototype,"animate",ol.View.prototype.animate);goog.exportProperty(ol.View.prototype,"getAnimating",ol.View.prototype.getAnimating);goog.exportProperty(ol.View.prototype,"getInteracting",ol.View.prototype.getInteracting);goog.exportProperty(ol.View.prototype,"cancelAnimations",ol.View.prototype.cancelAnimations);goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter);goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution);goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation);goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter);goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent);goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution);goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution);goog.exportProperty(ol.View.prototype,"getMaxZoom",ol.View.prototype.getMaxZoom);goog.exportProperty(ol.View.prototype,"setMaxZoom",ol.View.prototype.setMaxZoom);goog.exportProperty(ol.View.prototype,"getMinZoom",ol.View.prototype.getMinZoom);goog.exportProperty(ol.View.prototype,"setMinZoom",ol.View.prototype.setMinZoom);goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection);goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution);goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions);goog.exportProperty(ol.View.prototype,"getResolutionForExtent",ol.View.prototype.getResolutionForExtent);goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation);goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom);goog.exportProperty(ol.View.prototype,"getZoomForResolution",ol.View.prototype.getZoomForResolution);goog.exportProperty(ol.View.prototype,"getResolutionForZoom",ol.View.prototype.getResolutionForZoom);goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit);goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn);goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate);goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter);goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution);goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation);goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom);goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS);goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS);goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL);goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram);goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution);goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds);goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS);goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS);goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS);goog.exportProperty(ol.style.Circle.prototype,"setRadius",ol.style.Circle.prototype.setRadius);goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS);goog.exportProperty(ol.style.Fill.prototype,"clone",ol.style.Fill.prototype.clone);goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor);goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor);goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS);goog.exportProperty(ol.style.Icon.prototype,"clone",ol.style.Icon.prototype.clone);goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor);goog.exportProperty(ol.style.Icon.prototype,"getColor",ol.style.Icon.prototype.getColor);goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage);goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin);goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc);goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize);goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load);goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS);goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity);goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView);goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation);goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale);goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel);goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity);goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation);goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale);goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS);goog.exportProperty(ol.style.RegularShape.prototype,"clone",ol.style.RegularShape.prototype.clone);goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor);goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle);goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill);goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage);goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin);goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2);goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize);goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke);goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS);goog.exportProperty(ol.style.Stroke.prototype,"clone",ol.style.Stroke.prototype.clone);goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor);goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap);goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash);goog.exportProperty(ol.style.Stroke.prototype,"getLineDashOffset",ol.style.Stroke.prototype.getLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth);goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor);goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap);goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash);goog.exportProperty(ol.style.Stroke.prototype,"setLineDashOffset",ol.style.Stroke.prototype.setLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth);goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS);goog.exportProperty(ol.style.Style.prototype,"clone",ol.style.Style.prototype.clone);goog.exportProperty(ol.style.Style.prototype,"getRenderer",ol.style.Style.prototype.getRenderer);goog.exportProperty(ol.style.Style.prototype,"setRenderer",ol.style.Style.prototype.setRenderer);goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry);goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction);goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill);goog.exportProperty(ol.style.Style.prototype,"setFill",ol.style.Style.prototype.setFill);goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage);goog.exportProperty(ol.style.Style.prototype,"setImage",ol.style.Style.prototype.setImage);goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke);goog.exportProperty(ol.style.Style.prototype,"setStroke",ol.style.Style.prototype.setStroke);goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText);goog.exportProperty(ol.style.Style.prototype,"setText",ol.style.Style.prototype.setText);goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex);goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry);goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex);goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS);goog.exportProperty(ol.style.Text.prototype,"clone",ol.style.Text.prototype.clone);goog.exportProperty(ol.style.Text.prototype,"getExceedLength",ol.style.Text.prototype.getExceedLength);goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont);goog.exportProperty(ol.style.Text.prototype,"getMaxAngle",ol.style.Text.prototype.getMaxAngle);goog.exportProperty(ol.style.Text.prototype,"getPlacement",ol.style.Text.prototype.getPlacement);goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX);goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY);goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill);goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView);goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation);goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale);goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke);goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText);goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign);goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline);goog.exportProperty(ol.style.Text.prototype,"setExceedLength",ol.style.Text.prototype.setExceedLength);goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont);goog.exportProperty(ol.style.Text.prototype,"setMaxAngle",ol.style.Text.prototype.setMaxAngle);goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX);goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY);goog.exportProperty(ol.style.Text.prototype,"setPlacement",ol.style.Text.prototype.setPlacement);goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill);goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation);goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale);goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke);goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText);goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign);goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline);goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS);goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS);goog.exportProperty(ol.source.BingMaps.prototype,"getApiKey",ol.source.BingMaps.prototype.getApiKey);goog.exportProperty(ol.source.BingMaps.prototype,"getImagerySet",ol.source.BingMaps.prototype.getImagerySet);goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS);goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig);goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig);goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig);goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS);goog.exportProperty(ol.source.Cluster.prototype,"getDistance",ol.source.Cluster.prototype.getDistance);goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource);goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance);goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS);goog.exportProperty(ol.source.Image.Event.prototype,"image",ol.source.Image.Event.prototype.image);goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS);goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction);goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS);goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS);goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource);goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle);goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction);goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle);goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS);goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams);goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams);goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS);goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS);goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS);goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation);goog.exportProperty(ol.source.Raster.Event.prototype,"extent",ol.source.Raster.Event.prototype.extent);goog.exportProperty(ol.source.Raster.Event.prototype,"resolution",ol.source.Raster.Event.prototype.resolution);goog.exportProperty(ol.source.Raster.Event.prototype,"data",ol.source.Raster.Event.prototype.data);goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS);goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions);goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo);goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection);goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState);goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh);goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions);goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS);goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS);goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid);goog.exportProperty(ol.source.Tile.Event.prototype,"tile",ol.source.Tile.Event.prototype.tile);goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams);goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS);goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS);goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection);goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS);goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON);goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate);goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution);goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS);goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams);goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams);goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls);goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl);goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls);goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS);goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature);goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures);goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear);goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById);goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat);goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl);goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature);goog.exportProperty(ol.source.Vector.prototype,"setLoader",ol.source.Vector.prototype.setLoader);goog.exportProperty(ol.source.Vector.Event.prototype,"feature",ol.source.Vector.Event.prototype.feature);goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS);goog.exportProperty(ol.source.VectorTile.prototype,"clear",ol.source.VectorTile.prototype.clear);goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS);goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions);goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat);goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer);goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet);goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding);goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle);goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion);goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions);goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS);goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS);goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.ImageLayer",ol.renderer.webgl.ImageLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.Map",ol.renderer.webgl.Map,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.TileLayer",ol.renderer.webgl.TileLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.VectorLayer",ol.renderer.webgl.VectorLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.ImageLayer",ol.renderer.canvas.ImageLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.Map",ol.renderer.canvas.Map,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.TileLayer",ol.renderer.canvas.TileLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.VectorLayer",ol.renderer.canvas.VectorLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.VectorTileLayer",ol.renderer.canvas.VectorTileLayer,OPENLAYERS);goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext);goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState);goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context);goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext);goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get);goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent);goog.exportProperty(ol.render.Feature.prototype,"getId",ol.render.Feature.prototype.getId);goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry);goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties);goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType);goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS);goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature);goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS);goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS);goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode);goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent);goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits);goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit);goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent);goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution);goog.exportSymbol("ol.proj.Units.METERS_PER_UNIT",ol.proj.Units.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS);goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent);goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution);goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity);goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible);goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex);goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent);goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution);goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity);goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible);goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex);goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS);goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers);goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers);goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS);goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius);goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius);goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS);goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource);goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS);goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource);goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap);goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource);goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS);goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload);goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource);goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload);goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError);goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS);goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource);goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle);goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction);goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle);goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS);goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource);goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"features",ol.interaction.DragAndDrop.Event.prototype.features);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"file",ol.interaction.DragAndDrop.Event.prototype.file);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"projection",ol.interaction.DragAndDrop.Event.prototype.projection);goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS);goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"coordinate",ol.interaction.DragBox.Event.prototype.coordinate);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"mapBrowserEvent",ol.interaction.DragBox.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint);goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing);goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend);goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.createBox",ol.interaction.Draw.createBox,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.Event.prototype,"feature",ol.interaction.Draw.Event.prototype.feature);goog.exportSymbol("ol.interaction.Extent",ol.interaction.Extent,OPENLAYERS);goog.exportProperty(ol.interaction.Extent.prototype,"getExtent",ol.interaction.Extent.prototype.getExtent);goog.exportProperty(ol.interaction.Extent.prototype,"setExtent",ol.interaction.Extent.prototype.setExtent);goog.exportProperty(ol.interaction.Extent.Event.prototype,"extent",ol.interaction.Extent.Event.prototype.extent);goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS);goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive);goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap);goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive);goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint);goog.exportProperty(ol.interaction.Modify.Event.prototype,"features",ol.interaction.Modify.Event.prototype.features);goog.exportProperty(ol.interaction.Modify.Event.prototype,"mapBrowserEvent",ol.interaction.Modify.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor);goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures);goog.exportProperty(ol.interaction.Select.prototype,"getHitTolerance",ol.interaction.Select.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer);goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"setHitTolerance",ol.interaction.Select.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap);goog.exportProperty(ol.interaction.Select.Event.prototype,"selected",ol.interaction.Select.Event.prototype.selected);goog.exportProperty(ol.interaction.Select.Event.prototype,"deselected",ol.interaction.Select.Event.prototype.deselected);goog.exportProperty(ol.interaction.Select.Event.prototype,"mapBrowserEvent",ol.interaction.Select.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS);goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature);goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature);goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS);goog.exportProperty(ol.interaction.Translate.prototype,"getHitTolerance",ol.interaction.Translate.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Translate.prototype,"setHitTolerance",ol.interaction.Translate.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Translate.Event.prototype,"features",ol.interaction.Translate.Event.prototype.features);goog.exportProperty(ol.interaction.Translate.Event.prototype,"coordinate",ol.interaction.Translate.Event.prototype.coordinate);goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS);goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone);goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter);goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius);goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType);goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent);goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter);goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius);goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius);goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform);goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS);goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent);goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate);goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale);goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify);goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform);goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS);goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate);goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS);goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone);goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea);goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates);goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType);goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates);goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS);goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone);goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt);goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength);goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType);goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS);goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings);goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS);goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone);goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints);goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS);goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS);goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone);goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates);goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType);goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent);goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS);goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone);goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea);goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates);goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings);goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS);goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate);goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject);goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS);goog.exportSymbol("ol.format.filter.and",ol.format.filter.and,OPENLAYERS);goog.exportSymbol("ol.format.filter.or",ol.format.filter.or,OPENLAYERS);goog.exportSymbol("ol.format.filter.not",ol.format.filter.not,OPENLAYERS);goog.exportSymbol("ol.format.filter.bbox",ol.format.filter.bbox,OPENLAYERS);goog.exportSymbol("ol.format.filter.contains",ol.format.filter.contains,OPENLAYERS);goog.exportSymbol("ol.format.filter.intersects",ol.format.filter.intersects,OPENLAYERS);goog.exportSymbol("ol.format.filter.within",ol.format.filter.within,OPENLAYERS);goog.exportSymbol("ol.format.filter.equalTo",ol.format.filter.equalTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.notEqualTo",ol.format.filter.notEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.lessThan",ol.format.filter.lessThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.lessThanOrEqualTo",ol.format.filter.lessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThan",ol.format.filter.greaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThanOrEqualTo",ol.format.filter.greaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.isNull",ol.format.filter.isNull,OPENLAYERS);goog.exportSymbol("ol.format.filter.between",ol.format.filter.between,OPENLAYERS);goog.exportSymbol("ol.format.filter.like",ol.format.filter.like,OPENLAYERS);goog.exportSymbol("ol.format.filter.during",ol.format.filter.during,OPENLAYERS);goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject);goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS);goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures);goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS);goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS);goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode);goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures);goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode);goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures);goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS);goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature);goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures);goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection);goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures);goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS);goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature);goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures);goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection);goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS);goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature);goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures);goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName);goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks);goog.exportProperty(ol.format.KML.prototype,"readRegion",ol.format.KML.prototype.readRegion);goog.exportProperty(ol.format.KML.prototype,"readRegionFromNode",ol.format.KML.prototype.readRegionFromNode);goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection);goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures);goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS);goog.exportProperty(ol.format.MVT.prototype,"getLastExtent",ol.format.MVT.prototype.getLastExtent);goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures);goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection);goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers);goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS);goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures);goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection);goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS);goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature);goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures);goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry);goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection);goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry);goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS);goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures);goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection);goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures);goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse);goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata);goog.exportSymbol("ol.format.WFS.writeFilter",ol.format.WFS.writeFilter,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature);goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction);goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection);goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS);goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature);goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures);goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry);goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature);goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures);goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry);goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read);goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS);goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures);goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read);goog.exportSymbol("ol.format.filter.And",ol.format.filter.And,OPENLAYERS);goog.exportSymbol("ol.format.filter.Bbox",ol.format.filter.Bbox,OPENLAYERS);goog.exportSymbol("ol.format.filter.Comparison",ol.format.filter.Comparison,OPENLAYERS);goog.exportSymbol("ol.format.filter.ComparisonBinary",ol.format.filter.ComparisonBinary,OPENLAYERS);goog.exportSymbol("ol.format.filter.Contains",ol.format.filter.Contains,OPENLAYERS);goog.exportSymbol("ol.format.filter.During",ol.format.filter.During,OPENLAYERS);goog.exportSymbol("ol.format.filter.EqualTo",ol.format.filter.EqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Filter",ol.format.filter.Filter,OPENLAYERS);goog.exportSymbol("ol.format.filter.GreaterThan",ol.format.filter.GreaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.GreaterThanOrEqualTo",ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Intersects",ol.format.filter.Intersects,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsBetween",ol.format.filter.IsBetween,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsLike",ol.format.filter.IsLike,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsNull",ol.format.filter.IsNull,OPENLAYERS);goog.exportSymbol("ol.format.filter.LessThan",ol.format.filter.LessThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.LessThanOrEqualTo",ol.format.filter.LessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Not",ol.format.filter.Not,OPENLAYERS);goog.exportSymbol("ol.format.filter.NotEqualTo",ol.format.filter.NotEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Or",ol.format.filter.Or,OPENLAYERS);goog.exportSymbol("ol.format.filter.Spatial",ol.format.filter.Spatial,OPENLAYERS);goog.exportSymbol("ol.format.filter.Within",ol.format.filter.Within,OPENLAYERS);goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS);goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS);goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS);goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS);goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS);goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS);goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS);goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type);goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target);goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault);goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation);goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS);goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed);goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS);goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap);goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap);goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget);goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS);goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection);goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection);goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS);goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap);goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS);goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS);goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits);goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits);goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS);goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed);goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent);goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision);goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on);goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once);goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un);goog.exportProperty(ol.PluggableMap.prototype,"get",ol.PluggableMap.prototype.get);goog.exportProperty(ol.PluggableMap.prototype,"getKeys",ol.PluggableMap.prototype.getKeys);goog.exportProperty(ol.PluggableMap.prototype,"getProperties",ol.PluggableMap.prototype.getProperties);goog.exportProperty(ol.PluggableMap.prototype,"set",ol.PluggableMap.prototype.set);goog.exportProperty(ol.PluggableMap.prototype,"setProperties",ol.PluggableMap.prototype.setProperties);goog.exportProperty(ol.PluggableMap.prototype,"unset",ol.PluggableMap.prototype.unset);goog.exportProperty(ol.PluggableMap.prototype,"changed",ol.PluggableMap.prototype.changed);goog.exportProperty(ol.PluggableMap.prototype,"dispatchEvent",ol.PluggableMap.prototype.dispatchEvent);goog.exportProperty(ol.PluggableMap.prototype,"getRevision",ol.PluggableMap.prototype.getRevision);goog.exportProperty(ol.PluggableMap.prototype,"on",ol.PluggableMap.prototype.on);goog.exportProperty(ol.PluggableMap.prototype,"once",ol.PluggableMap.prototype.once);goog.exportProperty(ol.PluggableMap.prototype,"un",ol.PluggableMap.prototype.un);goog.exportProperty(ol.CanvasMap.prototype,"addControl",ol.CanvasMap.prototype.addControl);goog.exportProperty(ol.CanvasMap.prototype,"addInteraction",ol.CanvasMap.prototype.addInteraction);goog.exportProperty(ol.CanvasMap.prototype,"addLayer",ol.CanvasMap.prototype.addLayer);goog.exportProperty(ol.CanvasMap.prototype,"addOverlay",ol.CanvasMap.prototype.addOverlay);goog.exportProperty(ol.CanvasMap.prototype,"forEachFeatureAtPixel",ol.CanvasMap.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"getFeaturesAtPixel",ol.CanvasMap.prototype.getFeaturesAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"forEachLayerAtPixel",ol.CanvasMap.prototype.forEachLayerAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"hasFeatureAtPixel",ol.CanvasMap.prototype.hasFeatureAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"getEventCoordinate",ol.CanvasMap.prototype.getEventCoordinate);goog.exportProperty(ol.CanvasMap.prototype,"getEventPixel",ol.CanvasMap.prototype.getEventPixel);goog.exportProperty(ol.CanvasMap.prototype,"getTarget",ol.CanvasMap.prototype.getTarget);goog.exportProperty(ol.CanvasMap.prototype,"getTargetElement",ol.CanvasMap.prototype.getTargetElement);goog.exportProperty(ol.CanvasMap.prototype,"getCoordinateFromPixel",ol.CanvasMap.prototype.getCoordinateFromPixel);goog.exportProperty(ol.CanvasMap.prototype,"getControls",ol.CanvasMap.prototype.getControls);goog.exportProperty(ol.CanvasMap.prototype,"getOverlays",ol.CanvasMap.prototype.getOverlays);goog.exportProperty(ol.CanvasMap.prototype,"getOverlayById",ol.CanvasMap.prototype.getOverlayById);goog.exportProperty(ol.CanvasMap.prototype,"getInteractions",ol.CanvasMap.prototype.getInteractions);goog.exportProperty(ol.CanvasMap.prototype,"getLayerGroup",ol.CanvasMap.prototype.getLayerGroup);goog.exportProperty(ol.CanvasMap.prototype,"getLayers",ol.CanvasMap.prototype.getLayers);goog.exportProperty(ol.CanvasMap.prototype,"getPixelFromCoordinate",ol.CanvasMap.prototype.getPixelFromCoordinate);goog.exportProperty(ol.CanvasMap.prototype,"getSize",ol.CanvasMap.prototype.getSize);goog.exportProperty(ol.CanvasMap.prototype,"getView",ol.CanvasMap.prototype.getView);goog.exportProperty(ol.CanvasMap.prototype,"getViewport",ol.CanvasMap.prototype.getViewport);goog.exportProperty(ol.CanvasMap.prototype,"renderSync",ol.CanvasMap.prototype.renderSync);goog.exportProperty(ol.CanvasMap.prototype,"render",ol.CanvasMap.prototype.render);goog.exportProperty(ol.CanvasMap.prototype,"removeControl",ol.CanvasMap.prototype.removeControl);goog.exportProperty(ol.CanvasMap.prototype,"removeInteraction",ol.CanvasMap.prototype.removeInteraction);goog.exportProperty(ol.CanvasMap.prototype,"removeLayer",ol.CanvasMap.prototype.removeLayer);goog.exportProperty(ol.CanvasMap.prototype,"removeOverlay",ol.CanvasMap.prototype.removeOverlay);goog.exportProperty(ol.CanvasMap.prototype,"setLayerGroup",ol.CanvasMap.prototype.setLayerGroup);goog.exportProperty(ol.CanvasMap.prototype,"setSize",ol.CanvasMap.prototype.setSize);goog.exportProperty(ol.CanvasMap.prototype,"setTarget",ol.CanvasMap.prototype.setTarget);goog.exportProperty(ol.CanvasMap.prototype,"setView",ol.CanvasMap.prototype.setView);goog.exportProperty(ol.CanvasMap.prototype,"updateSize",ol.CanvasMap.prototype.updateSize);goog.exportProperty(ol.CanvasMap.prototype,"get",ol.CanvasMap.prototype.get);goog.exportProperty(ol.CanvasMap.prototype,"getKeys",ol.CanvasMap.prototype.getKeys);goog.exportProperty(ol.CanvasMap.prototype,"getProperties",ol.CanvasMap.prototype.getProperties);goog.exportProperty(ol.CanvasMap.prototype,"set",ol.CanvasMap.prototype.set);goog.exportProperty(ol.CanvasMap.prototype,"setProperties",ol.CanvasMap.prototype.setProperties);goog.exportProperty(ol.CanvasMap.prototype,"unset",ol.CanvasMap.prototype.unset);goog.exportProperty(ol.CanvasMap.prototype,"changed",ol.CanvasMap.prototype.changed);goog.exportProperty(ol.CanvasMap.prototype,"dispatchEvent",ol.CanvasMap.prototype.dispatchEvent);goog.exportProperty(ol.CanvasMap.prototype,"getRevision",ol.CanvasMap.prototype.getRevision);goog.exportProperty(ol.CanvasMap.prototype,"on",ol.CanvasMap.prototype.on);goog.exportProperty(ol.CanvasMap.prototype,"once",ol.CanvasMap.prototype.once);goog.exportProperty(ol.CanvasMap.prototype,"un",ol.CanvasMap.prototype.un);goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get);goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys);goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties);goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set);goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties);goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset);goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed);goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent);goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision);goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on);goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once);goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un);goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type);goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target);goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault);goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation);goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get);goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys);goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set);goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset);goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed);goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent);goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision);goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on);goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once);goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un);goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get);goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys);goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties);goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set);goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties);goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset);goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed);goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent);goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision);goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on);goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once);goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un);goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get);goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys);goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties);goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set);goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties);goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset);goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed);goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent);goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision);goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on);goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once);goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un);goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord);goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load);goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl);goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction);goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer);goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay);goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"getFeaturesAtPixel",ol.Map.prototype.getFeaturesAtPixel);goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel);goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate);goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel);goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget);goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement);goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel);goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls);goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays);goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById);goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions);goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup);goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers);goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate);goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize);goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView);goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport);goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync);goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render);goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl);goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction);goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer);goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay);goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup);goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize);goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget);goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView);goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize);goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get);goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys);goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties);goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set);goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties);goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset);goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed);goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent);goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision);goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on);goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once);goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un);goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type);goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target);goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault);goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map);goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type);goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target);goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target);goog.exportProperty(ol.Object.Event.prototype,"type",ol.Object.Event.prototype.type);goog.exportProperty(ol.Object.Event.prototype,"target",ol.Object.Event.prototype.target);goog.exportProperty(ol.Object.Event.prototype,"preventDefault",ol.Object.Event.prototype.preventDefault);goog.exportProperty(ol.Object.Event.prototype,"stopPropagation",ol.Object.Event.prototype.stopPropagation);goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get);goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys);goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties);goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set);goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties);goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset);goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed);goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent);goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision);goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on);goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once);goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un);goog.exportProperty(ol.VectorImageTile.prototype,"getTileCoord",ol.VectorImageTile.prototype.getTileCoord);goog.exportProperty(ol.VectorImageTile.prototype,"load",ol.VectorImageTile.prototype.load);goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord);goog.exportProperty(ol.VectorTile.prototype,"load",ol.VectorTile.prototype.load);goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get);goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys);goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties);goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set);goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties);goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset);goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed);goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent);goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision);goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on);goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once);goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un);goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution);goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView);goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation);goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale);goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel);goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation);goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale);goog.exportProperty(ol.style.Circle.prototype,"clone",ol.style.Circle.prototype.clone);goog.exportProperty(ol.style.Circle.prototype,"getAngle",ol.style.Circle.prototype.getAngle);goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill);goog.exportProperty(ol.style.Circle.prototype,"getPoints",ol.style.Circle.prototype.getPoints);goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius);goog.exportProperty(ol.style.Circle.prototype,"getRadius2",ol.style.Circle.prototype.getRadius2);goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke);goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity);goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView);goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation);goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale);goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel);goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity);goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation);goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale);goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity);goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView);goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation);goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale);goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel);goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity);goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation);goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale);goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get);goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys);goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties);goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set);goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties);goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset);goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed);goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent);goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision);goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on);goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once);goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un);goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions);goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo);goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection);goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState);goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh);goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions);goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get);goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys);goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties);goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set);goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties);goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset);goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed);goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent);goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision);goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on);goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once);goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un);goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid);goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh);goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo);goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection);goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState);goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get);goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys);goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties);goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set);goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties);goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset);goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed);goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent);goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision);goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on);goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once);goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un);goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls);goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl);goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls);goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid);goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh);goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions);goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo);goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection);goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState);goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions);goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get);goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys);goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties);goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set);goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties);goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset);goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed);goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent);goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision);goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on);goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once);goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un);goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls);goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl);goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls);goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid);goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh);goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo);goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState);goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get);goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys);goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties);goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set);goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties);goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset);goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed);goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent);goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision);goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on);goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once);goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un);goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection);goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls);goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl);goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls);goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid);goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh);goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions);goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo);goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection);goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState);goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions);goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get);goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys);goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties);goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set);goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties);goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset);goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed);goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent);goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision);goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on);goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once);goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un);goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls);goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl);goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls);goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid);goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh);goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo);goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState);goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get);goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys);goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties);goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set);goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties);goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset);goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed);goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent);goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision);goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on);goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once);goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un);goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions);goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo);goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection);goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState);goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh);goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions);goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get);goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys);goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties);goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set);goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties);goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset);goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed);goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent);goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision);goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on);goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once);goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un);goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature);goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures);goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById);goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat);goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl);goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature);goog.exportProperty(ol.source.Cluster.prototype,"setLoader",ol.source.Cluster.prototype.setLoader);goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions);goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo);goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection);goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState);goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh);goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions);goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get);goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys);goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties);goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set);goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties);goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset);goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed);goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent);goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision);goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on);goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once);goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un);goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions);goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo);goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection);goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState);goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh);goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions);goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get);goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys);goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties);goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set);goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties);goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset);goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed);goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent);goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision);goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on);goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once);goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un);goog.exportProperty(ol.source.Image.Event.prototype,"type",ol.source.Image.Event.prototype.type);goog.exportProperty(ol.source.Image.Event.prototype,"target",ol.source.Image.Event.prototype.target);goog.exportProperty(ol.source.Image.Event.prototype,"preventDefault",ol.source.Image.Event.prototype.preventDefault);goog.exportProperty(ol.source.Image.Event.prototype,"stopPropagation",ol.source.Image.Event.prototype.stopPropagation);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un);goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection);goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState);goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh);goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get);goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set);goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset);goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed);goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision);goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on);goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once);goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState);goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset);goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed);goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision);goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on);goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once);goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un);goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo);goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection);goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState);goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh);goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get);goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys);goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set);goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset);goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed);goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision);goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on);goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once);goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un);goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo);goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection);goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState);goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh);goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get);goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys);goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties);goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set);goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties);goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset);goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed);goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision);goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on);goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once);goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un);goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo);goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection);goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState);goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh);goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get);goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys);goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set);goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset);goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed);goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision);goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on);goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once);goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un);goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection);goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls);goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl);goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls);goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid);goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh);goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions);goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo);goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection);goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState);goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions);goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get);goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys);goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties);goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set);goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties);goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset);goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed);goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent);goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision);goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on);goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once);goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un);goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions);goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo);goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection);goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState);goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh);goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions);goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get);goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys);goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties);goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set);goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties);goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset);goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed);goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent);goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision);goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on);goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once);goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un);goog.exportProperty(ol.source.Raster.Event.prototype,"type",ol.source.Raster.Event.prototype.type);goog.exportProperty(ol.source.Raster.Event.prototype,"target",ol.source.Raster.Event.prototype.target);goog.exportProperty(ol.source.Raster.Event.prototype,"preventDefault",ol.source.Raster.Event.prototype.preventDefault);goog.exportProperty(ol.source.Raster.Event.prototype,"stopPropagation",ol.source.Raster.Event.prototype.stopPropagation);goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls);goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl);goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls);goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid);goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh);goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions);goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo);goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection);goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState);goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions);goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get);goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys);goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties);goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set);goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties);goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset);goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed);goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent);goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision);goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on);goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once);goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un);goog.exportProperty(ol.source.Tile.Event.prototype,"type",ol.source.Tile.Event.prototype.type);goog.exportProperty(ol.source.Tile.Event.prototype,"target",ol.source.Tile.Event.prototype.target);goog.exportProperty(ol.source.Tile.Event.prototype,"preventDefault",ol.source.Tile.Event.prototype.preventDefault);goog.exportProperty(ol.source.Tile.Event.prototype,"stopPropagation",ol.source.Tile.Event.prototype.stopPropagation);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid);goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset);goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed);goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on);goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once);goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un);goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid);goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh);goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo);goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection);goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState);goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get);goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys);goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties);goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set);goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties);goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset);goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed);goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent);goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision);goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on);goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once);goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un);goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls);goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl);goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls);goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid);goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh);goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo);goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState);goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get);goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys);goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties);goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set);goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties);goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset);goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed);goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent);goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision);goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on);goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once);goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid);goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset);goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed);goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision);goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on);goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once);goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un);goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls);goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl);goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls);goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid);goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh);goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo);goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState);goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get);goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys);goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties);goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set);goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties);goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset);goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed);goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision);goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on);goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once);goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un);goog.exportProperty(ol.source.Vector.Event.prototype,"type",ol.source.Vector.Event.prototype.type);goog.exportProperty(ol.source.Vector.Event.prototype,"target",ol.source.Vector.Event.prototype.target);goog.exportProperty(ol.source.Vector.Event.prototype,"preventDefault",ol.source.Vector.Event.prototype.preventDefault);goog.exportProperty(ol.source.Vector.Event.prototype,"stopPropagation",ol.source.Vector.Event.prototype.stopPropagation);goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls);goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl);goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls);goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid);goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh);goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo);goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection);goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState);goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get);goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys);goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties);goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set);goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties);goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset);goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed);goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision);goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on);goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once);goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un);goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls);goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl);goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls);goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid);goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh);goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions);goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo);goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection);goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState);goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions);goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get);goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys);goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties);goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set);goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties);goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset);goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed);goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent);goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision);goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on);goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once);goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un);goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls);goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl);goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls);goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid);goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh);goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo);goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState);goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get);goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys);goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties);goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set);goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties);goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset);goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed);goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent);goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision);goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on);goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once);goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un);goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord);goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load);goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed);goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on);goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once);goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"changed",ol.renderer.canvas.IntermediateCanvas.prototype.changed);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"dispatchEvent",ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"getRevision",ol.renderer.canvas.IntermediateCanvas.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"on",ol.renderer.canvas.IntermediateCanvas.prototype.on);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"once",ol.renderer.canvas.IntermediateCanvas.prototype.once);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"un",ol.renderer.canvas.IntermediateCanvas.prototype.un);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un);goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type);goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target);goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault);goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation);goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type);goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target);goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault);goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation);goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get);goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys);goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties);goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set);goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties);goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset);goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed);goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent);goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision);goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on);goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once);goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un);goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent);goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution);goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity);goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible);goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex);goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent);goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution);goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity);goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible);goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex);goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get);goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys);goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties);goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set);goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties);goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset);goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed);goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent);goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision);goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on);goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once);goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un);goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent);goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity);goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible);goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex);goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent);goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity);goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible);goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex);goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get);goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys);goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties);goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set);goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties);goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset);goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed);goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision);goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on);goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once);goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un);goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap);goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource);goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent);goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity);goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible);goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex);goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent);goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity);goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible);goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex);goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get);goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys);goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties);goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set);goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties);goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset);goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed);goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent);goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision);goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on);goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once);goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un);goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction);goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap);goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get);goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys);goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set);goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset);goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed);goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent);goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision);goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on);goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once);goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un);goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap);goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource);goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent);goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution);goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity);goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible);goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex);goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent);goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution);goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity);goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible);goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex);goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get);goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys);goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties);goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set);goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties);goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset);goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed);goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent);goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision);goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on);goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once);goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un);goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap);goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource);goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent);goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity);goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible);goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex);goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent);goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity);goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible);goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex);goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get);goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys);goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties);goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set);goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties);goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset);goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed);goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent);goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision);goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on);goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once);goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction);goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap);goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource);goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get);goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys);goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set);goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset);goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed);goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision);goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on);goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once);goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un);goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get);goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys);goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set);goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset);goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed);goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision);goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on);goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once);goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"type",ol.interaction.DragAndDrop.Event.prototype.type);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"target",ol.interaction.DragAndDrop.Event.prototype.target);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"preventDefault",ol.interaction.DragAndDrop.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"stopPropagation",ol.interaction.DragAndDrop.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive);goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap);goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive);goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get);goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys);goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set);goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset);goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed);goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision);goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on);goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once);goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un);goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive);goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap);goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive);goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get);goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys);goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set);goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset);goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed);goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision);goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on);goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once);goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"type",ol.interaction.DragBox.Event.prototype.type);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"target",ol.interaction.DragBox.Event.prototype.target);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"preventDefault",ol.interaction.DragBox.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"stopPropagation",ol.interaction.DragBox.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive);goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap);goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive);goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get);goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys);goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set);goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset);goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed);goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision);goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on);goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once);goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un);goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap);goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get);goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set);goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset);goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed);goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on);goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once);goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un);goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry);goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get);goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set);goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset);goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed);goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on);goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once);goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un);goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive);goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap);goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive);goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get);goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys);goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties);goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set);goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties);goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset);goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed);goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision);goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on);goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once);goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un);goog.exportProperty(ol.interaction.Draw.Event.prototype,"type",ol.interaction.Draw.Event.prototype.type);goog.exportProperty(ol.interaction.Draw.Event.prototype,"target",ol.interaction.Draw.Event.prototype.target);goog.exportProperty(ol.interaction.Draw.Event.prototype,"preventDefault",ol.interaction.Draw.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Draw.Event.prototype,"stopPropagation",ol.interaction.Draw.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Extent.prototype,"getActive",ol.interaction.Extent.prototype.getActive);goog.exportProperty(ol.interaction.Extent.prototype,"getMap",ol.interaction.Extent.prototype.getMap);goog.exportProperty(ol.interaction.Extent.prototype,"setActive",ol.interaction.Extent.prototype.setActive);goog.exportProperty(ol.interaction.Extent.prototype,"get",ol.interaction.Extent.prototype.get);goog.exportProperty(ol.interaction.Extent.prototype,"getKeys",ol.interaction.Extent.prototype.getKeys);goog.exportProperty(ol.interaction.Extent.prototype,"getProperties",ol.interaction.Extent.prototype.getProperties);goog.exportProperty(ol.interaction.Extent.prototype,"set",ol.interaction.Extent.prototype.set);goog.exportProperty(ol.interaction.Extent.prototype,"setProperties",ol.interaction.Extent.prototype.setProperties);goog.exportProperty(ol.interaction.Extent.prototype,"unset",ol.interaction.Extent.prototype.unset);goog.exportProperty(ol.interaction.Extent.prototype,"changed",ol.interaction.Extent.prototype.changed);goog.exportProperty(ol.interaction.Extent.prototype,"dispatchEvent",ol.interaction.Extent.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Extent.prototype,"getRevision",ol.interaction.Extent.prototype.getRevision);goog.exportProperty(ol.interaction.Extent.prototype,"on",ol.interaction.Extent.prototype.on);goog.exportProperty(ol.interaction.Extent.prototype,"once",ol.interaction.Extent.prototype.once);goog.exportProperty(ol.interaction.Extent.prototype,"un",ol.interaction.Extent.prototype.un);goog.exportProperty(ol.interaction.Extent.Event.prototype,"type",ol.interaction.Extent.Event.prototype.type);goog.exportProperty(ol.interaction.Extent.Event.prototype,"target",ol.interaction.Extent.Event.prototype.target);goog.exportProperty(ol.interaction.Extent.Event.prototype,"preventDefault",ol.interaction.Extent.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Extent.Event.prototype,"stopPropagation",ol.interaction.Extent.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un);goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive);goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap);goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive);goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get);goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys);goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties);goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set);goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties);goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset);goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed);goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision);goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on);goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once);goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un);goog.exportProperty(ol.interaction.Modify.Event.prototype,"type",ol.interaction.Modify.Event.prototype.type);goog.exportProperty(ol.interaction.Modify.Event.prototype,"target",ol.interaction.Modify.Event.prototype.target);goog.exportProperty(ol.interaction.Modify.Event.prototype,"preventDefault",ol.interaction.Modify.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Modify.Event.prototype,"stopPropagation",ol.interaction.Modify.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset);goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed);goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision);goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on);goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once);goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset);goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed);goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision);goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on);goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once);goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un);goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive);goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap);goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive);goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get);goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys);goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties);goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set);goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties);goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset);goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed);goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision);goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on);goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once);goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un);goog.exportProperty(ol.interaction.Select.Event.prototype,"type",ol.interaction.Select.Event.prototype.type);goog.exportProperty(ol.interaction.Select.Event.prototype,"target",ol.interaction.Select.Event.prototype.target);goog.exportProperty(ol.interaction.Select.Event.prototype,"preventDefault",ol.interaction.Select.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Select.Event.prototype,"stopPropagation",ol.interaction.Select.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive);goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap);goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive);goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get);goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys);goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties);goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set);goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties);goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset);goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed);goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision);goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on);goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once);goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un);goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive);goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap);goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive);goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get);goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys);goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties);goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set);goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties);goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset);goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed);goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision);goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on);goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once);goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un);goog.exportProperty(ol.interaction.Translate.Event.prototype,"type",ol.interaction.Translate.Event.prototype.type);goog.exportProperty(ol.interaction.Translate.Event.prototype,"target",ol.interaction.Translate.Event.prototype.target);goog.exportProperty(ol.interaction.Translate.Event.prototype,"preventDefault",ol.interaction.Translate.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Translate.Event.prototype,"stopPropagation",ol.interaction.Translate.Event.prototype.stopPropagation);goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get);goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys);goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties);goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set);goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties);goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset);goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed);goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision);goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on);goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once);goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un);goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout);goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate);goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale);goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint);goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent);goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify);goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get);goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys);goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties);goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set);goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties);goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset);goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed);goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent);goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision);goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on);goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once);goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale);goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify);goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset);goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed);goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision);goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on);goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once);goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un);goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout);goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate);goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale);goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint);goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent);goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify);goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform);goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get);goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys);goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set);goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset);goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed);goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent);goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision);goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on);goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once);goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un);goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout);goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate);goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale);goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent);goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify);goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform);goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get);goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys);goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties);goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set);goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties);goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset);goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed);goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision);goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on);goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once);goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un);goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout);goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate);goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale);goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify);goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform);goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get);goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys);goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set);goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset);goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed);goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision);goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on);goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once);goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un);goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout);goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate);goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale);goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify);goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform);goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get);goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys);goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set);goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset);goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed);goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision);goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on);goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once);goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout);goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify);goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform);goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset);goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed);goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision);goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on);goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once);goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un);goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout);goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate);goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale);goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint);goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent);goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify);goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform);goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get);goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys);goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties);goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set);goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties);goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset);goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed);goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent);goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision);goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on);goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once);goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un);goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout);goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate);goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale);goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent);goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify);goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform);goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get);goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys);goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties);goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set);goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties);goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset);goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed);goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision);goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on);goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once);goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un);goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures);goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures);goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures);goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get);goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys);goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties);goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set);goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties);goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset);goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed);goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent);goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision);goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on);goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once);goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un);goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap);goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap);goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget);goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get);goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys);goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties);goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set);goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties);goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset);goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed);goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent);goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision);goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on);goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once);goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un);goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap);goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap);goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget);goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get);goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys);goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties);goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set);goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties);goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset);goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed);goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent);goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision);goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on);goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once);goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un);goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap);goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap);goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget);goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get);goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys);goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties);goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set);goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties);goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset);goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed);goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent);goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision);goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on);goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once);goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un);goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget);goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get);goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys);goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set);goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset);goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed);goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent);goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision);goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on);goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once);goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un);goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap);goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap);goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget);goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get);goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys);goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties);goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set);goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties);goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset);goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed);goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent);goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision);goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on);goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once);goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un);goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget);goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get);goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys);goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set);goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset);goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed);goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent);goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision);goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on);goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once);goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un);goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap);goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap);goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget);goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get);goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys);goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties);goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set);goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties);goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset);goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed);goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent);goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision);goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on);goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once);goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un);goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget);goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get);goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys);goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set);goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset);goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed);goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision);goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on);goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once);goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget);goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset);goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed);goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision);goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on);goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once);goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un);ol.VERSION="v4.5.0";OPENLAYERS.ol=ol;return OPENLAYERS.ol});
//# sourceMappingURL=ol.min.js.map
