define ("mod_treasurehunt/jquery.truncate",["jquery"],function(a){var b=/(\s*\S+|\s)$/,c=/^(\S*)/;a.truncate=function(b,c){return a("<div></div>").append(b).truncate(c).html()};a.fn.truncate=function(d){if(a.isNumeric(d))d={length:d};var e=a.extend({},a.truncate.defaults,d);return this.each(function(){var d=a(this);if(e.noBreaks)d.find("br").replaceWith(" ");var f=d.text(),g=f.length-e.length;if(e.stripTags)d.text(f);if(e.words&&0<g){var h=f.slice(0,e.length).replace(b,"").length;if(e.keepFirstWord&&0===h){g=f.length-c.exec(f)[0].length-1}else{g=f.length-h-1}}if(0>g||!g&&!e.truncated)return;a.each(d.contents().get().reverse(),function(b,c){var d=a(c),f=d.text(),h=f.length;if(h<=g){e.truncated=!0;g-=h;d.remove();return}if(3===c.nodeType){if(e.finishBlock){a(c.splitText(h)).replaceWith(e.ellipsis)}else{a(c.splitText(h-g-1)).replaceWith(e.ellipsis)}return!1}d.truncate(a.extend(e,{length:h-g}));return!1})})};a.truncate.defaults={stripTags:!1,words:!1,keepFirstWord:!1,noBreaks:!1,finishBlock:!1,length:1/0,ellipsis:"\u2026"}});
//# sourceMappingURL=jquery.truncate.min.js.map
